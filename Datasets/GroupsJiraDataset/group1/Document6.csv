id,love,joy,surprise,anger,sadness,fear,notes,comment N,comment N-1,comment N-2,...,comment 2,comment1,,,,,,,,,,,,,,,,,,
34239,,,,,,,,Fixed in revision 406707.,This patch deletes the existing overview file and redirects the links to the Wiki.,,,,,,,,,,,,,,,,,,,,,,
80924,,,,,,,,The changes looks good for me. Reviewed with no commentaries.,,,,,,,,,,,,,,,,,,,,,,,
68305,,,,,,,,Updated the binding components' parent pom.xml http://svn.apache.org/viewvc?view=rev&revision=557983,,,,,,,,,,,,,,,,,,,,,,,
12310,,,,,,,,Very cool. Thank you.,Patch is in CVS. Can you verify? Thanks.,My bad. The last line should be MAKE_SHARED_LOC= ${CXX} $(CXXFLAGS) -D${PLATFORM} -dynamiclib -prebind -seg1addr 0x40000000 -compatibility_version 1 -current_version 1.7 -install_name ${LOC_LIBNAME}${SHLIBSUFFIX},,,,,,,,,,,,,,,,,,,,,
918,,,,,,,,You should also consider using Avro for the marshalling/unmarshal of the records. http://avro.apache.org/ Lots of benefits - in particular it's cross-language. Re writing to disk - perhaps just re-use the ZK WAL code and write to a disk that's not storing the transactional log.,,,,,,,,,,,,,,,,,,,,,,,
31087,,,,,,,,Patch applied. Thanks Florian.,patch,,,,,,,,,,,,,,,,,,,,,,
75121,,,,,,,,[[ Old comment; sent by email on Mon; 2 Oct 2006 23:39:22 +0200 ]] Rahul; I'll fax it in tomorrow (I'm in GMT+1; soon midnight). Hallvard,Here is the procedure; just in case (helps if a project team member makes the JIRA upload request): http://maven.apache.org/guides/mini/guide-ibiblio-upload.html,The pnuts developer seemed interested (had already thought of) putting pnuts in a Maven repository; but has not yet commented on when it may happen. In the meantime; I'll work on the unit tests (I've already found and fixed a critical bug) and look at patches for the site documentation.,I can confirm receipt of your ICLA. Thanks for sending it in. Once pnuts is in the Maven repository; and a complete patch is available (ideally all related changes put together in a single patch file); we can make progress here.,Thanks. Reponses numbered same as earlier post: 3) The site sources are in the xdocs/ directory: http://svn.apache.org/repos/asf/jakarta/commons/proper/scxml/trunk/xdocs/ You can submit patches to the site sources; see this page for more on producing patches in the appropriate format: http://jakarta.apache.org/commons/patches.html 4) Let us know how that goes. I will follow up and confirm receipt of the ICLA (will require a few days).,I understand the need for quality assurance and I hope I can provide the necessary level. 1) OK. 2) OK; I'll have a look at the existing ones and copy what I need. 3) Who'll do that? 4) I don't know; I'll ask the list (yes; I'm subscribed; it's fairly quiet; since pnuts is mature and well documentet). The ICLA was faxed 10 hours ago.,Thanks for your time and the changes. Few comments: 1) The addition of Javadocs has introduced @author tags. Commons SCXML code does not contain those tags; the only attribution is the list on the team page on the website. The tags will need to be removed before this gets into the codebase; if it is accepted. 2) There are no test cases. Please look at the test suite and provide some test SCXML documents using pnuts along with the JUnit test cases. 3) We will also need to update the site documentation (such as the section on contexts and evaluators in the user guide) at the same time. 4) Is pnuts in a Maven 1 repository somewhere? If not; we will need that to happen first (might involve pinging the pnuts lists; are you subscribed there?). Finally; please let us know when your ICLA is sent and we can come back to this ticket then.,Slightly updated PnutsEvaluator.,Supporting Context implementation.,The Evaluator implementation.,Could you also fill out an Individual Contributor License Agreement (ICLA) for this? That is here (the fax number is on the form itself; you can mail it in too if you want): http://www.apache.org/licenses/icla.txt While it might seem like a barrier; its a one-time thing; and is needed for contributions such as this one which may contain new source files; for provenance and pedigree reasons. Let us know if you have any questions; thanks.,Thanks for your time and contribution; looks good. Additionally; it would be very nice of you if you could please: a) Add the ASLv2 license header to the file (see any other Commons SCXML file) b) Separate the Evaluator and Context impl in two separate source files (each with license headers; like the jsp or jexl packages) c) Remove any non Commons SCXML class references from the code d) Correct package name (suggest org.apache.commons.scxml.env.pnuts) e) Add Javadocs That would probably complete the contribution; IMO (barring anything I've missed here). Thanks again.,This simple Evaluator implementation adds support for using pnuts as the scripting language for SCXML. Note that the attached file implements a slightly modified Evaluator interface; where the newContext method takes an addition TransitionTarget parameter. However; this is not important for the actual implementation; as it is only used for caching the context for the purpose of other parts of my project. Similarly; there is a reference to and use of an additional class; ScxmlPnutsXswtRuntime class; that may be removed.,,,,,,,,,,,
76643,,,,,,,,Closed issues related to Roller 5.0 release.,Filed ROL-1831 for Planet.,Suggested fix for Roller Weblogger is now in trunk at revision 816262 Additional notes: - Planet MailUtil still uses static version. Has no non-static transport instance there. Planet needs more extensive changes to use a configured mail provider. - Static send would also call saveChanges() but that is a no-op for the transient message case.,I can confirm; that åÊ- this is an issue also on Tomcat. It has nothing to do with the container; though åÊ- the fix suggested by Stephan works åÊ- and should be included in the trunk,,,,,,,,,,,,,,,,,,,,
11773,,,,,,,,Triage: Not for Xalan-J 2.2. We still need to evaluate this in light of Gary's point: exactly what location should we report for result tree events in this kind of situation? I'm not sure we intended to set the locator in this particular situation. Also; if we never set the locator; then we're still following the SAX spec - while this is somewhat useful; it's still an optional feature.,Just classifying bugs as Keywords:APIBug == bugs that pertain to specific API calls or advanced usage of Xalan.,Better bug categorization: API/programmatic problems versus stylesheet execution/output creation problems.,MyCH is being called for result tree events. These are nodes that are being built by the transformer on the fly. What location would you like the Locator to show? Do you want to know the location information for the XSLT element (within cities.xsl) giving rise to this output element? You say that if you remove the XMLFilter; everything works properly. I can't tell from your posting what this new code would look like but I suspect it removes the transformer from the picture altogether and you are just receiving SAX events from the parse of the input cities.xml. This; of course; is a very different situation since your elements to content handler are coming directly from cities.xml and can be traced back to a location therein. Gary,Here is the program that produces this bug. Take any xml file and xslt file as input. The output that you would find is only 'startDocument() Invoked'. public class Test { åÊåÊåÊåÊpublic static void main(String[] argv) { åÊåÊåÊåÊåÊåÊåÊåÊtry { åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊTransformerFactory tfactory = TransformerFactory.newInstance(); åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊXMLReader reader = XMLReaderFactory.createXMLReader(); åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊreader.setContentHandler( new MyCH()); åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊSAXTransformerFactory saxTFactory = (SAXTransformerFactory)tfactory; åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊXMLFilter filter = åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊsaxTFactory.newXMLFilter(new StreamSource('cities.xsl')); åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊfilter.setParent(reader); åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊfilter.parse(new InputSource('cities.xml')); åÊåÊåÊåÊåÊåÊåÊåÊ} catch (Exception e) { åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊe.printStackTrace(); åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊSystem.exit(0); åÊåÊåÊåÊåÊåÊåÊåÊ} åÊåÊåÊåÊ} //end of main() }//End of class class MyCH extends DefaultHandler { åÊåÊåÊåÊLocator locator = new LocatorImpl(); åÊåÊåÊåÊpublic void setDocumentLocator(Locator l) { åÊåÊåÊåÊåÊåÊåÊåÊthis.locator = l; åÊåÊåÊåÊåÊåÊåÊåÊSystem.out.println('setDocumentLocator() invoked'); åÊåÊåÊåÊ} åÊåÊåÊåÊpublic void startDocument() { åÊåÊåÊåÊåÊåÊåÊåÊSystem.out.println('startDocument() invoked'); åÊåÊåÊåÊ} },,,,,,,,,,,,,,,,,,,
27656,,,,,,,,We'll look at the issue for 1.1,,,,,,,,,,,,,,,,,,,,,,,
14849,,,,,,,,Reporter asked for this to be closed.,Could somebody close this issue ; please?,Not a bug; but relates to a real bug. When using targets; you cannot use loading text in ajax widgets. To make this works; just set showLoadingText='false' at all involved widgets. Sorry guys to report an already catched bug.,,,,,,,,,,,,,,,,,,,,,
3399,,,,,,,,Changed MULTI_TEXTVALUE_SEPARATOR into a property configurable by injection of constant named xwork.validatorfileparser.multi_textvalue_separator. This makes it possible to have empty String as 'separator' if it apllies to your particular platform; without breaking the backward compatibility and changing default behaviour.,Rene; could you please have a look at this. Thanks; Rainer,,,,,,,,,,,,,,,,,,,,,,
58715,,,,,,,,Fixed in revision 1073288,,,,,,,,,,,,,,,,,,,,,,,
8202,,,,,,,,*** Bug 8704 has been marked as a duplicate of this bug. ***,*** Bug 7134 has been marked as a duplicate of this bug. ***,Kent; åÊåÊåÊåÊYour patch (a good catch) is in CVS; please help verify and close the bug; thanks. Rgds; Peiyong,,,,,,,,,,,,,,,,,,,,,
41306,,,,,,,,The above code is a part of a dataTable of course ...,I used the latest build taken from few days ago. This is a code example: ------------------------------------- åÊåÊ<f:facet name='footer'> åÊåÊåÊåÊ<h:panelGroup> åÊåÊåÊåÊåÊåÊ<h:outputLink value='test_profile_details.jsp'> åÊåÊåÊåÊåÊåÊåÊåÊ<h:outputText value='New' /> åÊåÊåÊåÊåÊåÊ</h:outputLink> åÊåÊåÊåÊåÊåÊ<f:verbatim>&nbsp;|&nbsp;</f:verbatim> åÊåÊåÊåÊåÊåÊ<h:commandLink value='Edit' action='#{test_profile_manage.editAction}' åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊonclick='if(!checkAction('profileTable';'edit')){return false;}'/> åÊåÊåÊåÊåÊåÊ<f:verbatim>&nbsp;|&nbsp;</f:verbatim> åÊåÊåÊåÊåÊåÊ<t:commandLink value='Set Inactive' action='#{test_profile_manage.setInactiveAction}' åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊonclick='if (!confirm('Are you sure you would like to set Profile inactive?')) { return false }'/> åÊåÊåÊåÊ</h:panelGroup> åÊåÊ</f:facet>,that sounds pretty much like TOMAHAWK-1052 have you used the latest nightly build of the sandbox? if so; could you paste an example JSP/facelets snipped to show how you embedded the verbatim tags in the table. Thanks in advance,,,,,,,,,,,,,,,,,,,,,
76385,,,,,,,,Cool. Thanks for considering my bug report!,,,,,,,,,,,,,,,,,,,,,,,
37992,,,,,,,,The issue as described by (resolved) issue TRINIDAD-1171 occurs consistently in our environment using 1.2.10;,Hi everybody; we face the same problem when any trinidad validator in our application fires off. As soon as you click somewhere in the screen (on the invalid component or somewhere else on thet screen) an hourglass appears and the application is hanging. The only way to stop the hourglass is to click once somehwere on the tooblar (top part of screen) of your IE browser. Does anybody know when this will be assigned to; as we are using trinidad in a new project and this bug might make the entire framework useless in a production environment. I would like to add that the problem does not occur in firefox. Many thx in advance!,I should add; this is a required field and uses PPR to refresh. Selecting the unselectedLabel causes a validation error to appear.,,,,,,,,,,,,,,,,,,,,,
28865,,,,,,,,Fixed a prompt that asks user to enter either 's' or 'q'.,Missed another prompt message to update in UIMA_Service.,The log4j warning is actually described in UIMA-1649. It will be addressed there.,,,,,,,,,,,,,,,,,,,,,
32383,,,,,,,,Closing because this has been in RESOLVED state for over one year; if it turns out to not be fixed please reopen.,Added unti test for JavaPropertyValueObjectFactory in SVN revision 648256. Marking bug as fixed.,I've committed a fix to handle the extra exceptions in SVN revision 648251. The exception now looks like: org.apache.tuscany.sca.core.factory.ObjectCreationException: Failed to create instance for property intField with value at org.apache.tuscany.sca.implementation.java.injection.JavaPropertyValueObjectFactory$ObjectFactoryImpl.getInstance(JavaPropertyValueObjectFactory.java:226) <stack trace snipped here> Caused by: java.lang.NumberFormatException: For input string: '' at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48) at java.lang.Integer.parseInt(Integer.java:468) at java.lang.Integer.parseInt(Integer.java:497) at org.apache.tuscany.sca.databinding.impl.XSDDataTypeConverter.parseInt(XSDDataTypeConverter.java:771) at org.apache.tuscany.sca.databinding.impl.SimpleTypeMapperImpl.toJavaObject(SimpleTypeMapperImpl.java:280) at org.apache.tuscany.sca.implementation.java.injection.JavaPropertyValueObjectFactory$ObjectFactoryImpl.getInstance(JavaPropertyValueObjectFactory.java:224) ... 22 more,The cause of this issue is that the class JavaPropertyValueObjectFactory in implementation-java-runtime calls the simpleTypeMapper.toJavaObject() method which will throw NumberFormatException or IllegalArgumentException if the data it is attempting to convert is not valid. The fix for this issue is to add try/catch block for these two exceptions and make sure the Property name is in the exception.,,,,,,,,,,,,,,,,,,,,
77849,,,,,,,,Confirmed with Dave that this can be closed.,I'll take a look at your fix,A test.jsp with a copy of code exhibited the problem; then with this fix the problem was solved. Not tested in a running Roller yet.,Looks like a problem in the Hibernate HQL. Digging into the code; I've added the line: criteria.add(Expression.eq('relation'; 'PARENT')); to getWeblogCategories of HibernateWeblogManagerImpl.java,,,,,,,,,,,,,,,,,,,,
5711,,,,,,,,Venu committed your patch. It's in Xerces 2.6.0. Please verify.,,,,,,,,,,,,,,,,,,,,,,,
17964,,,,,,,,Fixed.,r611033 committed a testcase.,r611032 Fixed NPE and changed WSDL520 error handling so that a null NS uri will not result in this error being reported.,Attached patch file with code fix and supporting test case.,Attaching WSDL,,,,,,,,,,,,,,,,,,,
60965,,,,,,,,Hoss; any interest in bring this patch forward to trunk?,,,,,,,,,,,,,,,,,,,,,,,
17394,,,,,,,,Andreas; I can see the benefit; but I'm not entirely sure how to do it. Perhaps you could provide a patch? David,,,,,,,,,,,,,,,,,,,,,,,
11480,,,,,,,,Retest shows Running xalan on lre02 <?xml version='1.0' encoding='UTF-8'?> <out xmlns='www.lotus.com' xmlns:ped='http://tester.com' english='to leave'/> Running XSLTC with Xerces Parser on lre02 <?xml version='1.0' encoding='UTF-8' ?> <out xmlns:ped='http://tester.com' xmlns='www.lotus.com' english='to leave'/>,This was caused by a bug in xpath.cup. Non-prefix elements that were referenced in expressions in the stylesheet were given the stylesheet's default namespace instead of the null namespace.,lre03 is closely related and seems to exhibit the same problem.,,,,,,,,,,,,,,,,,,,,,
61118,,,,,,,,I do have some interest in working on this; but it's not currently on my radar. Implementing SOLR-4241 would illustrate the issues that need fixing ... although if this is tackled first; writing SOLR-4241 would be much easier.,,,,,,,,,,,,,,,,,,,,,,,
15793,,,,,,,,This has been fixed in CVS. You can get the latest xwork.jar (which fixes the problem) from http://ivyrep.opensymphony.com,One can also reproduce the bug by using something similar to <ww:label label='foo' name='foo' value='% {2.5} '/> As a workaround; call the toString() method on the object; like this : <ww:label label='foo' name='foo' value='% {object.myLong.(toString())} '/>,,,,,,,,,,,,,,,,,,,,,,
10446,,,,,,,,This bug has been fixed in Xalan Java 2.5.2. Please verify.,,,,,,,,,,,,,,,,,,,,,,,
58767,,,,,,,,Unfortunately no: - looking at ServerSession.userAuth where it sets the state to Running: åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊbuffer = createBuffer(SshConstants.Message.SSH_MSG_USERAUTH_SUCCESS; 0); åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊwritePacket(buffer); åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊsetState(State.Running); åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊthis.authed = true; åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊthis.username = username; åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊunscheduleAuthTimer(); åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊscheduleIdleTimer(); the event is triggered before this.username is updated so the observer doesn't have access to that value. If the set is moved to later than I can eliminate two hacks (I suspect this.username should be updated far earlier when userauth_request arrives; but that would be a change in getUsername's semantics); however ... - as I mentioned above; instead of overloading ServerSession I should be defining my own service type and adding that; I've created SSHD-211 and attached a patch to illustrate the basic idea,,,,,,,,,,,,,,,,,,,,,,,
27659,,,,,,,,Closing as FIXED,The nightly builds are working again - so if you could test out this change using IE 5 I would appreciated it. http://cvs.apache.org/builds/jakarta-commons/nightly/commons-validator/ One dated on or after 7th Jan 2006 has the change (e.g. commons-validator- 20060107.zip) Niall,This issue was discussed on the Struts User list in the following thread: http://www.mail-archive.com/user%40struts.apache.org/msg39398.html I have modified validateUtilities.js as per your suggestion and as you say it appears to work fine. http://svn.apache.org/viewcvs?rev=366458&view=rev Unfortunately the nightly builds for Commons Validator don't seem to be working; hopefully that will be resolved soon. Since I don't have access to Internet Explorer 5; it would be great once the nightly builds are back again if you could test it. http://cvs.apache.org/builds/jakarta-commons/nightly/commons-validator/ Niall,,,,,,,,,,,,,,,,,,,,,
37251,,,,,,,,This issue is already comitted,patch file attached for Trunk,,,,,,,,,,,,,,,,,,,,,,
31813,,,,,,,,Closing because this has been in RESOLVED state for over one year; if it turns out to not be fixed please reopen.,I've committed a fix for this in r739306 and an itest to verify in r739304; please try and see if this resolves the problem. Slightly rushed so i'll leave the JIRA open and review it again on Monday.,,,,,,,,,,,,,,,,,,,,,,
58537,,,,,,,,Looks like STANBOL-258 describes the same Issue.,,,,,,,,,,,,,,,,,,,,,,,
29161,,,,,,,,Already fixed in UIMA-1379.,,,,,,,,,,,,,,,,,,,,,,,
64300,,,,,,,,closing.,,,,,,,,,,,,,,,,,,,,,,,
15893,,,,,,,,You are only flushing the writer; donå«t you need to close it too? writer.flush(); writer.close();,,,,,,,,,,,,,,,,,,,,,,,
23785,,,,,,,,I just put this in branch-0.8 too. In fact; it's probably worth putting everything in branch-0.8 at the moment unless it's a major or incompatible change.,Committed to trunk.,one liner,output from {{target/rat.txt}    Files with Apache License headers will be marked AL   Binary files (which do not require AL headers) will be marked B   Compressed archives will be marked A   Notices; licenses etc will be marked N  !????? atlassian-ide-plugin.xml   AL    bin/examples   AL    bin/whirr   AL    conf/credentials.sample   AL    conf/log4j-cli.xml   ...,,,,,,,,,,,,,,,,,,,,
61104,,,,,,,,I hope someone can fix this; but I know that at this time it's not something I can tackle without generous hand-holding. If there are no takers soon; I'll go ahead and close the issue. This is part of an effort to close old issues that I have reported. Search tag: elyograg2013springclean,,,,,,,,,,,,,,,,,,,,,,,
20803,,,,,,,,this will be tackled when we improve ajax; most likely in wicket.next or the version after that.,,,,,,,,,,,,,,,,,,,,,,,
57170,,,,,,,,Fixed thus: http://svn.apache.org/viewvc?rev=574613&view=rev,,,,,,,,,,,,,,,,,,,,,,,
70122,,,,,,,,applied patch (thanks) in r1055887,,,,,,,,,,,,,,,,,,,,,,,
13382,,,,,,,,As you wish http://cwiki.apache.org/confluence/display/WW/Struts+2+Blank+Archetype,,,,,,,,,,,,,,,,,,,,,,,
36052,,,,,,,,Moving these all to a 'Doc 3.x' release version.,,,,,,,,,,,,,,,,,,,,,,,
22691,,,,,,,,By the way; the javadoc for the minimum and maximum validators are still not updated (and incorrect). They need to be precise as to whether or not the endpoints are included. For example: * Gets a Double maximum validator for checking if an number is smaller than the given maximum Should read 'is at most' or 'smaller than or equal to'. Same with the other validators (including the range validators).,It's a beautiful fix; it took me a while to understand it. :-) Double.MIN_VALUE is *REALLY* counterintuitive (especially considering Integer.MIN_VALUE). bsh % -1.0 < Double.MIN_VALUE; <true> bsh % -1 < Integer.MIN_VALUE; <false> I still think it's a good idea to deprecate POSITIVE and NEGATIVE as Igor suggested and at least cleary mention the API change; because there will probably be people depending on the old behavior.,this works to /** * a validator for ensuring for a positive number value */ public static final NumberValidator POSITIVE = minimum(Double.MIN_VALUE); /** * a validator for ensuring a negative number value */ public static final NumberValidator NEGATIVE = maximum(-Double.MIN_VALUE); But maybe seb can shoot a hole in this. But my added unit test say it works! I added numerous unit test on the way for the NumberValidator classes. So we have even a better coverage!,imho parameters should always be INCLUSIVE. so range (3;5) should accept 3;4;5. minumum(0) should accept 0;1;2;... why do we even have POSITIVE and NEGATIVE? obviously it is rather ambiguous. lets deprecate those. i mean does it really save that much having them as global instances? they still get serialized the same...,bulk set issues to next version. I only did a quick check (and filtered some out for 1.3.1); but we can always bump em again.,The minimum validator is correct. If the value is STRICTLY LESS than the minimum; you should fail; and only then. It seems to me the javadoc is wrong there. It should read something like 'check if an integer value is at least the given minimum value'. As far as POSITIVE being a minimum(0) validator; that seems incorrect to me. And I'd prefer it if the Wicket world didn't have it's own version of mathematics. ;-) The 'inclusive' flag seems useful to me; but then the naming is a bit unintuitive in my opinion.,'hmm it all starts with the minimum(0) method;we do say there: /** * Gets a Integer minimum validator to check if a integer value is greater * then the given minimum value. * */ public static NumberValidator minimum(long minimum) { return new MinimumValidator(minimum); } but the check isn't if (value <= minimum) fail but if (value < minimum) fail now i am curious what people expect to happen.. is it including or not?? same goes for the maximum validator.. But do we change the maximum/minimum validators ? Or what i also can do is add a param to the constructors of those with an including flag.. By default it stays what it is now except for the Positive and Negative onces. Or we can always just say in a wicket world the 0 is negative and positive!,,,,,,,,,,,,,,,,,
14921,,,,,,,,Makes sense to me.,Any comments about this? This makes sense to me. If there's no objection; I will commit the fix for this.,From: if (tempdir != null) { saveDir = tempdir.toString(); } To: if (tempdir != null) { saveDir = tempdir.toString(); setMultipartSaveDir(saveDir); } This should set it to only log the error once; and use the tempdir for subsequent requests.,,,,,,,,,,,,,,,,,,,,,
71565,,,,,,,,It seems that this enhancement is atm out of scope for Sling - therefore closing this bug.,> base64 decoding of attachments oh gosh; back to 1970 :-),The attached file contains a Servlet Filter-based implementation of the XML Submission. It uses commons-fileupload for temporary storage of uploaded files; commons-codec for base64 decoding of attachments and saves the attachment map in a request attribute called 'webforms2.0uploads'. The example.txt comes right from the specification and can be tested using the command curl --header Content-Type:application/x-www-form+xml --data-binary @example.txt http://localhost:8080/formdata/,,,,,,,,,,,,,,,,,,,,,
73415,,,,,,,,Patch applied. Thanks,,,,,,,,,,,,,,,,,,,,,,,
74448,,,,,,,,Closing this one since it doesn't fit in with the current caja integration anymore.,,,,,,,,,,,,,,,,,,,,,,,
10696,,,,,,,,Closing this issue. Please re-open if you have a testcase.,,,,,,,,,,,,,,,,,,,,,,,
31064,,,,,,,,Closing resolved issues,,,,,,,,,,,,,,,,,,,,,,,
19423,,,,,,,,Attached QuickStart. Access URL is https://localhost:8443/test/ajaxtest - click on the buttons several times - refresh page: the counters should now reflect the clicks - click on the buttons more times - refresh page: the counters do not reflect click after first refresh,a valid usecase: whats happening is this user hits the page /foo goes to /foo?1 does a bunch of ajax stuff; staying on /foo?1 clicks refresh; so hits /foo?1 listview refreshes; changing hierarchy; creating page version 2 the ajax behavior's url is rendered as /foo?2:... the page is rendered; but not redirected to /foo?2 so what we have now is a browser pointing to /foo?1 and ajax (and non-ajax) urls pointing to /foo?2 further clicks work only because the component they repaint has the same markup id on page 1 and page 2. however; all model changes are stored in page 2. this is why when the browser is refreshed the counter reverts to a previous value - because it is page 1 that is rerendered. there are two ways to fix this: 1) redirect to correct version. so when the browser is refreshed for the first time on /foo?1 the browser would redirect to /foo?2 and it would keep doing that for every refresh. not ideal. 2) freeze the page version when we are accessing a url that we know will not mutate the state of the page - meaning urls that just render the page and do not invoke any listeners. the only state we will lose is noise from component replacement in listviews and user's onbeforerender() overrides which i think is acceptable since they do not represent true state mutation that comes from intentional callbacks.,No; I think the issue is that non-AJAX reloads that render ListViews end up calling MarkupContainer#add; incrementing the page ID but not updating the URL. The relevant change is in Page#dirty() which only scheduled a page to be flushed in 1.4; and now assigns it a new page ID.,i think the root cause here is the difference in caching; not how page version or ajax is handled. in 1.5.x the back button causes a request back to the server which causes the page to be rerendered and the version incremented. in 1.4.x the back button would not cause a request to the server; instead the cached version of the page would be shown. im not sure why this was changed in 1.5.x; may be worth opening a discussion on dev@.,go to http://www.wicket-library.com/wicket-examples/ajax/links this is wicket 1.5.x (1.5.4 currently) click the ajax link to increment the counter a few times. reload the page. counter retains its value; ajax changes are not lost. click the back link; you will be taken wherever you were before. since ajax links did not cause a url change and no browser history change you are not taken to a page with counter's previous value. this is exactly how 1.4 behaves. the only difference between the two is that 1.5.x always redirects to a non-bookmarkable url so a refresh never loses ajax changes like it did in 1.4.x which did not redirect to a non-bookmarkable url so a refresh would recreate the page from scratch.,I agree there isn't a good solution without AJAX history; but I respectfully disagree that 1.4 worked the same. In 1.4 reloading the page returned the most recent version of a page (the one with the most AJAX updates); in 1.5 those AJAX changes can be lost on reload/back.,this is no different then how 1.4.x worked. the back button takes you back to the state of the page before ajax changes. in order for it to take you back to the 'last' click we would need ajax history support; which we do not yet have.,I think this ticket should be closed as 'Not a problem' because ListView is designed to work this way - in each call of its onBeforeRender() it recreates its items which makes the page dirty; and therefore increases the page id. Thomas can open a new ticket with a quickstart.,@Thomas: can you attach a quickstart with your case too ?,And my disclaimer: I didn't design this; I'm just interpreting the code. If I'm wrong; I hope somebody corrects me. :),There are two concepts here: 'touched' pages and 'dirty' pages. Simply retrieving a page from the page manager 'touches' it; scheduling it for serialization into the page store at the end of the request. The question is whether it updates the original page store entry; or goes into a new entry. The page gets a new page map entry if and only if it is marked 'dirty' which is triggered by component hierarchy change; component model change; or explicitly with Page#dirty(). However; WebPage#dirty() has a special case which prevents AJAX requests from *ever* marking a page dirty. So after the request that originally created your wizard's page; there must be another non-AJAX request which dirties the page and advances its identifier past the one in the browser address bar.,And: yes; the ajax URLs target an incremented version of the page; while the URL still shows the 'old' one.,@Dan: what exactly do you mean by that? It seems to me that the page *should* be dirtied upon ajax operations (+ model changes)?! Because on page reload the 'old' state is restored (after page has been rendered); so everything that happend after this (via AJAX) is not serialized; or do I get this wrong?,Thomas; it sounds likely. Look at the AJAX URLs to see if they're targeting a different page version than in the URL. Note that AJAX requests themselves don't advance the page identifier (see WebPage#dirty(boolean)); but for example normal reloads containing ListViews will. So maybe you can workaround the issue in your wizard by identifying and suppressing the non-AJAX; page-dirtying operation.,I'm not quite sure if this is related to the problem; but I guess so: we have a page containing an AJAX wizard. Users can go forward and backward and fill several form components which are correctly written into the model when the wizard step is changed (via AJAX). But: if you reload the page; all input data is gone (from all wizard pages); as the URL still shows ?0 ...,My concern is after the page ID is advanced due to a reload or back button any model updates done on that version can never be retrieved. With 1.4 the view did not reflect the most recent version of the page; but since the page ID never advanced the model was intact. As Dan mentions with 1.5 we can easily get into situations where ajax requests target different page version; and with that a different copies of page models.,That's an old ticket! :) 1.5's liberal advancement of the page identifier changes Wicket's limited AJAX versioning support significantly; in my opinion detrimentally: 1. In 1.4 reloading a page (with back or reload buttons) results in the most recent version associated with that URL; in 1.5 it results in the oldest version. 2. With a 1.5 AJAXy page; it seems quite easy to get into a state where different AJAX behaviors target different versions of the same page. That sounds confusing to debug. ListView's effect on the page version makes the gotcha more unexpected; but I agree it's working as designed. Maybe Wicket's AJAX versioning gotchas just get an extra underscore for now; pending full support? Was there discussion of the tradeoffs between 1.4 and 1.5's versioning strategies? I looked but I could not find one. I don't mean to naysay the new design since I don't know the history.,If you use the link to OtherPage and then the back button; the browser requests page ?0. The page with id 0 is correctly restored and rendered. Before rendering the ListView removes all its children and recreates them. This results in a new page version; which is correctly taken into account by the ajax link and your log output. This might look unexpected but actually it's quite common: the browser requests page version X but gets version Y as response. So what is the problem you're experiencing? Wicket does not (yet) support back button for ajax requests; see WICKET-271 .,,,,,,
39032,,,,,,,,Reopening issues to set version.,Code moved into tiles-request.,,,,,,,,,,,,,,,,,,,,,,
37860,,,,,,,,Attention: - Please refer https://issues.apache.org/jira/browse/TRINIDAD-1145 for a possible fix,since there was no fix... we remove the fix version....,,,,,,,,,,,,,,,,,,,,,,
77424,,,,,,,,The macro is also deprecated now; it is advised to use åÊåÊåÊåÊåÊåÊåÊåÊ#showRSSAutodiscoveryLink(),The macro name is mispelt; it should be #showRSSAutodiscoveryLink(); the d in discovery is lower case.,Sean; Thanks! Resolved along with ROL-930 at SVN revision 358682 on trunk. Should appear in Roller 2.1.,When sent that first e-mail; I was talking about RSD (Really Simple Discovery) which is used to find how to post/edit to the blog. Not RSS Auto-Discovery. Anyways; I am preparing to submit a patch to add a #showRSDLink() macro to each theme and will put the #showRSSAutoDiscoveryLink() macro in where needed; if directed to do so by the dev list.,,,,,,,,,,,,,,,,,,,,
5373,,,,,,,,I mailed jsr-206-comments@jcp.org and got the following response from Jeff Suttor: 'hi Daniel; consistency and least astonishment are valuable. :) would you be open to filing an RFE http://bugs.sun.com or an issue http://jaxp.dev.java.net to insure this is addressed? as this would be a public API change; it will have to be part of JAXP.next. thanks; -- Jeff' I filed https://jaxp.dev.java.net/issues/show_bug.cgi?id=9,The class/method you're asking about is part of JAXP 1.3; a standard developed through the JCP. You should send your comments to the appropriate forum (i.e. jsr-206-comments@jcp.org). There's nothing that can be done about this in Xerces and given that JAXP 1.3 went final without having IOException in the throws clause of this method adding it now would be a backwards incompatible change.,,,,,,,,,,,,,,,,,,,,,,
52716,,,,,,,,Fixed in the trunk and branch,,,,,,,,,,,,,,,,,,,,,,,
4169,,,,,,,,I'd be okay with an enhancement which defaults to a SAX2-compliant parser when available; but this isn't always the case. MinML is a good fallback for those situations (e.g. applets).,First of all; let me say; that I am not so keen with MinML either and share your opinion; that a modern XML parser and preferrably the JRE's parser should be default. However; as already pointed out; this can easily be achieved and you are by no means forced to use MinML. Besides; take a look at http://cvs.apache.org/viewcvs.cgi/ws-xmlrpc/?only_with_tag=b20050512_streaming and you'll note; that the use of SAX2 is already implemented in a branch.,A quick perusal of the MinML web page shows that it advertises non-conformance to XML. In particular it fails to handle the internal DTD subset as required by the XML specification. I don't doubt that I could find other non-conformances if I actually started parsing documents with it.,This is a very vague observation; with a very strongly worded proposal for its resolution. Might I suggest that the way to procede is to describe some concrete instances of MinML's failure in the role; and if possible provide some simple reproducable test cases to support your opinion. Might I also point out: 'http://ws.apache.org/xmlrpc/parser.html' which describes how to use any other parser. I would respectfully suggest this issue be downgraded to 'Minor' 'Wish' and resolve by changing the _default_ parser to the J2SE default.,,,,,,,,,,,,,,,,,,,,
5713,,,,,,,,Venu committed your patch for Xerces 2.6.0. Please verify.,Created an attachment (id=9160) Test program to display the problem (2) explained in bug report,Created an attachment (id=9159) Patch file for fixing DOMSerializerImpl class bugs,,,,,,,,,,,,,,,,,,,,,
24867,,,,,,,,Updated version of the patch. Removed the setter for the log storage provider in the stanza relay; and passed it either as constructor parameter of through provider registry as with other providers. If there is a need for a more generic stanza logger; these users could use the plain interface. The adapter I made is intended for filtering; so that only textual chat messages between users are let through; which I think is the most interesting detail to be logged. I updated the source file name and the comment to better indicate this.,It'd be cool to have a more integrated and general solution to serve as many users as possible. Do you like to work out an improved patch? Thanks for contributing to Vysper!,My implementation logs message stanzas only because I was only interested in logging chat messages sent between users. The storage provider should be looked up from the context. I can see that now.,This storage provider should interact with the StorageProviderRegistry infrastructure. Otherwise we'd end up with storage providers scattered everywhere.,Why does it only log <message> stanzas?,An attempt at implementing chat logging storage provider.,,,,,,,,,,,,,,,,,,
180,,,,,,,,Jimmy this ready for review/commit? If so please 'submit'. Thanks.,Patch version 2 which supports async batch.,I am hacking around this week. I will find out how much performance I can gain this way; if any. Yes; it is mainly for performance and convenience. As to fewer zk events; it may be just for our use case; assuming our node children changed handler doesn't have a chance to reset the watch soon enough. So if we create lots of children for one parent; we may get less node children changed events; theoretically.,I had a look at the patch; and I'm not sure how you take care of the scenario you mention above of receiving fewer zk events. With this patch; wouldn't you still get as many notifications as watches you had set for the znodes you have manipulated in your batch? I'm still interested in understanding if the performance difference you claim matters or of it can be fixed some other way. This feature is mainly for performance and convenience; yes?,Attached is the first version patch which is on top of the patch for ZK-1569 and ZK-1592. This patch supports sync-batch only. The async version will be in the next patch.,Hi guys; Here are two concerns I have: With this proposal we are now mixing performance and correctness (atomicity) in the multi abstraction. At this point; I'd rather stick only to the correctness aspect. The architecture of zookeeper is essentially an execution pipeline; which has been optimized to provide both low latency and high throughput. This proposal goes in the opposite the direction and tries to promote the execution of large batches instead of individual operations at least for some use cases. In general; if it there is an opportunity to improve the performance of the system; then we should pursue it; but at this point it is not even clear how much difference it would actually make if any. Can we actually make sure that such an app-level batching makes a significant difference compared to trunk with respect to performance? And if it does; what exactly is the culprit? Can we fix it without introducing a new API feature? The point about getChildren capturing fewer events sounds like a 'good to have' but not really 'must have'; but please correct me if I'm wrong.,For our use case; there is no dependency issue. 'Batch' is what we want. Another benefit is that we will get less ZK events. This may not be obvious. But we will do get less ZK events. For example; for a bunch of create operations; if we do it one by one; once we get a nodeChildrenChanged event; we will watch it again; so we will get another one for the next create operation. If they are batched; after we get the first nodeChildrenChanged event; when we watch it again; most likely; other nodes are already created; so we will get less events; which is good.,Well obviously the way it is currently implemented we do not proceed past the first failure. But if we wanted to support a 'batch' request wherein they are not all or nothing; then yes; I think we'd proceed past the first failure. If there are dependencies on earlier ops; then obviously those will fail.,it aborts on the first op that fails and rolls back Should we allow operations after the failed operation to continue ? The rationale is that the operations in the batch may not have dependencies among them.,Yes; I meant 'cause' . The existing multi code fills in a list of results for each op. Right now; it aborts on the first op that fails and rolls back the data tree to what it was before it started. And it explicitly marks all ops after that in the results list with a runtime exception. So the mechanism is already there to communicate the errors back to the client. So I suppose the Multi code would need to take a bool to indicate if it was all or nothing or not.,A multi will case one new snapshot/log to be generated I guess you meant 'cause' above. but there was no guarantee they'd all succeed/fail. I think we need to formalize how success / failure status for individual operations in this new multi API should be delivered back to client.,I actually think there is a valid use case for this. Mostly for performance reasons. Because a multi is one transaction; it causes less permuation on the distributed and replicated state of zookeeper than multiple individual operations not in a multi. With a Multi: You only pay the cost of the RPC overhead once rather than on each individual operation You get one flush of the leader channel rather than multiple ones for each write operation A multi will case one new snapshot/log to be generated rather than multiple ones for each operation There are other reasons that make this a good reason too that are not performance based. e.g.; if it makes the programmer's job easier to use a multi with these semantics; then that's a win. In other distributed databases I've worked on; we used different terminology to disinguish between a multi op that all succeed/fail vs one that does not. We used the term 'Batch' to imply we were batching up operations but there was no guarantee they'd all succeed/fail.,Yes; that's what we are using now. It is working fine. I was thinking if there is still room for improvement.,In my view; the asynchronous API has been designed to address exactly use cases like yours. I don't think you should be suffering any severe penalty by using the asynchronous API. Have you actually tried it and had any issue with it?,Hi Flavio; for our use case; we need to create/setData hundreds/thousands of znodes. By submitting operations asynchronously; we need to do it one by one. If we can do it in batches; we can save lots of network trips.,Hi Jimmy; I'm trying to understand why submitting operations asynchronously is not sufficient for your case. Why do you need to use multi in this case?,,,,,,,,
76425,,,,,,,,This was done long ago and is now in trunk and ready for release,I have merged this work to the trunk. Here's the commit: http://svn.apache.org/viewvc?view=revision&revision=1172075,The patch looks good. Please go ahead and commit.,This patch includes Template Code addition as a result of new design changes.This patch contains both WeblogThemeAssoc and WeblogTemplateCode changes with a test for WeblogTemplateCode.,WeblogThemeAssoc.patch includes new design changes of adding WeblogThemeAssoc class for keeping the association of a weblog and its themes of different types. Please note that this patch is to review the changes and should apply to roller_mobile branch.,This initial patch will enable a user to define a mobile theme and then it will render the set up theme in a mobile device. please create a dummy theme (simply copy paste exisiting one in weblogger-webapp/src/main/wepapp/themes/ and add an entry in theme.xml to say it is a mobile theme. like <type>mobile</mobile>. I have made fauxcoly theme to recognize as a mobile theme. Please note this is a test patch to verify the functionality.,,,,,,,,,,,,,,,,,,
9989,,,,,,,,Xalan-Java appears to be operating correctly.,,,,,,,,,,,,,,,,,,,,,,,
18707,,,,,,,,Ah; I can close it myself...,,,,,,,,,,,,,,,,,,,,,,,
18020,,,,,,,,r563181 pom.xml,r563179 Update: QNameTest.java QNameDeserializeTest.java AllWodenTests.java,Added a couple more patches - AllWodenTest changed to include the new QNameDeserializeTest class and pom.xml changed to exclude QNameDeserializeTest instead of QNameTest.,Dan supplied the patch; so assigning the JIRA to him.,Thanks to Dan Harvey for contributing a fix in file patch-item-137.txt,Background: According to the Java 5 javadoc for the QName class; the prefix field must be non-null. It must be specified on the 3 arg ctor and it should default to the empty space '' when using the 2 arg or 1 arg ctors. However; when a serialized QName object is deserialized the namespace; local name and prefix fields are set from the values in the serialized object. Before Java 5 the QName class did not have the prefix field. If an older (pre-Java 5) serialized QName object is deserialized by Java 5; the deserialization should detect that there is no prefix value and initialize the prefix field to the empty string. The Woden QName class does this by overriding the readObject method to check the deserialized object for a null prefix and set it to the empty string. The IBM Java 5 JRE also initializes the prefix to empty string when deserializing an older (pre-Java5) QName object. However; the Sun 1.5.0 JRE does not - it leaves the prefix field in the deserialized object as null; which contradicts non-null invariant implied by Sun's QName javadoc. Our attempts to get this fixed in the Sun JRE have been unsuccessful. So instead; we will extract the test method in question ; QNameTest.testGoodDeserializeQNameWithoutPrefix(); into a separate test class called QNameDeserializeTest and exclude this from the Maven continuum build. That way the remaining QName tests can be included with the Maven build (which runs at Apache on Solaris using the Sun Java JRE) without the deserialize testcase breaking the build. The new test class can be included with the Woden Junit test suite when perform regression testing separately to the Maven build.,junit.framework.AssertionFailedError: Expected a null 'prefix' to be initialized to the empty string ''. at junit.framework.Assert.fail(Assert.java:47) at junit.framework.Assert.assertTrue(Assert.java:20) at javax.xml.namespace.QNameTest.testGoodDeserializeQNameWithoutPrefix(QNameTest.java:476) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at junit.framework.TestCase.runTest(TestCase.java:154) at junit.framework.TestCase.runBare(TestCase.java:127) at junit.framework.TestResult$1.protect(TestResult.java:106) at junit.framework.TestResult.runProtected(TestResult.java:124) at junit.framework.TestResult.run(TestResult.java:109) at junit.framework.TestCase.run(TestCase.java:118) at junit.framework.TestSuite.runTest(TestSuite.java:208) at junit.framework.TestSuite.run(TestSuite.java:203) at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:128) at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:460) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196),I have just run this test against the Sun 1.5.0_12 JRE and the test still fails; so sun haven't fixed this yet.,,,,,,,,,,,,,,,,
20625,,,,,,,,Integrated in Apache Wicket 1.4.x #200 (See [https://hudson.apache.org/hudson/job/Apache%20Wicket%201.4.x/200/]) åÊåÊåÊåÊ,,,,,,,,,,,,,,,,,,,,,,,
76494,,,,,,,,Closed issues related to Roller 5.0 release.,Mavenization is now complete and jetty:run-war is working on MacOS and WinXP. If you have Maven 2.0.9 or later and a Subversion client; it is now possible to fetch Roller source; build the code and run the unit tests with these commands: åÊåÊåÊsvn co https://svn.apache.org/repos/asf/roller/trunk roller_trunk åÊåÊåÊcd roller_trunk åÊåÊåÊmvn install If you want to run Roller for development testing; you can use this command which will start Jetty; start Derby and start Roller: åÊåÊåÊcd weblogger-web åÊåÊåÊmvn jetty:run-war Once you've done that; browse to http://localhost:8080/roller to run Roller. Note that this is for development testing only -- any changes you save in Roller will be deleted the next time you run mvn clean.,URL: http://svn.apache.org/viewvc?rev=900145&view=rev Log: Fixes to POMs suggested by Matt Raible Added some of the fixed suggested by Matt; in particular I fixed these items: * <type>jar</type> is unnecessary since it's the default. Same goes for <scope>compile</scope>. * An XSD on <project> might give IDEs better support for Maven. * I get '[WARNING] Using platform encoding (MacRoman actually) to copy filtered resources' when running 'mvn install'. Adding <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding> to the <properties> section will fix this.,Mavenized Roller is now in trunk; here is the initial commit. URL: http://svn.apache.org/viewvc?rev=895623&view=rev Log: SVN merge of Mavenized Roller seems to be complete I'm still working on reducing the number of jars in WEB-INF/lib; following Maven best practices; etc. Matt Raible made some good suggestions in this email thread: åÊåÊåÊhttp://markmail.org/message/xeaxln3otkhesjxm,I'm making good progress on this and hope to have something ready to commit in the next week. I'm breaking Roller up into these modules: åÊåÊåÊroller-core åÊåÊåÊplanet-business åÊåÊåÊplanet-web åÊåÊåÊweblogger-business åÊåÊåÊweblogger-web Currently; I have all modules except for the *-web ones building and successfully executing all tests.,,,,,,,,,,,,,,,,,,,
72474,,,,,,,,Closing all resolved issues due to a successful 1.0.0-incubating release,,,,,,,,,,,,,,,,,,,,,,,
41140,,,,,,,,Looks fine to me now. Thanks!,Ok; documentation has been updated and tomahawk site republished. See: * change to 'Extensions Filter' page * change to t:inputFileUpload tagdoc * change to ExtensionFilter class javadoc Please check and then close as 'resolved'. Thanks for pointing the issue out.,Yep; thanks for pointing that out. I'll fix that soon..,,,,,,,,,,,,,,,,,,,,,
7380,,,,,,,,As a work around; I scan the XML document to locate the namespaces which are then compared against a look-up file to see which schemas to load in the grammar. The only reason this was done is because DOMEntityResolver did not trigger for all namespaces. I am using version 2.7 and the option to trigger on all namespaces would be useful.,It looks like that editing an issue raises the priority to 'blocker'...,Created an attachment (id=10876) ZIP file with test case.,,,,,,,,,,,,,,,,,,,,,
44873,,,,,,,,This has been fixed for 1.1 by Upgading to POI 3.8 beta 5. Perhaps somebody with more power than me can mark this accordingly.,I did a fix for this by improving org.apache.poi.xwpf.usermodel.XWPFParagraph currently it ignores all smart tags instead of processing them. I will proposing them a fix using your example document as test. If it gets accepted; I have a test case for Tika already handy; so we can add it here as well.,pushing out to 0.9 _x0089_ÛÒ there's no patch for this yet and it's 0.8 release time,An example .docx containing smart-tagged text that is not extracted by Tika.,,,,,,,,,,,,,,,,,,,,
34779,,,,,,,,fix works~,,,,,,,,,,,,,,,,,,,,,,,
79211,,,,,,,,Thanks Marijan; will do!,Hi Stan; I was working on all issues; however I had no time to compare (and merge) it to work you guys did in bootstrap branch. One issue that you could pick up is RAVE-539,Marijan; we're got the developers almost ready to proceed on more tasks - have you started on any of the ones that you've assigned to yourself? If not; we (MITRE) might be able to pick them up.,,,,,,,,,,,,,,,,,,,,,
48875,,,,,,,,This works great for me; but it has demonstrated another issue when some Tapestry's script files try to use the clientId in order to create javascript identifiers for variables. I'll open a new issue describing this.,I'm assuming that this has been fixed already but not closed?,You do have commit access; so if making _cycle non private solves the problem then I'd just change it. p.s. If MultiFormSupport does work out it seems more logical to just make that the default behavior in FormSupportImpl doesn't it?,BTW; the 'new' MultipleFormSupport is an ugly copy-paste of 'FormSupportImpl' mostly due to the fact that _cycle is private in FormSupportImpl Making it protected saves more that 750 lines... the other solution is for the subclass to also keep a copy of that field; when it's passed in the contructor - still ugly!,A recent step forwards (i hope) has been the org.apache.tapestry.form.FormSupportFactory interface that is now responsible for generating FormSupport implementations. This has allowed me to try alternative implementations; one being MultipleFormSupport which works by prefixing all form elements with the form's clientId (on render and then again on rewind) Here's how this would then be configured - overriden åÊåÊåÊåÊ<implementation service-id='tapestry.form.FormSupportFactory'> åÊåÊåÊåÊåÊåÊ<create-instance class='org.apache.tapestry.form.MultipleFormSupportFactory'/> åÊåÊåÊåÊ</implementation> I'm missing a few unit tests before committing :),Yep; this indeed happens... In tacos this was fixed by introducing a parameter in AjaxForm that would make name and id generation depend on component's idPath (instead of id) Here's the changeset: http://fisheye3.cenqua.com/changelog/tacos?cs=348 I'm thinking of a less intrusive solution for Tapestry... Perhaps in formSupport.getElementId...,,,,,,,,,,,,,,,,,,
73819,,,,,,,,looks good. Thanks!,,,,,,,,,,,,,,,,,,,,,,,
51837,,,,,,,,The change you want would be nice; but is simply not possible. The form data is either available or not; if there's a file upload exception; then none of the data submitted in the form is available to Tapestry. This is a function of the multipart/form encoding type and the underlying Jakarta FileUpload library.,,,,,,,,,,,,,,,,,,,,,,,
70682,,,,,,,,Close after release,In Rev. 908022 created a new redirectAfterLogout method; which is called by the logout method after the dropCredentials method of all authentication handlers has been called. This method does notthing if the response has already been committed. Otherwise the 'resource' request attribute and request parameter are checked whether they provide a redirect target. If so; the client is redirected there. If a redirect target is not provided; the client is redirected to the servlet context root.,,,,,,,,,,,,,,,,,,,,,,
68539,,,,,,,,Please be informed that I am no longer accessible through this email address. Pls refrain from sending further messages. I will just personally contact you with my new email address. For any concerns / issues / inputs relating to your transactions with Exist; kindly forward email to hr@exist.com. Thank you HR Dept,It appears the servicemix-eip tests were failing when no additional memory was reserved for the unit tests (currently: -Xmx512m). With Adrian's centralized surefire configuration in place; all these tests now work fine. I have removed the <exclusion/>s from the pom.xml (cfr. http://svn.apache.org/viewvc?view=rev&revision=555652),,,,,,,,,,,,,,,,,,,,,,
5134,,,,,,,,Ludger; thanks for the patch. I've just committed it. See SVN rev 1103164. Thiwanka; thanks for your help in investigating this issue.,Ludger and Thiwanka; I agree with both or your assessments. This not only corrects an inconsistent state but is also minor performance improvement for checkNormalizationAfterRemove() when the first child of a node is removed.,I wrote a sample program to demonstrate the scenario described above. sample.xml : <?xml version='1.0' encoding='ISO-8859-1'?> <note> <to>Thiwanka</to> <from>Erangi</from> <heading>Apache</heading> <body>Xerces</body> </note> InternaRemoveChildTest class : import org.apache.xerces.parsers.DOMParser; import org.xml.sax.SAXException; import java.io.IOException; import org.xml.sax.InputSource; import org.w3c.dom.Document; import org.w3c.dom.*; public class InternaRemoveChildTest { public void parser() { InputSource is = new InputSource('/home/thiwanka/workspace/Test/src/sample.xml'); DOMParser parser = new DOMParser(); try { parser.parse(is); // System.out.println('The sample.xml is well-formed.'); Document document = parser.getDocument(); Node node = document.getDocumentElement(); System.out.println('Document Element node name : ' + node.getNodeName() + '\n'); System.out.println('\n___________________DOM nodes before removing the child___________________\n'); processNodeRecursively(node); removeNode(document); } catch (SAXException e) { System.out.println('The sample.xml is not well-formed'); } catch (IOException e) { System.out.println( 'The parser could not check the sample.xml IOException' ); } } public void removeNode(Document document) { //Create the node to be removed - the first child in this specific case Node node = document.getDocumentElement().getFirstChild(); System.out.println('Node Name of the node to be removed : ' + node.getNodeName()); //Remove the node Node removedNode = document.getDocumentElement().removeChild(node); //Start debugging from this point System.out.println('Node Name of the node to be removed : ' + removedNode.getNodeName()); //Access the DOM tree System.out.println('\n___________________DOM nodes after removing the child___________________\n'); processNodeRecursively(document.getDocumentElement()); } public void processNodeRecursively(Node node) { for (Node child = node.getFirstChild() ; child != null ; child = child.getNextSibling()) { System.out.println('Node name : ' + child.getNodeName()+ ' ' + 'Node value : ' + child.getNodeValue()); processNodeRecursively(child); } } public static void main(String[] args) { InternaRemoveChildTest test = new InternaRemoveChildTest(); test.parser(); } } Note : Check the values at 'checkNormalizationAfterRemove' method in 'ParentNode' class.,Got to know that the checkNormalizationAfterRemove() method checks whether the adjacent siblings of the removed child are 'TEXT_NODE' or not. * In internalInsertBefore() in ParentNode.java; if the 'refInternal' is null the node is appended to the tree as the parent's last child having no reference to the nextSibling attribute(which means having the value null). In the above discussed issue @line 548; the value 'oldPreviousSibling' gets whenever the 'oldInternal' was a 'firstChild' is the last sibling. But inside the normalization checking process this inconsistency does not matter. The real values at the time of normalization checking should be (in checkNormalizationAfterRemove method in ParentNode.java) : previousSibling = null (normalized property is preserved) But the values actually passed in to checkNormalizationAfterRemove method are : previousSibling = lastChild; and lastChild.nextSibling is null (normalized property is preserved - using wrong values) So the checkNormalizationAfterRemove method gives the same result when the removed child is a first child. But I think; this inconsistency should be still addressed in the code.,What is meant by 'checkNormalizationAfterRemove(ChileNode previousSibling)' in org.apache.xerces.dom.ParentNode.java ?,@ line 547 and 548 in Class org.apache.xerces.dom.ParentNode.java: // Save previous sibling for normalization checking. ChildNode oldPreviousSibling = oldInternal.previousSibling(); Assuming the case that (oldInternal == firstChild): When it comes to this point the oldInternal.isFirstChild(false) is already invoked and now it is not available as the first child. When it was acting as the first child it contained null value in ChildNode.previousSibling. An; when it comes to line 548; it fails isFirstChild() (when calling oldInternal.previousSibling()). But the return value is going to be a null as well. At this point oldInternal.previousSibling() always return a null value once oldInternal was a first child && now it is not. So I think the code does have ant defect. Pls correct me if I have misunderstood the issue. Thanks.,,,,,,,,,,,,,,,,,,
74491,,,,,,,,Chain 1.2 is now available in the m2 repo. Updated patches to include logging 1.1.1 and scxml 0.8,Commons SCXML should go to latest release (v0.8) as well. Editing issue summary to list the three Commons libraries mentioned so far.,Attaching patches for the trunk and 1.x branch. BTW Commons Chain 1.2 hasn't yet hit the central repo - so probably worth holding off until it has: http://repo1.maven.org/maven2/commons-chain/commons-chain/,,,,,,,,,,,,,,,,,,,,,
69716,,,,,,,,I really meant to remove this functionality: What is the use for it anyway ? It doesn't hurt today (except for a few bytes eaten) but it may be confusing. So; if there is no clear use and requirement for it; I suggest to just remove it.,> Disabling the plugin by configuration is IMHO not required because the Web Console is targeted at admins only. ok; I see your point - I'll leave the setting in for now; I don't think it hurts to have it.,Disabling the plugin by configuration is IMHO not required because the Web Console is targeted at admins only. And those would probably be interested in seeing the background jobs - no matter where they come from.,TODOS removed in revision 1231129. Plugin made optional in revision 1231138; can be disabled by configuration. The use case for disabling the plugin is when background jobs are user-level operations: our plugin is good enough for admin-level background jobs; but for end users it's good to have a UI that's integrated with the rest of your system's user-level UI. That was the whole idea behind the JobConsole service; to be able to create customized consoles; in which case it can be good to disable the webconsole plugin to avoid confusion.,> It might also be good to make this plugin optional; in case users want to supply a custom variant. Why ? Isn't our plugin good enough ?,,,,,,,,,,,,,,,,,,,
45835,,,,,,,,Integrated in Thrift #407 (See https://builds.apache.org/job/Thrift/407/) THRIFT-1517 TTransport.ReadAll() should set exception type to EndOfFile Patch: Stefan Gmeiner (Revision 1291039) Result = SUCCESS roger : http://svn.apache.org/viewvc/?view=rev&rev=1291039 Files : /thrift/trunk/lib/csharp/src/Transport/TTransport.cs,Thanks; committed.,,,,,,,,,,,,,,,,,,,,,,
45250,,,,,,,,Resolving as fixed. We can do better positioning of the comments once someone has a concrete use case for that.,,,,,,,,,,,,,,,,,,,,,,,
31554,,,,,,,,Dave has let me know that this has resoved the issue,,,,,,,,,,,,,,,,,,,,,,,
80768,,,,,,,,Now merged to the 0.20 release branch.,,,,,,,,,,,,,,,,,,,,,,,
29351,,,,,,,,This issue is maybe related to UIMA-1408.,,,,,,,,,,,,,,,,,,,,,,,
20927,,,,,,,,woops; thought this was already fixed...,Here is a patch that almost work. The idea is that PageManager.touchPage() is called only in Page#onAfterRender() and before redirect in the case of redirect_to_render strategy. The runtime is OK but WicketTester has some problems; mostly because MockPageManager is dumb.,This is not fixed actually. I'll give a try on the approach with lazy getting the page id.,maybe we can make page#getnumericid() get the id lazily. usually if something does call page#getnumericid() the page is not stateless.,This id is get from the Session during page construction. It is not possible at this point to know whether it is stateless or not. Non-stateless component/behavior can be added to the page before render-time. This is even how trunk works at the moment.,,,,,,,,,,,,,,,,,,,
644,,,,,,,,Integrated in ZooKeeper-trunk #1266 (See https://builds.apache.org/job/ZooKeeper-trunk/1266/) ZOOKEEPER-1104. CLONE - In QuorumTest; use the same 'for ( .. try { break } catch { } )' pattern in testFollowersStartAfterLeaders as in testSessionMove. (Eugene Koontz via mahadev) mahadev : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1157690 Files : /zookeeper/trunk/src/java/test/org/apache/zookeeper/test/QuorumTest.java /zookeeper/trunk/CHANGES.txt,I just pushed this to trunk only! Thanks Eugene; do let me know if this needs to go into 3.3 branch.,Eugene; I am assuming the patch is just for trunk. Let me know if it needs to go into 3.3 branch as well.,Hi Mahadev; Please use the ZOOKEEPER-1104 one ( ZOOKEEPER-1104.patch) -Eugene,Eugene; You have a couple of patches attached. 2 of them saying ZOOKEEPER-1103. Is ZOOKEEPER-1104 patch the one to consider for this jira?,+1 overall. Here are the results of testing the latest attachment http://issues.apache.org/jira/secure/attachment/12487200/ZOOKEEPER-1104.patch against trunk revision 1152141. +1 @author. The patch does not contain any @author tags. +1 tests included. The patch appears to include 4 new or modified tests. +1 javadoc. The javadoc tool did not generate any warning messages. +1 javac. The applied patch does not increase the total number of javac compiler warnings. +1 findbugs. The patch does not introduce any new Findbugs (version 1.3.9) warnings. +1 release audit. The applied patch does not increase the total number of release audit warnings. +1 core tests. The patch passed core unit tests. +1 contrib tests. The patch passed contrib unit tests. Test results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/449//testReport/ Findbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/449//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html Console output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/449//console This message is automatically generated.,-1 overall. Here are the results of testing the latest attachment http://issues.apache.org/jira/secure/attachment/12487200/ZOOKEEPER-1104.patch against trunk revision 1148553. +1 @author. The patch does not contain any @author tags. +1 tests included. The patch appears to include 4 new or modified tests. +1 javadoc. The javadoc tool did not generate any warning messages. +1 javac. The applied patch does not increase the total number of javac compiler warnings. +1 findbugs. The patch does not introduce any new Findbugs (version 1.3.9) warnings. -1 release audit. The applied patch generated 26 release audit warnings (more than the trunk's current 24 warnings). -1 core tests. The patch failed core unit tests. +1 contrib tests. The patch passed contrib unit tests. Test results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/404//testReport/ Release audit warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/404//artifact/trunk/patchprocess/patchReleaseAuditProblems.txt Findbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/404//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html Console output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/404//console This message is automatically generated.,sorry should have read 'since June 21-June 22' {{ commit 9619bd31d5b191fdb7d622d2bb84fac92ab1111c Author: Patrick D. Hunt <phunt@apache.org> Date: Wed Jun 22 19:35:55 2011 +0000 Fixed a problem introduced by the first patch for ZOOKEEPER-1103 (phunt) git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1138595 13f79535-47bb-0310-9956-ffa450edef68 commit 77992edd8abc6ffd759d60266e55fd3b388b7d3a Author: Patrick D. Hunt <phunt@apache.org> Date: Tue Jun 21 22:19:04 2011 +0000 ZOOKEEPER-1103. In QuorumTest; use the same 'for ( .. try { break } catch { } )' pattern in testFollowersStartAfterLeaders as in testSessionMove. (Eugene Koontz v git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1138213 13f79535-47bb-0310-9956-ffa450edef68 }},Hi; an earlier version of the patch for this issue is now in trunk since: I am adding another; smaller patch that syncs trunk with the modifications of this patch (removing the unneeded 'boolean success' variable).,,,,,,,,,,,,,,,
14387,,,,,,,,we're moving away from dojo integration in struts2; so you won't likely get much traction on this issue. If you want/need this resolved; then reopen; but provide a patch that we can apply. The core devs aren't going to allocate time to the dojo plugin at this point.,that bug arises when you have autoComplete=true. Setting it in false it works.,Setting to future pending a patch.,,,,,,,,,,,,,,,,,,,,,
485,,,,,,,,+1 overall. Here are the results of testing the latest attachment http://issues.apache.org/jira/secure/attachment/12508207/ZOOKEEPER-1263.patch against trunk revision 1214571. +1 @author. The patch does not contain any @author tags. +1 tests included. The patch appears to include 6 new or modified tests. +1 javadoc. The javadoc tool did not generate any warning messages. +1 javac. The applied patch does not increase the total number of javac compiler warnings. +1 findbugs. The patch does not introduce any new Findbugs (version 1.3.9) warnings. +1 release audit. The applied patch does not increase the total number of release audit warnings. +1 core tests. The patch passed core unit tests. +1 contrib tests. The patch passed contrib unit tests. Test results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/844//testReport/ Findbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/844//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html Console output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/844//console This message is automatically generated.,,,,,,,,,,,,,,,,,,,,,,,
722,,,,,,,,Out of curiosity; could we save a FOLLOWING notification as our lastMessage then; even if we don't send it? That would give you the 'current' state more accurately than a stale LOOKING notification and it seems like it could solve this particular problem. We could; but that wouldn't give an accurate state as well. A peer might be in the LOOKING state (next FLE round) while the lastMessage gets sent. There will be race conditions. In my opinion; a better way of doing this is to send the current state instead of lastMessage. In which case; I agree with Flavio that sending the final notifications won't be necessary. This will also reduce the number of notifications exchanged.,It is unclear to me why you say that a FOLLOWING notification does not get enqueued; Vishal. A peer does send a notification when it receives one from a peer LOOKING through the same mechanism as other notifications. My comment was in the context of previous scenario that we were discussing.,It is unclear to me why you say that a FOLLOWING notification does not get enqueued; Vishal. A peer does send a notification when it receives one from a peer LOOKING through the same mechanism as other notifications. Also; you're right that it does not send a final notification message. I believe it is this way because the peer will still respond to a notification from a peer that it is looking; so the message is not strictly necessary.,Ok; I didn't see that thanks. Out of curiosity; could we save a FOLLOWING notification as our lastMessage then; even if we don't send it? That would give you the 'current' state more accurately than a stale LOOKING notification and it seems like it could solve this particular problem.,The FOLLOWING notification does not get qeueued. If I am not mistaken; a peer does not send a notification after finishing FLE.However; I think that my patch for 975 would avoid this problem. In that patch I store only the most recently sent notification (and not all notifications). The most recent notification sent by S2 would be the one where it tells everyone that it is LOOKING and it thinks that S1 is the leader. We should get rid of lastMessage in QCM. wherever we send lastMessage; we should send the current state of the peer. So; if the peer is in the middle of FLE; send <epoch;proposedleader; proposedzxid; LOOKING>. Otherwise; send <epich; leader; lastLoggedZxid(); FOLLOWING/LEADING>,Er first sentance is backwards should read: Wouldn't S3 recieve a FOLLOWING notification from S2 not LOOKING if S2 ended up following S1 initially.,Wouldn't S2 receive a FOLLOWING notification from S3; not a LOOKING notification; if S3 ended up following S1 initially? Isn't FOLLOWING the last notification that it sends? In which case T3: S3 starts FLE from e=0 xid=5; sees a FOLLOWING notification; has no quorum; and goes to round 2. T4: Attempt to LEAD from S2 with the higher xid; and cede power. Or is the FOLLOWING message somehow not put on the queue?,If I am not mistaken the scenario Flavio presents is as follows: T0: S1; S2; S3 start FLE. Lets assume that S2's notification is (e=1; xid=1). In the end; S1 wins. T1: S1(e=1; xid=10); S2(e=1; xid=10); S3(e=1; xid=5) T2: S1 and S3 crash T3: S3 reboots (really fast); starts FLE from <e=0; xid=10>; and receives S2's notification of (e=1; xid=1) T4: S3 updates its epoch to 1; compares <e=1; xid=1> vs its <e=1; xid=5> and decides to lead. However; S2 should not follow S3 (after removing the blind following condition). S2 will follow S3 only if a majority are following S3. In this case they are not. Now; S2 in turn will receive a 'LOOKING' notification from S3 (sent during T3). S2 will also decide to lead. Both will think they are LEADING. They will timeout and start another round of election. This time; S2 will turn out to be the winner. Does this make sense? I think the problem here is 'lastMessage' in QCM. I was thinking about this while working on the patch. As I mentioned in 975; I think we should send the current state <e; lastLoggedZxid> instead of lastMessage. Also; in T3; we might want to initialize logicalClock to epoch stored in transaction logs. What do you think?,How would S3 get an old message from S2? I don't understand what you mean by message duplicates in this scenario.,Right; but what if S3 crashes and recovers? In this case; logicalclock is reset and receiving the old message from S2 would cause S3 to lead; as described above. If this is right; then is it only possible if we have message duplicates?,7.S1 drops leadership (doesn't matter why); 8.S3 starts leader election and receives the notification S2 sent in step 3; Wouldn't the notification from S2 have n.epoch < logicalclock; causing it to be ignored?,Hi Flavio; I submitted a patch to ZOOKEEPER-975 yesterday; but I forgot to mention it on this bug. I think it addresses both 975 and this bug. I am not sure if you got a chance to take a look at it? (I just noticed that the patch failed on trunk. I will fix that) The patch removes the two incorrect if conditions that I mentioned above (in addition to changes done for 975). Note - in the diff; for the the second if (where the peer blindly follows); we may have to check the epoch as well. I also posted a question yesterday pointing out a place where we don't send the latest zxid when the cluster is running. I think we should fix that as well. I was planning to write a test to verify the patch; but I will wait to hear back regarding the diff and questions posted to ZOOKEEPER-975 before proceeding.,To follow up on my own comments. Here is how I'm currently thinking. For the issue described in this jira to happen; the following needs to hold: We have a broken leader that does not have the highest last zxid in a quorum; There is a quorum containing the broken leader such that for every element of the quorum; the last zxid epoch is the same or smaller compared to the epoch of the broken leader. If this condition doesn't hold; then at least one server will not follow the broken leader; The broken leader must have received at least one notification during leader election that reflect an old state of the system. Clearly the problem Vishal has reported matches this description; since repeating notifications causes a server to receive notifications that might reflect a stale state of the system. However; I'm not entirely convinced that we can completely get rid of this problem with a patch for ZOOKEEPER-975 because of scenarios like the following; which at least abstractly seems to work: There are three servers: S1; S2; S3; Servers come all from epoch e ; and are trying to elect a new leader for e+1; Each server sends one notification to each of the other servers; proposing itself as leader; S2 and S3 receive a notification from S1; and suppose that S1's vote supersedes their own votes. S2 and S3 eventually decide to follow S1; S1 receives notifications from S2 and S3 and decides to lead; S2 follows S1 for a longer time than S3; so S3 lags behind; S1 drops leadership (doesn't matter why); S3 starts leader election and receives the notification S2 sent in step 3; S3 believes it is the leader and starts leading; S2 receives a leading notification from S3 and starts following S3; thus truncating its log (!!!) The last step is mainly due to the broken 'if' statement I mentioned before. Now; in this example; there was no repetition of notification messages ( ZOOKEEPER-975); and yet we've reached a problem. The question is if this run can happen or not. Can you see any step that can't happen? To me; the one step that is not clear is Step 8; but I can't convince myself that it can't happen.,I'm not entirely convinced that ZOOKEEPER-975 is the right fix for this problem. In my perception; it might make it less probable; but it still doesn't get rid of the problem. Let me put some thoughts here. My understanding is that currently we rely upon a safety property from leader election; which says that the server that arises as leader has the highest zxid among a quorum of servers. This is a nice optimization because it speeds up the recovery process. The problem I see is that the zxid used in votes to determine leadership may not be the same as the current zxids of servers because of the problem that ZOOKEEPER-975 points to or simply because messages come in late. The former is exactly the case we observed here. Consequently; leader election violated the safety property it was supposed to satisfy. My current opinion is that we should be making sure that the leader really has the highest zxid among a quorum before exercising leadership. I believe we do not perform this check today; and this probably implies a deeper change and requires some more thinking. Regarding the 'if' that blindly accepts a leader; I think it should go away. It sounds wrong even without the fix for ZOOKEEPER-975.,That's a good catch. I was thinking that the only thing we might need to do is remove the case that follows a leader blindly. In my understanding; this is the case that allowed server 2 to follow server 3. Server 1 wouldn't have followed server 3 if there wasn't a quorum supporting 3; since the 'if' statement that makes the decision on following the server is guarded by this predicate: (n.epoch == logicalclock) It sounds like we will need a new release soon...,Wow; thanks for the in-depth explanation. It makes sense to me; in terms of the timeline of events and what could go wrong; but I don't know enough about the Zookeeper code to be able to verify for sure. I would love to try out a patch for ZOOKEEPER-975 and see if that fixes the problem for me. (I added myself as a watcher for that bug.),Hi Jeremy; I think I know whats going on here. The bug description that I gave in my earlier comment is causing legitimate transactions to get truncated. You were right about node 3 becoming the leader after reboot. I have given the order of events and my explanation below. Note that the order of events is slightly different from what you described. 1. After your step 6; node 1 becomes the leader (its ID is > node 3's id). Heres what node1 is saying in terms of membership and elections rounds. a) 2048:151124 [QuorumPeer:/0.0.0.0:2888] WARN org.apache.zookeeper.server.quorum.Learner - Exception when following the leader <==== NODE 2 WENT DOWN HERE (your step #6) b) 13497: at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:375) ===> NODE 3 WENT DOWN HERE (your step #8) c) 17926:309591 [LearnerHandler-/13.0.0.12:52753] WARN org.apache.zookeeper.server.quorum.LearnerHandler - ******* GOODBYE /13.0.0.12:52753 ******** ===> NODE2 WENT DOWN HERE AGAIN (Your step #10) d) 18044 310757 [QuorumPeer:/0.0.0.0:2888] INFO org.apache.zookeeper.server.quorum.Leader - Shutdown called ===> NODE1 shutdown again? (This is because it lost majority as explained below) 18045 at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:390) 18046 at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:367) 18047 at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:658) e) 23685:1831 [pool-1-thread-3] INFO org.apache.zookeeper.server.quorum.QuorumPeer - tickTime set to 3000 ====> NODE1 restarted again (this is because of your client assert) 2. Notice that the time difference between b) and c) above is only 4.5 seconds. So you rebooted node 2 before node 3 had joined the cluster. As a result node 1 lost its majority and gave up leadership. You can see that shutdown is called from Leader.java:367; which is done when the leader cannot ping the followers. Your application would have seen a DISCONNECT before it asserted. What took node 3 so long to join the cluster? As described in ZOOKEEPER-975 and my previous comment; 3 went into LEADING state because of the bug in FastLeaderElection. After 3 reboots; nodes 1 and 2 send old notifications to 3. When 3 receives notifications of all nodes; it goes in the leading state. Heres the incorrect if condition from FastLeaderElection //If have received from all nodes; then terminate if ((self.getVotingView().size() == recvset.size()) && (self.getQuorumVerifier().getWeight(proposedLeader) != 0)) { self.setPeerState((proposedLeader == self.getId()) ? ServerState.LEADING: learningState()); leaveInstance(); return new Vote(proposedLeader; proposedZxid); } 3. Now; 3 is in LEADING state and it will remain in the LEADING state until ticktime * initTime or until a majority of followers start following 3. In the mean time; 2 boots and starts leader election. 2 receives a notification from 3; which claims 3 to be the leader. 2533 [WorkerReceiver Thread] INFO org.apache.zookeeper.server.quorum.FastLeaderElection - Notification: 37 (n.leader); 17179869831 (n.zxid); 3 (n.round); LEADING (n.state); 37 (n.sid); LOOKING (my state) 2534 [QuorumPeer:/0.0.0.0:2888] DEBUG org.apache.zookeeper.server.quorum.FastLeaderElection - id: 126; proposed id: 126; zxid: 17179869911; proposed zxid: 17179869911 2534 [QuorumPeer:/0.0.0.0:2888] DEBUG org.apache.zookeeper.server.quorum.FastLeaderElection - Adding vote: From = 126; Proposed leader = 126; Porposed zxid = 17179869911; Proposed epoch = 1 2534 [QuorumPeer:/0.0.0.0:2888] DEBUG org.apache.zookeeper.server.quorum.FastLeaderElection - id: 37; proposed id: 126; zxid: 17179869831; proposed zxid: 17179869911 2534 [QuorumPeer:/0.0.0.0:2888] DEBUG org.apache.zookeeper.server.quorum.FastLeaderElection - Adding vote: From = 37; Proposed leader = 37; Porposed zxid = 17179869831; Proposed epoch = 3 2534 [QuorumPeer:/0.0.0.0:2888] DEBUG org.apache.zookeeper.server.quorum.FastLeaderElection - I'm a participant: 126 2 blindly believes that 3 is the leader and starts following 3! As a result; 2's state is rolled-back (because 3 has old zxid). So 2 truncates its transactions logs. Heres the incorrect if statement: default: /* There is at most one leader for each epoch; so if a peer claims to be the leader for an epoch; then that peer must be the leader (no* arbitrary failures assumed). Now; if there is no quorum supporting this leader; then processes will naturally move to a new epoch. */ if(n.epoch == logicalclock) Unknown macro: { recvset.put(n.sid; new Vote(n.leader; n.zxid; n.epoch)); if((n.state == ServerState.LEADING) || (termPredicate(recvset; new Vote(n.leader; n.zxid; n.epoch; n.state)) && checkLeader(outofelection; n.leader; n.epoch)) ){ self.setPeerState((n.leader == self.getId()) ? ServerState.LEADING: learningState()); leaveInstance(); return new Vote(n.leader; n.zxid); } } 3. Now; 1 is also running leader election (it does this immediately after loosing majority). 1 now receives votes from 2 and 3 that say that 3 is the leader. So; 1 starts following 3. 18427 314274 [WorkerReceiver Thread] DEBUG org.apache.zookeeper.server.quorum.FastLeaderElection - Receive new notification message. My id = 215 18428 314274 [WorkerReceiver Thread] INFO org.apache.zookeeper.server.quorum.FastLeaderElection - Notification: 37 (n.leader); 17179869831 (n.zxid); 3 (n.round); FOLLOWING (n.state); 126 (n.sid); LOOKING (my state) 18429 314274 [QuorumPeer:/0.0.0.0:2888] DEBUG org.apache.zookeeper.server.quorum.FastLeaderElection - I'm a participant: 215 18430 314274 [QuorumPeer:/0.0.0.0:2888] INFO org.apache.zookeeper.server.quorum.QuorumPeer - FOLLOWING As a result; 1 ends up truncating its transactions as well. In order for your client to see 3292 znode; the ensemble would have to rolled-back at least (3348 - 3291) 57 transactions. We can see that both 1 and 2 went back (17179869911 - 17179869831) 80 transactions. In short; there are several places where a peer goes in correct states. The main reason for this is that it does not always rely on <epoch; id; zxid> to determine leadership. ZOKEEPER-975 had identified some of them; and the fix for ZOKEEPER-975 would have prevented this bug. I already have a working patch for ZOKEEPER-975 that I did not attach to the bug; because I had implemented it on top of ZOOKEEPER-932. To avoid back porting and testing efforts; I was hoping that ZOOKEEPER-932 would get reviewed soon so that I can post a patch for ZOOKEEPER-975. It turns out that ZOOKEEPER-975 is a blocker; so I will pull out the changes for ZOOKEEPER-975 and submit it for review. We might have to do more changes to cleanup FastLeaderElection; but my patch for ZOOKEEPER-975 should at least get rid of the bug that you are seeing. Let me know if you think I have miscalculated things here.,Could it be this: A. Notice that suddently node 2 goes in following state: 2533 [WorkerReceiver Thread] INFO org.apache.zookeeper.server.quorum.FastLeaderElection - Notification: 126 (n.leader); 17179869911 (n.zxid); 1 (n.round); LOOKING (n.state); 126 (n.sid); LOOKING (my state) 2533 [WorkerReceiver Thread] DEBUG org.apache.zookeeper.server.quorum.FastLeaderElection - Receive new notification message. My id = 126 2533 [WorkerReceiver Thread] INFO org.apache.zookeeper.server.quorum.FastLeaderElection - Notification: 37 (n.leader); 17179869831 (n.zxid); 3 (n.round); LOOKING (n.state); 37 (n.sid); LOOKING (my state) 2533 [WorkerReceiver Thread] DEBUG org.apache.zookeeper.server.quorum.FastLeaderElection - Receive new notification message. My id = 126 2533 [WorkerReceiver Thread] INFO org.apache.zookeeper.server.quorum.FastLeaderElection - Notification: 37 (n.leader); 17179869831 (n.zxid); 3 (n.round); LEADING (n.state); 37 (n.sid); LOOKING (my state) 2534 [QuorumPeer:/0.0.0.0:2888] DEBUG org.apache.zookeeper.server.quorum.FastLeaderElection - id: 126; proposed id: 126; zxid: 17179869911; proposed zxid: 17179869911 2534 [QuorumPeer:/0.0.0.0:2888] DEBUG org.apache.zookeeper.server.quorum.FastLeaderElection - Adding vote: From = 126; Proposed leader = 126; Porposed zxid = 17179869911; Proposed epoch = 1 2534 [QuorumPeer:/0.0.0.0:2888] DEBUG org.apache.zookeeper.server.quorum.FastLeaderElection - id: 37; proposed id: 126; zxid: 17179869831; proposed zxid: 17179869911 2534 [QuorumPeer:/0.0.0.0:2888] DEBUG org.apache.zookeeper.server.quorum.FastLeaderElection - Adding vote: From = 37; Proposed leader = 37; Porposed zxid = 17179869831; Proposed epoch = 3 2534 [QuorumPeer:/0.0.0.0:2888] DEBUG org.apache.zookeeper.server.quorum.FastLeaderElection - I'm a participant: 126 B. Due to ZOOKEEPER-975; 3 goes in LEADING state because it receives history of old notifications from node 1 and node2. node3_after_restart: 2653 [WorkerReceiver Thread] INFO org.apache.zookeeper.server.quorum.FastLeaderElection - Notification: 37 (n.leader); 17179869831 (n.zxid); 1 (n.round); LOOKING (n.state); 37 (n.sid); LOOKING (my state) //If have received from all nodes; then terminate if ((self.getVotingView().size() == recvset.size()) && (self.getQuorumVerifier().getWeight(proposedLeader) != 0)) { self.setPeerState((proposedLeader == self.getId()) ? ServerState.LEADING: learningState()); leaveInstance(); return new Vote(proposedLeader; proposedZxid); } C. After which node 2 starts following node 3 and then node 1 starts following node 3 (because 2 is following 3) due to: default: /* There is at most one leader for each epoch; so if a peer claims to be the leader for an epoch; then that peer must be the leader (no* arbitrary failures assumed). Now; if there is no quorum supporting this leader; then processes will naturally move to a new epoch. */ if(n.epoch == logicalclock) Unknown macro: { recvset.put(n.sid; new Vote(n.leader; n.zxid; n.epoch)); if((n.state == ServerState.LEADING) || (termPredicate(recvset; new Vote(n.leader; n.zxid; n.epoch; n.state)) && checkLeader(outofelection; n.leader; n.epoch)) ){ self.setPeerState((n.leader == self.getId()) ? ServerState.LEADING: learningState()); leaveInstance(); return new Vote(n.leader; n.zxid); } },The logs are really very difficult to follow. What would make them easier to follow? I am about to replace the relative timestamps with wallclock timestamps and I will try to reproduce. Is there anything else that might help? 2048:151124 [QuorumPeer:/0.0.0.0:2888] WARN org.apache.zookeeper.server.quorum.Learner - Exception when following the leader <==== NODE 2 WENT DOWN HERE 13497: at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:375) ===> NODE 3 WENT DOWN HERE 17926:309591 [LearnerHandler-/13.0.0.12:52753] WARN org.apache.zookeeper.server.quorum.LearnerHandler - ******* GOODBYE /13.0.0.12:52753 ******** ===> NODE2 WENT DOWN HERE AGAIN Correct; node2 dies twice during the period I've described. (Steps #6 and #10.) 18044:310757 [QuorumPeer:/0.0.0.0:2888] INFO org.apache.zookeeper.server.quorum.Leader - Shutdown called ===> NODE1 shutdown again (which is why node 3 became the leader)? This happens because my node1 client code; running in tandem with the ZK server code; hits an assert failure when it detects the sequence numbers decreasing; and kills the server code as well; then our framework restarts everything. So this is AFTER the client creates a file with a decreased seqno. Everything after this point in the node1 file did not contribute to the bug. (I left it in the log in case it showed anything interesting after the restart.) If you grep for 0000000000000000_record0000003292 and 0000000000000000_record0000003348 in node2_after_restart.log we can see that znode ending with 3292 was at least accessed before 3348. Yes; while node2 was alive; nodes up to 3348 were accessed. That 3292 is the original node with that sequence number. The second one created by node1 does not appear to show up in the logs labeled as such _x0089_ÛÒ I'm not sure how to get the ZookeeperServer to print a log message containing the name of the file it created. I am confused to see that node1_after_restart.log does not have any trace of sequential znodes beyond /zkrsm/0000000000000000_record0000000921 (especially because Node1 was the leader when the znodes in questions were created). It looks to me like node #2 was the leader for a large chunk of time based on these lines in node1_after_restart: 2535 [WorkerReceiver Thread] INFO org.apache.zookeeper.server.quorum.FastLeaderElection - Notification: 126 (n.leader); 8589936862 (n.zxid); 2 (n.round); LEADING (n.state); 126 (n.sid); LOOKING (my state) ... 154676 [WorkerReceiver Thread] INFO org.apache.zookeeper.server.quorum.FastLeaderElection - Notification: 215 (n.leader); 12884902548 (n.zxid); 3 (n.round); LOOKING (n.state); 126 (n.sid); LEADING (my state) After that; there are a bunch of create messages within /zkrsm; but no GetDatas. I am also not sure whether to trust the cxid in these messages or not. If I am not mistaken; they represent the current transaction id as seen by the client. How can we isolate the transaction that did the creates? This confused me as well. If there's anything I can do to get more accurate logs; please let me know. I'm not sure if I can reproduce this yet; but I have a strategy I'm planning to try.,If you grep for 0000000000000000_record0000003292 and 0000000000000000_record0000003348 in node2_after_restart.log we can see that znode ending with 3292 was at least accessed before 3348. 2943:153670 [FollowerRequestProcessor:126] TRACE org.apache.zookeeper.server.quorum.FollowerRequestProcessor - :Fsessionid:0x7e2ec782ff5f0000 type:getDate cxid:0x4d830245 zxid:0xfffffffffffffffe \ txntype:unknown reqpath:/zkrsm/0000000000000000_record0000003292 [...] 4340:156963 [FollowerRequestProcessor:126] TRACE org.apache.zookeeper.server.quorum.FollowerRequestProcessor - :Fsessionid:0x7e2ec782ff5f0000 type:getDate cxid:0x4d8302bb zxid:0xfffffffffffffffe \ txntype:unknown reqpath:/zkrsm/0000000000000000_record0000003348 The first column above indicates line number. The type (getDate) is a typo and should be getData. Similarly; in log3_after_restart: 32497:24471 [ProcessThread:-1] TRACE org.apache.zookeeper.server.PrepRequestProcessor - :Psessionid:0x252ec7856ce60000 type:getDate cxid:0x4d8300c1 zxid:0xfffffffffffffffe txntype:unknown reqpath\ :/zkrsm/0000000000000000_record0000003292 [...] 37513:27851 [ProcessThread:-1] TRACE org.apache.zookeeper.server.PrepRequestProcessor - :Psessionid:0x252ec7856ce60001 type:getDate cxid:0x4d8300f3 zxid:0xfffffffffffffffe txntype:unknown reqpath\ :/zkrsm/0000000000000000_record0000003348 I am confused to see that node1_after_restart.log does not have any trace of sequential znodes beyond /zkrsm/0000000000000000_record0000000921 (especially because Node1 was the leader when the znodes in questions were created). I am also not sure whether to trust the cxid in these messages or not. If I am not mistaken; they represent the current transaction id as seen by the client. How can we isolate the transaction that did the creates?,The logs are really very difficult to follow. Also; I think the sequence of events as described do not match with the logs. Heres what we can see in from node1_after_restart 2048:151124 [QuorumPeer:/0.0.0.0:2888] WARN org.apache.zookeeper.server.quorum.Learner - Exception when following the leader <==== NODE 2 WENT DOWN HERE 13497: at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:375) ===> NODE 3 WENT DOWN HERE 17926:309591 [LearnerHandler-/13.0.0.12:52753] WARN org.apache.zookeeper.server.quorum.LearnerHandler - ******* GOODBYE /13.0.0.12:52753 ******** ===> NODE2 WENT DOWN HERE AGAIN 18044:310757 [QuorumPeer:/0.0.0.0:2888] INFO org.apache.zookeeper.server.quorum.Leader - Shutdown called ===> NODE1 shutdown again (which is why node 3 became the leader)? There seem to be a few restarts after this as well grep -n 'tickTime set to 3000' node1_after_restart.log [...] 23685:1831 [pool-1-thread-3] INFO org.apache.zookeeper.server.quorum.QuorumPeer - tickTime set to 3000 28491:1479 [pool-1-thread-2] INFO org.apache.zookeeper.server.ZooKeeperServer - tickTime set to 3000 So anything beyond time 310757 is not as described in the bug report. Also note that because of ZOKEEPER-975; after receiving notifications from all peers a node can go in LEADING state until it waits for initTime() * tickTime(). Then; it will timeout; start FLE; and go to FOLLOWING state.,These logs are very difficult to read; but one thing I notice is this log from node1_after_restart: 314258 [Thread-3] DEBUG org.apache.zookeeper.server.quorum.QuorumCnxManager - Address of remote peer: 126 314267 [WorkerReceiver Thread] DEBUG org.apache.zookeeper.server.quorum.FastLeaderElection - Receive new notification message. My id = 215 314267 [WorkerReceiver Thread] INFO org.apache.zookeeper.server.quorum.FastLeaderElection - Notification: 126 (n.leader); 17179869911 (n.zxid); 1 (n.round); LOOKING (n.state); 126 (n.sid); LOOKING (my state) 314267 [QuorumPeer:/0.0.0.0:2888] DEBUG org.apache.zookeeper.server.quorum.FastLeaderElection - Notification epoch is smaller than logicalclock. n.epoch = 1; Logical clock4 314267 [WorkerSender Thread] DEBUG org.apache.zookeeper.server.quorum.QuorumCnxManager - There is a connection already for server 126 314273 [WorkerReceiver Thread] DEBUG org.apache.zookeeper.server.quorum.FastLeaderElection - Receive new notification message. My id = 215 314273 [WorkerReceiver Thread] INFO org.apache.zookeeper.server.quorum.FastLeaderElection - Notification: 126 (n.leader); 17179869911 (n.zxid); 3 (n.round); LOOKING (n.state); 126 (n.sid); LOOKING (my state) 314273 [QuorumPeer:/0.0.0.0:2888] DEBUG org.apache.zookeeper.server.quorum.FastLeaderElection - Notification epoch is smaller than logicalclock. n.epoch = 3; Logical clock4 314273 [WorkerSender Thread] DEBUG org.apache.zookeeper.server.quorum.QuorumCnxManager - There is a connection already for server 126 314274 [WorkerReceiver Thread] DEBUG org.apache.zookeeper.server.quorum.FastLeaderElection - Receive new notification message. My id = 215 314274 [WorkerReceiver Thread] INFO org.apache.zookeeper.server.quorum.FastLeaderElection - Notification: 37 (n.leader); 17179869831 (n.zxid); 3 (n.round); FOLLOWING (n.state); 126 (n.sid); LOOKING (my state) 314274 [QuorumPeer:/0.0.0.0:2888] DEBUG org.apache.zookeeper.server.quorum.FastLeaderElection - I'm a participant: 215 QuorumPeer:/0.0.0.0:2888] INFO org.apache.zookeeper.server.quorum.QuorumPeer - FOLLOWING Specifically; that the n.zxid starts at 17179869911; and goes to 17179869831 when election finishes. And in fact node3 does believe it is LEADING according to the logs. It's also confusing because the node3 logs have a bunch of lines like this: 6397 [WorkerReceiver Thread] INFO org.apache.zookeeper.server.quorum.FastLeaderElection - Notification: 215 (n.leader); 17179869918 (n.zxid); 4 (n.round); LOOKING (n.state); 215 (n.sid); LEADING (my state) Why is my state LEADING; but n.leader is node1; but node1 is also LOOKING?,Actually; step 11 above is not correct; according to Flavio on the mailing list. Node #3 proposed that it become leader; but did not have enough followers.,Contains a partial before-restart log for node #3 (node3_after_restart.log) and an after-restart log for all three nodes.
34559,,,,,,,,Lazy session associated has been implemented in the TuscanyValve The spec people are still discussing Scope so I am going to close this and we can open a new issue when the spec clearly defines how scopes operate.,Moving to the correct component.,Do you mean provide integration for session event notification? There is a servlet filter that does this which has code that could be re-used. It actually does lazy-access of session id's so a session is not created if session-scoped services are not accessed during a request. Another touchpoint could be for state replication. I think we should look at a general change-tracking mechanism for the runtime internals (possible based on SDO using a binary diff format) to do this as well as implement a 'Tuscany' binding.,,,,,,,,,,,,,,,,,,,,,
27962,,,,,,,,Code delivered to SVN.,Various updates to JD/OR/WS to get up-to-date: Employ json for externalized data Service submit should support flag --classpath_order Copyright 2013 JP JMX URL not showing in the DUCC monitor while the JP is in INITIALIZING state Minimize real estate occupied by WS top of page banner WS should capture to its log std out/err from ducc_ling (and not write to /tmp file) WS should tell browser not to cache volatile JSON and other responses CLI+WS+OR+JD Support for arbitrary processes Provide ability to specify on Json Reservation query the desired state type: {all;active;inactive} User control of user filtering (include; include+active...) but under Preferences Performance tab incorrectly displays 00 for Avg/Min columns DUCC submit with monitor results in non-zero RC when job has zero work items to process WS shows RM daemon status as unknown WS using obsolete cookie when it should now user session variable containing userId WS Machines page doesn't count shares in use for services Kill -9 of running service leaves State == Running?? Projected time to finish not shown User Preferences WS Performance tab displays incorrect durations under Total column Fix Datatables warning (table id = 'services-deployments-table'): Requested parameter '11' from the data source for row 0 WS default reservation class Allow specification of WS default reservation submit class name Headings should be fixed on Jobs/Reservations pages Fix potential NPE in WS Consistent ducc: cookie names JPs should not be allocated for Jobs that have no work items to process WS login time should be infinite; until browser process dies,,,,,,,,,,,,,,,,,,,,,,
59257,,,,,,,,Patch is in. Thanks.,Could you please repatch to current base as there seem to be some conflicts? Thanks.,,,,,,,,,,,,,,,,,,,,,,
62753,,,,,,,,Thank you!,,,,,,,,,,,,,,,,,,,,,,,
40844,,,,,,,,Looks like a user issue to me; two pages at the same time accessing probably the same session. There is not additional user feedbac on this issue. I am closing it now.,,,,,,,,,,,,,,,,,,,,,,,
58484,,,,,,,,Build on Windows looks also okay but there are still other problem loading the model data for the entity hub.,Confirmed; it builds fine on the environment from my comment above. Also builds fine on my regular config: Apache Maven 3.0.3 (r1075438; 2011-02-28 18:31:09+0100) Maven home: /opt/local/share/java/maven3 Java version: 1.6.0_24; vendor: Apple Inc. Java home: /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home Default locale: en_US; platform encoding: MacRoman OS name: 'mac os x'; version: '10.6.8'; arch: 'x86_64'; family: 'mac',Can you please check if the problem is fixed with r1145463 - on my machine the build runs fine now.,Seams like this depends on the ordering in that some Classes are loaded by the JVM. You could try to run the JVM in verbose mode than you should see what classes are loaded form what jar.,I have reproduced the error on a VirtualBox v4.08 virtual machine running Ubuntu 10.4 and the following configuration. Apache Maven 2.2.1 (rdebian-1) Java version: 1.6.0_20 Java home: /usr/lib/jvm/java-6-openjdk/jre Default locale: en_US; platform encoding: UTF-8 OS name: 'linux' version: '2.6.32-32-generic' arch: 'i386' Family: 'unix' However if I do not include the reasoners bundles in the launcher; the other components (including ontonet) start without a problem. Even after installing the reasoners bundles and restarting sling; all components still activate.,I think this bug is related to STANBOL-205.,This is the complete log of build 287 currently available at [1]. However this will be overridden by the next build. Therefore this attachment. [1] https://builds.apache.org/job/stanbol-trunk-1.6/ws/trunk/integration-tests/target/launchdir/sling/logs/error.log,,,,,,,,,,,,,,,,,
2463,,,,,,,,Added a couple small points I missed before; and fixed (I hope) some formatting. Thanks. If anyone notices any misuses of the document formatting please let me know. Thanks!,A better update; still probably could use some polish. Let me know what you think. Thanks!,I might update a few more parts of this patch I wanted to fix; if anyone is thinking of committing; maybe give me a few days here to do more of an overhaul. I am trying to leave the AMRMProtocol/ApplicationMaster stuff alone so that part can be updated when the AMClientImpl API is in the code (version 2.0.4 I think? Later?) Anyway; point being I'm trying to clarify and update the parts that are outdated or where a better API exists as of 2.0.3 or higher in this patch. If thats a bad idea; or there's other stuff you want changed while I'm in there; please feel free to drop me a line. Thanks! updated patch will be forthcoming...,I decided to take a whack at updating these for the YarnClientImpl stuff; this could (after review and fixes) go in now; before the AMClientImpl is in; or we can wait on this. Your call. Thanks!,I agree. Its painful to wait but this won't get done very often and having used the old and new APIs now; I would say this is worth waiting for. An overhaul of that document is a must in the near future; though!,YARN-417 is adding an async AMRMClient to simplify writing apps; so it might be good to incorporate that when it's finished.,,,,,,,,,,,,,,,,,,
21977,,,,,,,,How about my comment at the end? 'Also; I'm suspicious of the logic for handling parent markup containers in AutoLinkResolver. It uses 'if' instead of 'while.' What if the autolink was two levels up in the inheritance hierarchy? I think that it should walk the parent links until it finds a null; not just check the first one.',,,,,,,,,,,,,,,,,,,,,,,
