id,love,joy,surprise,anger,sadness,fear,notes,comment N,comment N-1,comment N-2,...,comment 2,comment1,,,,,,,,,,,,,,,,,,,
23562,,,,,x,,,Rolled back the change to Resource and included a FIXME that notes we don't cover all cases. But that doesn't lead to very serious problems anymore as it least the exception isn't thrown up in ComponentResourceRequestTarget anymore.,that change in ComponentResourceRequestTarget is fine But code that tries to not throw an exception at all should be back in. And improved for other situations/setups. It is pretty easy testing if you can test it in a debugger. Just set a break point in the respond method. And hold the break there. Then press the stop loading button of the browser. Then when you write again. Some kind of abort/reset socket exception should be thrown.,We can put that checking code in back again; and extend it with the cases for unix variants. What we should not put in is re-throwing of exceptions that aren't caught in that algorithm. They were ultimately caught by Wicket and Wicket tried to render an error page for it. Which doesn't make sense/ work for resource requests in the first place.,see http://www.nabble.com/Re%3A-svn-commit%3A-r482863---in--incubator-wicket%3A-branches-wicket-1.2.x-wicket-src-main-java-wicket--branches-wicket-1.2.x-wicket-src-main-java-wicket-request-target-resource--branches-wicket-1.x-wicket-src-main-java-wicket--branches-wicket-1.x-wicket--tf2770886.html,,,,,,,,,,,,,,,,,,,,,
77849,,,,,,,,Confirmed with Dave that this can be closed.,,,,,,,,,,,,,,,,,,,,,,,,
23248,,,,,,,,Fixed in trunk (r555005).,,,,,,,,,,,,,,,,,,,,,,,,
22766,,X,,,,,,Fixed and I've tested it.,Everything works great now. Thanks.,Can you plese give it a try now? Hopefully the second attempt will work :),Sorry; overlooked that. Will commit it soon.,In the removePage() method you removed the indicesList.toArray() so I now get a ConcurrentModificationException because the code tries to iterate through a list at the same time it's removing items. You could use something like this public void removePage(int pageId) { if (idToWindowIndices == null) { rebuildIndices(); } List indices = (List)idToWindowIndices.get(pageId); if (indices != null) { Object[] indicesArray = indices.toArray(); // Make a copy of the list so we don't get a ConcurrentModificationException for (int i=0; i < indicesArray.length; i++) { int index = ((Integer)indicesArray[i]).intValue(); PageWindowInternal window = (PageWindowInternal)windows.get(index); if (window.pageId == pageId) { removePage(window.pageId; window.versionNumber; window.ajaxVersionNumber); } } } } The other alternative would be to pass the iterator through to the removePage() method so it can call Iterator.remove() but this seems a lot more complicated. Also the list should never really be that big so copying it to an array shouldn't impact performance.,Hi; thanks for the bug report. I wish we had more reports like this. I've attempted to fix the issue; can you plese test if the current trunk works for you?,,,,,,,,,,,,,,,,,,,
23785,,,x,,,,,I just put this in branch-0.8 too. In fact; it's probably worth putting everything in branch-0.8 at the moment unless it's a major or incompatible change.,,,,,,,,,,,,,,,,,,,,,,,,
36622,,,,,,,,Proposed patch.,,,,,,,,,,,,,,,,,,,,,,,,
60669,,,,,,,,committed to 4.x and 5.x,,,,,,,,,,,,,,,,,,,,,,,,
38291,,,,x,,,,I should have marked this resolved back in September.,,,,,,,,,,,,,,,,,,,,,,,,
14921,,,,,X,,,Makes sense to me.,,,,,,,,,,,,,,,,,,,,,,,,
34486,,,,,X,,,Odd that you can't get the attached to build as it builds fine for me with the current latest code; never mind because I've tried it for you and yes this has fixed the problems and it now works. Thanks Jim! (Side note; I agree 100% about moving all the non-Java container specific tests out of the java container project),,,,,,,,,,,,,,,,,,,,,,,,
13997,,,X,,,,,Integrated in Struts2-JDK6 #573 (See https://builds.apache.org/job/Struts2-JDK6/573/) WW-3928 Rollbacks changes introduced with WW-2749 to allow work with mod_jk and so on (Revision 1415770) Result = SUCCESS lukaszlenart : Files : /struts/struts2/trunk/plugins/tiles/src/main/java/org/apache/struts2/tiles/StrutsTilesRequestContext.java,Integrated in Struts2-JDK5 #10 (See https://builds.apache.org/job/Struts2-JDK5/10/) WW-3928 Rollbacks changes introduced with WW-2749 to allow work with mod_jk and so on (Revision 1415770) Result = SUCCESS lukaszlenart : Files : /struts/struts2/trunk/plugins/tiles/src/main/java/org/apache/struts2/tiles/StrutsTilesRequestContext.java,I will have to rollback changes to StrutsTilesRequestContext as this causes problems in WW-3928,Integrated in Struts2 #528 (See https://builds.apache.org/job/Struts2/528/) WW-2749 adds missing <version/> tag (Revision 1381889) Result = SUCCESS lukaszlenart : Files : /struts/struts2/trunk/plugins/portlet-tiles/pom.xml,Done; patch applied; new page about the plugin added [1]! Thanks a lot! [1] https://cwiki.apache.org/confluence/display/WW/Portlet+Tiles+Plugin,Integrated in Struts2 #527 (See https://builds.apache.org/job/Struts2/527/) WW-2749 adds support for Tiles in Porlets as a dedicated plugin with new PortletTilesResult (Revision 1381887) Result = FAILURE lukaszlenart : Files : /struts/struts2/trunk/plugins/pom.xml /struts/struts2/trunk/plugins/portlet-tiles /struts/struts2/trunk/plugins/portlet-tiles/pom.xml /struts/struts2/trunk/plugins/portlet-tiles/src /struts/struts2/trunk/plugins/portlet-tiles/src/main /struts/struts2/trunk/plugins/portlet-tiles/src/main/java /struts/struts2/trunk/plugins/portlet-tiles/src/main/java/org /struts/struts2/trunk/plugins/portlet-tiles/src/main/java/org/apache /struts/struts2/trunk/plugins/portlet-tiles/src/main/java/org/apache/struts2 /struts/struts2/trunk/plugins/portlet-tiles/src/main/java/org/apache/struts2/views /struts/struts2/trunk/plugins/portlet-tiles/src/main/java/org/apache/struts2/views/tiles /struts/struts2/trunk/plugins/portlet-tiles/src/main/java/org/apache/struts2/views/tiles/PortletTilesResult.java /struts/struts2/trunk/plugins/portlet-tiles/src/main/resources /struts/struts2/trunk/plugins/portlet-tiles/src/main/resources/LICENSE.txt /struts/struts2/trunk/plugins/portlet-tiles/src/main/resources/NOTICE.txt /struts/struts2/trunk/plugins/portlet-tiles/src/main/resources/struts-plugin.xml /struts/struts2/trunk/plugins/tiles/src/main/java/org/apache/struts2/tiles/StrutsTilesRequestContext.java,Yeah; as this will no block with release if there be no room to introduce changes to the apps.,Ok; then I will provide a patch to update struts-portlet apps with an example. Should I create an issue for this patch (like WW-3853) ?,Nice work; give me some time to introduce these changes as my Mac went away :/,Following the conversation on the issue WW-2801; I attach a patch with a new portlet-tiles-plugin and a sample application.,Hi Do you have some correction date ? It is a painfull bug; I use the tiles plugin 2.1.8 and because it is a blocking issue for my company he may migrate to SiteMesh if no more information are provided.,I can confirm the pactch doesn't work; and the exception stated is thrown.,Are you sure that your patch work? I test this patch and doesn't work for me. I have this error : java.lang.ClassCastException: org.jboss.portal.portlet.impl.jsr168.api.RenderRequestImpl cannot be cast to javax.servlet.http.HttpServletRequest at org.apache.tiles.servlet.context.ServletTilesContextFactory.createRequestContext(ServletTilesContextFactory.java:59) at org.apache.tiles.context.ChainedTilesContextFactory.createRequestContext(ChainedTilesContextFactory.java:136) at org.apache.struts2.tiles.ausy.StrutsTilesContainerFactoryAusy$StrutsTilesContextFactoryAusy.createRequestContext(StrutsTilesContainerFactoryAusy.java:74) at org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:242),This patch (portletTiles.patch) is fixes the main problem; replacing request and response objects available to tiles classes with a proper ones - RenderRequest/Response but StrutsTilesListener from tiles-plugin is still uses StrutsTilesContainerFactory to initialize BasicTilesContainer with a ServletTilesRequestContext context class instead of org.apache.tiles.portlet.context.PortletTilesRequestContext. But as long as PortletContext is not available in Listener it seems to me the interface that tiles exposes for Struts - the TilesContainer - should be initialized somewhere else (perhaps in Jsr168Dispatcher ? ) any suggestions?,Attached patch for struts-2.1.2 to implement result-type 'portletiles',PortletTilesResult class for struts2-portlet-plugin Redefine result-type 'tiles' in your struts.xml to use 'org.apache.struts2.views.tiles.PortletTilesResult' class: <result-types> <result-type name='tiles' class='org.apache.struts2.views.tiles.PortletTilesResult' /> </result-types>,,,,,,,,,
18301,,X,,,,,,Issue is resolved. Closing per Bryant's approval to do so.,Integrated in Wink-Trunk-JDK1.6-itests #50 (See http://hudson.zones.apache.org/hudson/job/Wink-Trunk-JDK1.6-itests/50/) Reduce logging in error path case Stacktraces/exception objects still avaialble in debug mode but in normal mode a simpler info message is logged. Exception still thrown to container and in Geronim/Tomcat this means the stack trace is still printed out to the container log outside of Wink. See [],Integrated in Wink-Trunk-JDK1.5-itests #49 (See http://hudson.zones.apache.org/hudson/job/Wink-Trunk-JDK1.5-itests/49/) Reduce logging in error path case Stacktraces/exception objects still avaialble in debug mode but in normal mode a simpler info message is logged. Exception still thrown to container and in Geronim/Tomcat this means the stack trace is still printed out to the container log outside of Wink. See [],Integrated in Wink-Trunk-JDK1.5 #248 (See http://hudson.zones.apache.org/hudson/job/Wink-Trunk-JDK1.5/248/) Reduce logging in error path case Stacktraces/exception objects still avaialble in debug mode but in normal mode a simpler info message is logged. Exception still thrown to container and in Geronim/Tomcat this means the stack trace is still printed out to the container log outside of Wink. See [],,,,,,,,,,,,,,,,,,,,,
75901,,,,,,,,Refactoring out common code into a parent processing class for ack request/close/terminate,,,,,,,,,,,,,,,,,,,,,,,,
46218,,,,,,,,was introduced with THRIFT-1267,,,,,,,,,,,,,,,,,,,,,,,,
4691,,X,,,,,,Fixed; closing,,,,,,,,,,,,,,,,,,,,,,,,
17895,,X,,,,,,Verified. I added the info to the RELEASE_NOTES file.,I'm closing this as we aren't planning to implement the only remaining issue. I propose we just add an item to the release notes that we're 99% conformant apart from child iframe support.,WOOKIE-308 is the only remaining issue affecting conformance; we aren't going to fix that for 0.9.2 so I'll re-open this issue and punt to 0.10.0 to fix along with WOOKIE-308,OK; I've checked again and it looks like the WebStorage spec changed or I misinterpreted it: while clear() must remove the entries; getItem() must return Null rather than undefined when requesting a non-existing item: widget.preferences.clear(); // get rid of everything widget.preferences.setItem('foo'; null); // set 'foo' to equal null widget.preferences.getItem('foo'); // tuple exists and is set to null; return null widget.preferences.getItem('completely_undefined_bar'); tuple doesn't exist; return null I've updated Wookie and we can now pass test 'at'. We don't pass 'au' but I'll raise another issue for that.,(commits in the w3c test cases repo; not wookie!),OK; looks like my commits fixing the two tests were reverted; so no wonder at and au fail now. I'll follow that up and see if I can resolve it.,Hmm; I updated the 'at' and 'au' test cases at W3C to check for typeof==='undefined' rather than Null so they shouldn't be failing now...,I have just re-run all these tests on Windows 7; in the following environments... IE 9 Firefox 9.0.1 Opera 11.10 Google Chrome 16.0.912.75 m and the results were the same in each case... Test 'return-empty-strings' fails because widget.id returns wookies internal generated Id (expected behavior for wookie) Test 'setItem-fires-event' fails (storage event from iframe) Test 'removeItem-fires-event' fails (storage event from iframe) Test 'clearItem-fires-event' fails (storage event from iframe) Test 'Test at' fails because widget expects window.widget.preferences.getItem('deletable') to be null. it is actually 'undefined' Test 'au' fails because widget expects prefs.getItem('test1') to be null. it is actually 'undefined' It looks to me that this is in keeping with Scotts results; ok to verifiy now?,So here's the summary: #1 Fixed #2 Not a bug - I think its reasonable we pass on generated ids in the metadata #3 I don't think its really relevant as its an edge case. If anyone asks for sending storage events to child frames we can do it; but its not exactly urgent. #4 This is a test error - I've filed a bug with w3c ... so I'm closing the issue,I've fixed the engine.js error - this was caused by trying to delete prefs that throw a NO_MODIFICATION_ALLOWED_ERR . However the test case itself seems to be wrong as it expects cleared prefs to be === Null rather than typeof 'undefined'.,Current test results (0.9.2 rev 1199782) show mostly green; the following red: 1 Test preferences_attrreadonly failed because preferences in window.widget is not read-only 2 Test return-emtpy-strings failed because one of the attributes returned an incorrect value 3 Test did not run or storage event was never fired. 4 Test au failed because the values of the stored preferences were not what they should have been. #1 is because the preferences attribute itself is not read-only #2 is because we always generate an ID for a widget; even if it doesn't have one by default. #3 is a bit of a strange one to implement I'm not sure what causes the problem with #4; but it throws an engine.js error.,,,,,,,,,,,,,,
81122,,,,,,,,Committed to 0.18 branch r1366206,,,,,,,,,,,,,,,,,,,,,,,,
10134,,,,X,,,,Brian; I understand what you say and specification about 'serialization' in XSLT not 'indenting'. As I saied before; indenting is just the thing that we easily see the structure and data of XML document. Xalan output is not easy to see that. The last; I think the example of non-whitespace characters is no relationship to indenting. non-whitespace characters must not be stripped; but whitespace characters could be stripped. Regards; Tetsuya Yoshida åÊåÊåÊåÊ,,,,,,,,,,,,,,,,,,,,,,,,
28865,,,X,,,,,Fixed a prompt that asks user to enter either 's' or 'q'.,,,,,,,,,,,,,,,,,,,,,,,,
81302,,,,,,,,Changes merged to the 0.16 branch; updating the fix-for version accordingly.,,,,,,,,,,,,,,,,,,,,,,,,
48034,,,X,,,,,Very curious as to where you saw that exception. Because digging through my log files; all I see are series of 'NoClassDefFound' exceptions. Same goes for the sample project I submitted. I get the following stack trace: java.lang.RuntimeException: java.lang.ClassNotFoundException: caught an exception while obtaining a class file for org.apache.tapestry.transformationtest.pages.Start åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.tapestry.internal.services.ComponentInstantiatorSourceImpl.findClass(ComponentInstantiatorSourceImpl.java:240) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.tapestry.internal.services.ComponentInstantiatorSourceImpl.findInstantiator(ComponentInstantiatorSourceImpl.java:222) åÊåÊåÊåÊåÊåÊåÊåÊat $ComponentInstantiatorSource_1177c5597da.findInstantiator($ComponentInstantiatorSource_1177c5597da.java) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.tapestry.internal.services.PageElementFactoryImpl.newRootComponentElement(PageElementFactoryImpl.java:297) åÊåÊåÊåÊåÊåÊåÊåÊat $PageElementFactory_1177c5597e8.newRootComponentElement($PageElementFactory_1177c5597e8.java) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.tapestry.internal.services.PageLoaderProcessor.loadRootComponent(PageLoaderProcessor.java:387) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.tapestry.internal.services.PageLoaderProcessor.loadPage(PageLoaderProcessor.java:365) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.tapestry.internal.services.PageLoaderImpl.loadPage(PageLoaderImpl.java:60) åÊåÊåÊåÊåÊåÊåÊåÊat $PageLoader_1177c5597e5.loadPage($PageLoader_1177c5597e5.java) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.tapestry.internal.services.PagePoolCache.checkout(PagePoolCache.java:188) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.tapestry.internal.services.PagePoolImpl.checkout(PagePoolImpl.java:108) åÊåÊåÊåÊåÊåÊåÊåÊat $PagePool_1177c5597e4.checkout($PagePool_1177c5597e4.java) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.tapestry.internal.services.RequestPageCacheImpl.get(RequestPageCacheImpl.java:43) åÊåÊåÊåÊåÊåÊåÊåÊat $RequestPageCache_1177c5597e3.get($RequestPageCache_1177c5597e3.java) åÊåÊåÊåÊåÊåÊåÊåÊat $RequestPageCache_1177c5597d7.get($RequestPageCache_1177c5597d7.java) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.tapestry.internal.services.PageRenderRequestHandlerImpl.handle(PageRenderRequestHandlerImpl.java:55) åÊåÊåÊåÊåÊåÊåÊåÊat $PageRenderRequestHandler_1177c5597cc.handle($PageRenderRequestHandler_1177c5597cc.java) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.tapestry.internal.test.PageLinkInvoker.invoke(PageLinkInvoker.java:59) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.tapestry.test.PageTester.invoke(PageTester.java:167) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.tapestry.test.PageTester.renderPage(PageTester.java:129) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.tapestry.transformationtest.pages.TestStart.render_start(TestStart.java:12) Even turning on debugging output; I don't see the exception message you posted.,Exception is pretty clear: 'Service interface org.apache.tapestry.services.DataTypeAnalyzer is matched by 2 services: DataTypeAnalyzer; DefaultDataTypeAnalyzer. Automatic dependency resolution requires that exactly one service implement the interface.' Inside TapestryModule: åÊåÊ@Marker(Primary.class) åÊåÊåÊåÊpublic DataTypeAnalyzer build(List<DataTypeAnalyzer> configuration) åÊåÊåÊåÊ{ åÊåÊåÊåÊåÊåÊåÊåÊreturn _chainBuilder.build(DataTypeAnalyzer.class; configuration); åÊåÊåÊåÊ} Changing Start.java to: public class Start { åÊåÊåÊåÊ@Inject @Primary åÊåÊåÊåÊprivate DataTypeAnalyzer _analyzer; } And all is well.,Uploading a maven project which illustrates the bug. The project uses 5.0.8-SNAPSHOT; but the error is also present in 5.0.7.,,,,,,,,,,,,,,,,,,,,,,
78211,,,,,,,,Also fixed in main 0.9.7 branch,Also fixed in main 0.9.7 branch,,,,,,,,,,,,,,,,,,,,,,,
409,,,,,,,,I'm backporting this to 3.4 and 3.3 branches. --Michi,,,,,,,,,,,,,,,,,,,,,,,,
38592,X,,,,,,,in branch,,,,,,,,,,,,,,,,,,,,,,,,
79211,,,,,,,,Thanks Marijan; will do!,,,,,,,,,,,,,,,,,,,,,,,,
14237,,,,,,,,Resolving this issue as the original problem has been fixed. Please open a new ticket if you feel session invalidation should also be addressed.,,,,,,,,,,,,,,,,,,,,,,,,
38797,,,,,,,,home page fixed in svn.,,,,,,,,,,,,,,,,,,,,,,,,
13658,,,X,,,,,> Would it have an impact to remove this 'name' attribute from the generated 'form' tag ? YES! If you need XHTML strict compliance; just drop a new copy of form-common.ftl into template/simple; you can easily take out the section that generates the name=... It would probably cause us major problems; but you might be able to code around it for a single app. You can reopen as a feature request; but I think it is sufficient that you can change the templates yourself.,,,,,,,,,,,,,,,,,,,,,,,,
11834,,,,,,,,Still happens to me. Steps to duplicate: 1. Start IE5.5 on Win2k - open java console from the 'view' menu. 2. Download xalan-j_2_2_D11.tar.gz to server. 3. tar xzf xalan-j_2_2_D11.tar.gz (extract to location on a webserver - for me this was /home/httpd/html) 4. navigate to http://SERVER/xalan- j_2_2_D11/samples/AppletXMLtoHTML/appletXMLtoHTML.html,Should have been fixed in OutputProperties.java r1.14 on 21-May-01,I don't think you covered all of the offending calls to System.getProperty(). Specifically; you did not catch SecurityException in the org.apache.xalan.templates.OutputProperties.loadPropertiesFile() method.,Fixed a while back by cmanolache and curcuru in several checkins: we should be catching SecurityException anyplace we call System.getProperty with a potentially out-of-sandbox property.,,,,,,,,,,,,,,,,,,,,,
73717,,x,,,,,,Patch applied; thanks,,,,,,,,,,,,,,,,,,,,,,,,
71224,,,,,,,,Additional fixes in Rev. 737663 and fixing the jcrapp module in Rev. 737664 completes this issue.,Modified the launchpad modules bundles; app; webapp; and testing to be version 4-incubator-SNAPSHOT in Rev. 737661,,,,,,,,,,,,,,,,,,,,,,,
67301,x,,,,,,,Very nice; thank you! Your pom works perfectly... I didn't think of adding the version tag there and ended up exporting * and then later add !org.w3c.dom and !javax.xml to prevent errors...,Sending xmlbeans-2.4.0/pom.xml Transmitting file data . Committed revision 756765.,i reformatted the manifest and the package in question is in fact exported... which only confuses me more...,Thanks for the hint; the pom from the link I posted didn't quite work; yours works out of the box... I've added the extra export and now I somehow get less far than before. Before; I got an exception while some of my code was executed; now I'm stuck in the osgi wiring process: ---------- DEBUG: WIRE: 66.0 -> schemaorg_apache_xmlbeans.namespace.http_3A_2F_2Fwww_2Ebea_2Ecom_2F2003_2F05_2Fxmlbean_2Fltgfmt -> 66.0 DEBUG: WIRE: 66.0 -> schemaorg_apache_xmlbeans.javaname.org.apache.xmlbeans.impl.xb.xmlconfig.Extensionconfig -> 66.0 DEBUG: WIRE: 66.0 -> schemaorg_apache_xmlbeans.javaname.org.apache.xmlbeans.impl.xb.xsdschema.NarrowMaxMin -> 66.0 DEBUG: WIRE: 66.0 -> org.apache.xmlbeans.impl.xb.ltgfmt -> 66.0 DEBUG: WIRE: 66.0 -> schemaorg_apache_xmlbeans.element.URI_SHA_1_0072531D5C2BA64B5A3672B694CDAA153CD30788 -> 66.0 ERROR BundleException: Unresolved constraint in bundle 67: package; (&(package=org.apache.xmlbeans.impl.xb.xsdschema)(version>=2.4.0)) ---------- In my own bundle; I imported that package explicitly because it wouldn't build otherwise. Now when I check the enriched jar file; that package is exported numerous times and yet I get an error... Ok I just went trough the manifest and looked a bit harder. It seems most if not all Export statements look something like this: ---------- org.apache.xmlbeans.impl.inst2xsd.util;uses:='org.apache.xmlbeans.impl.values;org.apache.xmlbeans.impl.xb.xsdschema;org.apache.xmlbeans;org.apache.xmlbeans.impl.common;javax.xml.namespace' ---------- So xsdschema is only referenced in uses but never exported itself. How is that possible? The config in the pom should clearly export that package too: ---------- <servicemix.osgi.export.pkg> !repackage; org.apache.xmlbeans*; schemaorg_apache_xmlbeans* </servicemix.osgi.export.pkg> ---------- The import in my app would be this: ---------- <ws-gateway.osgi.import.package> ... org.apache.xmlbeans;version='$ {xmlbeans-version}'; org.apache.xmlbeans.impl.xb.xsdschema;version='${xmlbeans-version} '; ... </ws-gateway.osgi.import.package> ---------- Without the second import; I get a build error... I hoped I could just add that package and be done but apparently there's more to that... Since I'm not an osgi expert I have no clue why this happens... I'm open for suggestions on what to try next... thanks...,The maven project for this bundle is available at https://svn.apache.org/repos/asf/servicemix/smx4/bundles/trunk/xmlbeans-2.4.0/ Feel free to create a patch or ask for more informations if you need.,,,,,,,,,,,,,,,,,,,,
70265,,,,,,x,,If I see it correctly; the current implementation creates a resource provider for each symlink - I fear what happens if there are hundreds or thousands of symlinks,,,,,,,,,,,,,,,,,,,,,,,,
48875,x,,x,,,x,,This works great for me; but it has demonstrated another issue when some Tapestry's script files try to use the clientId in order to create javascript identifiers for variables. I'll open a new issue describing this.,,,,,,,,,,,,,,,,,,,,,,,,
30705,x,x,,,,,,Patch applied Eric.,,,,,,,,,,,,,,,,,,,,,,,,
32125,,x,,,,,,This change is now in trunk as part of r679774.,,,,,,,,,,,,,,,,,,,,,,,,
2557,,,,x,,,,I like MemoryResourceCalculator (or MemoryBasedResourceCalculator) better as well; that was my first choice; and is what the attached patch uses. Arun went with that on YARN-2 but people objected; if people are OK with it now then let's go with it. I don't think proliferation of many class names will be an issue.,,,,,,,,,,,,,,,,,,,,,,,,
60217,x,,,,,,,The commit tag bot is neat!,,,,,,,,,,,,,,,,,,,,,,,,
74301,x,x,,,,,,Applied in r648154. Thanks!,,,,,,,,,,,,,,,,,,,,,,,,
15914,,,,,x,,,Oppss... sorry late reply.... Thx for handling this issue Claus. I prefered it to be the way it is now; document this behaviour as Claus already did. I think there might be both behaviour have its particular usage; if we want to have a param that is a string; it makes sense to use <param>...</param>; anything in between that's enclosed with %{} will be evaluated and its toString() called. On the other hand; if we want an object; we could used the value attribute. I guess what i'm trying to say is that both way of using param have their own usage. Of course this is just my 2 cents,Updatede tag documentation. If we need to align the tag as a consistent behaviour for both situations we should reopen this and schedule it for a 2.3 or future version where we need to give 3rd party tag developers the change to validate their tags if we change it in WW.,Okay I have updated Param.java with a note section about the two situations outlined by Toby (1) and (2).,Rainer As I have little real life WW experience I can only voice as an outsider. I would expect the tags to work excatly the same way using both usages. It's just a preference how you write XML. If we have a migration guide we could write that this behavior is changed. As the 2.2.2 release is out of the door soon; we could keep as it is and write comments in the javadoc; wiki about this odd behavior. And for 2.3 we could fix it.,Toby; Claus; what are your suggestions on this? My expectation would be; that both usages behave similar or it should be clearly outlined in the docs (wiki AND javadocs) pointing out the difference... What do you think?,Hi Toby Yeah I agree that breaking old components is dangerous. And does the unit test really cover all these situations? WW code coverage is < 40%. Yes I would be nice the hear others opinions and if anyone had a real use-case with this situation. And I really think the two different situations should be documented in the javadoc for the .class and at wiki docs. For a user this could be a hard defect to track down.,Hi Claus; Currently they are not working in the same way actually. If we change them it might break some components.... but then we have our little test case to check against.... > And I guess % { ... } expression should always be evaluated. I think it is evaluated in both case; just that in once case it is evaluated to a String while the other to object. I am not sure if we should change the current behaviour... maybe we could post this in the forum and see what others think about it. What do you think?,@tm Should both situations 1+2 not work excatly the same way? Otherwise users will get confued; I for sure would. And I guess % { ... } expression should always be evaluated.,If not mistaken <param>someThing</param> ----- (1) <param value='anotherThing'/> ---- (2) In (1); it would be evaluated to the stack as String while in (2) it will be evaluated to the stack as object. I guess; if one needs it as string then (1) could be used; it is possible to have eg. <param>hello % {user.name} </param> where user.name will be evaluated to the stack and its string value appended. If it works this way; i don't think it is a bug.,Is this still an issue? I cannot find that code in ParamTag. I see something in that type into Param; but it looks oke to me. ./alex _x0089_ÛÒ .w( the_mindstorm )p.,,,,,,,,,,,,,,,
58484,,,,,,x,,Build on Windows looks also okay but there are still other problem loading the model data for the entity hub.,,,,,,,,,,,,,,,,,,,,,,,,
34194,x,x,,,,,,Patch applied. Thanks!,Patch is provided. A celtix configuration file called server.xml is added.,,,,,,,,,,,,,,,,,,,,,,,
48779,x,x,,,,,,Thanks for the issue / steps to resolve. Pretty much did what you said verbatim. (as it worked out on the other regexp issue),,,,,,,,,,,,,,,,,,,,,,,,
41306,,,x,,,,,The above code is a part of a dataTable of course ...,,,,,,,,,,,,,,,,,,,,,,,,
33049,,x,x,,x,,,This is now fixed!,Axis2 1.3 patch that gets all the tests passing and a successful build,"'""I am running into a few test errors with this patch' A 'few' !""",Based on the analysis I just did; showing that Java code changes to port to Axis2 are very minimal and can be clearly identified; I recommend to do this port for the 1.0 release.,I did an evaluation of the changes required to port to Axis2 1.3. 1561-java.diff is a diff of the java source code changes only; to help people review the changes. They are very minimal (mostly Java package renames; plus a few method signature changes). I marked the actual logic changes with a // JIRA TUSCANY-1561 comment. 1561.patch is the complete patch including changes to the Maven pom.xml files and the axis2.xml configuration file. The rampart mar (for the security policy support) also needs to be upgraded to from 1.2 to 1.3; as shown in 1561.patch. I am running into a few test errors with this patch so it would be great if people involved in the binding-ws-axis2 work could review it and help see what's wrong; as I may have missed something... Thanks.,Moving out of 1.0 as it just doesn't seem like this is going to happen,,,,,,,,,,,,,,,,,,,
81230,,x,,,,,,The above commits were approved by Justin on the dev list; and have now been merged to the 0.18 branch.,0001-QPID-3999-Java-Broker-Get-the-user-name-from-HttpSer.patch (9th July) and 0001-QPID-3998-QPID-3999-System-tests-for-Rest-API-small-.patch (10 July) applied to trunk; after the branch for 0.18 was created. Commits were http://svn.apache.org/viewvc?view=revision&revision=1360120 and http://svn.apache.org/viewvc?view=revision&revision=1360121 respectively.,Robbie; I uploaded a newer version of a patch with REST API tests. Could you please review and commit it?,Attached a patch with changes in SaslServlet allowing to get username from HttpServletRequest#getRemoteUser(),Attached patch with system tests for REST API,Added patch changing management web layer to allow execution of DELETE and PUT methods functionality with POST requests. Change management UI to use POST requests for resource deletion.,Attached a patch adding RequestHeaderPreAuthenticatedCredentialsFilter into broker-web to allow set principal/subject from the specified request header. This filter can be used to set request credentials with Single Sign-On systems like Siteminder SS0. Possibly; the better place for the filter could be inside of management plugin; so; it could be used with stand-alone brokers. However; I am not sure about it as the filter adds the potential security hole into the web console. That's why this functionality is implemented as a filter instead of adding the code directly into AbstractServlet.,Attached a patch adding temporary authorization checks for message copy/delete/move in management web console,Attached a patch changing web console to use anonymous subject for non-authenticated requests,Attached a patch with a special module to build qpid war to deploy and run Qpid in servlet container.,Attached a patch adding default constructors to management servlets and making all links in web UI relative to the web application context,,,,,,,,,,,,,,
17964,,x,,,,,,Fixed.,,,,,,,,,,,,,,,,,,,,,,,,
73977,,x,,,,,,Applied patch from Jasvir. Also corrected case error in Enum type in Java,,,,,,,,,,,,,,,,,,,,,,,,
54763,,x,,,,,,Fixed.,,,,,,,,,,,,,,,,,,,,,,,,
76244,,,,,,,,merged into piper commit d5b96f571c6c43c9e42dfdc78fd906b6b5254e67,,,,,,,,,,,,,,,,,,,,,,,,
14371,,,,,,,,This is by design; as it allows us to support Velocity results; but only if the Velocity jars are available. The message is logged at DEBUG since most users won't have it enabled for development and certainly not for production.,Setting to future pending a patch.,Tested it with Struts 2.0.11 too: The velocity dependency remains; and there are other two dependencies on the following classes: java.lang.NoClassDefFoundError: org/python/core/PyException java.lang.NoClassDefFoundError: org/apache/commons/fileupload/RequestContext,,,,,,,,,,,,,,,,,,,,,,
63811,,,,,,,,commited a while back,,,,,,,,,,,,,,,,,,,,,,,,
75762,,,x,,,x,,Hi Dave; åÊ I am not JIRA wise; I'll see if I can change the original; if not; I'll start a new thread. åÊ It worries me that the last binaries are two years old. It seems to say that nobody is using WS-RM; which I can understand. åÊ I will check with Axis2 1.5 before I update the JIRA. I won't check with 1.3; since I am using 1.4 features. åÊ Cheers; Patrice 21/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 21; 2009; 10:44 AM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745856#action_12745856 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; In fact you could use the JIRA you raised that started this discussion thread.åÊ It's probably worth changing the abstract to say that you are using Axis2 1.4 with Sandesha2 1.3 and that in this specific scenario (RM 1.1 with MakeConn) you are seeing the issue whereby the MakeConn anonymous address isn't being registered with Axis2 as an anonymous address so the createSeqResponse cannot be sent back to the client. Did you try the same scenario and get any success with Axis 1.3 or even Axis 1.5? Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 21/08/2009 09:24 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745836#action_12745836 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; Should I create a new issue stating that Sandesha2 does not work with Axis2 1.4 ? Thanks; Patrice --- On Thu; 8/20/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Thursday; August 20; 2009; 5:23 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745457#action_12745457 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Apologies I thought you were running Axis2 1.3 with Sandesha 1.3. Nevertheless I thought Sandesha 1.3 would work with Axis2 1.4; maybe it doesn't for the RM 1.1 scenario you are trying.åÊ You could try moving back to Axis 1.3. Regards Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 19/08/2009 17:43 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745115#action_12745115 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hi Dave; The axis2.log I sent you was generated in debug mode. I don't know how to give you more than that. If you do; please let me know. Please answer the following question: Do you have a simple service/client pair that runs under V1_1åÊ with Axis2 1.4 ? I have suspicion that Sandesha2 does not work well (or at all)åÊ in V1_1 mode; at least with Axis2 1.4 Cheers; Patrice --- On Wed; 8/19/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Wednesday; August 19; 2009; 3:00 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745040#action_12745040 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; My mistake; it is set by default.åÊ It all looks like your module.xml is correct.åÊ I think we need to get Axis2 & Sandesha trace so that we can see what's going on.åÊ I'd expect to see Axis2 register the MC annon EndPoint so that it sees it as an anonymous EndPoint.åÊ This obviously isn't happening and i'm not sure why as your setup seems sound. Could you collect this trace.åÊ I'd be happy to take a look. Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 19/08/2009 08:41 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744941#action_12744941 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hi Dave; Here's my module.xml pulled straight out of the sandesha2-1.3.maråÊ and it has 1.1 enabled : ====================================== <module name='sandesha2' class='org.apache.sandesha2.SandeshaModule'> <Description> This module implements WS-ReliableMessaging for Axis2. This implements both the WSRM submitted spec and up to the version CD4 of the new WSRM 1.1 spec. </Description> <InFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before addressing dispatching --> <order phase='Dispatch' phaseFirst='true'/> </handler> <handler name='MessageContextCorrectionHandler' class='org.apache.sandesha2.handlers.MessageContextCorrectionHandler'> <!-- A handler which handle the duplicate messages --> <order phase='Transport'/> </handler> <handler name='SequenceIDDispatcher' class='org.apache.sandesha2.handlers.SequenceIDDispatcher'> <order phase='Addressing' before='AddressingBasedDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFlow> <OutFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFlow> <InFaultFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before instance dispatching --> <order phase='Dispatch' before='InstanceDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFaultFlow> <OutFaultFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFaultFlow> <operation name='Sandesha2OperationInOnly' mep=' http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping> http://schemas.xmlsoap.org/ws/2005/02/rm/SequenceAcknowledgement </actionMapping> <!-- For interopability purposes. Some WSRM implementations tend to send this as the LastMessage --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/LastMessage </actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping> http://docs.oasis-open.org/ws-rx/wsrm/200702/SequenceAcknowledgement </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/fault </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/AckRequested </actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/TerminateSequence </actionMapping> </operation> <operation name='Sandesha2OperationInOut' mep=' http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/CreateSequence </actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/AckRequested </actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CreateSequence </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CloseSequence </actionMapping> <actionMapping> http://docs.oasis-open.org/ws-rx/wsrm/200702/TerminateSequence </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsmc/200702/MakeConnection </actionMapping> </operation> <operation name='Sandesha2OperationOutOnly' mep=' http://www.w3.org/2006/01/wsdl/out-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationOutIn' mep=' http://www.w3.org/2006/01/wsdl/out-in'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOnly' mep=' http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOut' mep=' http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <supported-policy-namespaces namespaces=' http://ws.apache.org/sandesha2/policy' /> <wsp:Policy xmlns:wsp='http://schemas.xmlsoap.org/ws/2004/09/policy' xmlns:wsu=' http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd ' xmlns:sandesha2='http://ws.apache.org/sandesha2/policy' wsu:Id='RMPolicy'> <sandesha2:RMAssertion> <wsp:Policy> <sandesha2:AcknowledgementInterval>3000</sandesha2:AcknowledgementInterval> <sandesha2:RetransmissionInterval>6000</sandesha2:RetransmissionInterval> <!-- '-1' conveys that there is no limit to the max. number of retransmissions.--> <sandesha2:MaximumRetransmissionCount>10</sandesha2:MaximumRetransmissionCount> <sandesha2:ExponentialBackoff>false</sandesha2:ExponentialBackoff> <sandesha2:InactivityTimeout>60</sandesha2:InactivityTimeout> <sandesha2:InactivityTimeoutMeasure>seconds</sandesha2:InactivityTimeoutMeasure> <!-- Once a sequence has been marked as deleted; or timed out; this is the length of time that the sequence will remain before all sequence state is totally removed --> <sandesha2:SequenceRemovalTimeout>600</sandesha2:SequenceRemovalTimeout> <sandesha2:SequenceRemovalTimeoutMeasure>seconds</sandesha2:SequenceRemovalTimeoutMeasure> <sandesha2:InvokeInOrder>true</sandesha2:InvokeInOrder> <!-- These will not be overriden by service level policies --> <sandesha2:MessageTypesToDrop>none</sandesha2:MessageTypesToDrop> <!-- This will not be overriden by service level policies --> <sandesha2:StorageManagers> <sandesha2:InMemoryStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:InMemoryStorageManager> <sandesha2:PermanentStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:PermanentStorageManager> </sandesha2:StorageManagers> <!-- This will not be overriden by service level policies --> <sandesha2:SecurityManager>org.apache.sandesha2.security.dummy.DummySecurityManager</sandesha2:SecurityManager> <sandesha2:ContextManager>org.apache.sandesha2.context.DummyContextManager</sandesha2:ContextManager> <sandesha2:MakeConnection> <sandesha2:Enabled>true</sandesha2:Enabled> <sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> <!-- <sandesha2:UseMessageSerialization>true</sandesha2:UseMessageSerialization> --> <sandesha2:EnforceRM>false</sandesha2:EnforceRM> </wsp:Policy> </sandesha2:RMAssertion> </wsp:Policy> _x008b_ÛÛ <!-- Parameters that will be copied when creating related MessageContexts --> <parameter name='propertiesToCopyFromReferenceMessage' locked='false'>TransportURL;WSAddressingVersion;disableAddressingForOutMessages;rampartPolicy;RECV_RESULTS;PROXY</parameter> <parameter name='propertiesToCopyFromReferenceRequestMessage' locked='false'>WSAddressingVersion;RECV_RESULTS;rampartPolicy</parameter> </module> ====================================================== Thanks; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 6:11 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744580#action_12744580 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; The default sandesha2-1.3.mar doesn't have the following: <sandesha2:MakeConnection> åÊ åÊ åÊ åÊ <sandesha2:Enabled>true</sandesha2:Enabled> åÊ åÊ åÊ åÊ <sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> as part of it's module.xml.åÊ These have to be set as part of your config. The Sandesha module has been deployed correctly as I can see that it processes the createSeq and tries to send a createSeqResponse. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 16:08 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744539#action_12744539 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; The trace I sent you shows that MakeConn is enabled (see axis2.log). I am using the default modules.xml in the sandesha.mar; which enables MakeConn. As to the services.xml; uncommenting the MakeConn policies has no effect; this is coherent since the modules.xml enables these. By the way; is RMPhase correctly positionned in the axis2 conf in the late documentation ? Can you run the client and the service as I sent them to you successfuly ? Or better yet; can you send me a simple service and client that runs successfullly under WS-RM 1.1åÊ with Axis2 1.4 or 1.5 ? Thanks in advance; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 11:32 AM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744432#action_12744432 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; Your services.xml shows the makeConn enablement commented out; you should try uncommenting this.åÊ I haven't seen your module.xml so can't comment on that.åÊ If you can collect sandesha trace for your service I can get a better idea of what's going on.åÊ It's only an assumption that MakeConnection isn't enabled on your service and that's why you are seeing the behaviour you are. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 08:39 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744399#action_12744399 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; I'll try again; but the commented out code showed me that MakeConn is enabled; as specified in the module.xml policies. Do the client and service taht I sent work for you ? Thanks in advance; Patrice --- On Mon; 8/17/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Monday; August 17; 2009; 6:44 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744128#action_12744128 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; The init method of your service is commented out.åÊ This says that it is used to disable MakeConn but currently the commented out code is setting it to true.åÊ Try enabling this so that when it is called MakeConn will be enabled.åÊ I think your seeing problems because MakeConn isn't enabled on your service. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 15/08/2009 09:12 Subject: [jira] Updated: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ] patrice aubry updated SANDESHA2-197: ------------------------------------ åÊ åÊ Attachment: sandesha-issue.zip Hello Dave; The answer is yes to your questions. To check that v1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client) captured on TcpMon. I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. Thank you very much in advance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message?åÊ Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊKey: SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊåÊåÊProject: Sandesha2 åÊ åÊ åÊ åÊ åÊ Issue Type: Bug åÊ åÊ Affects Versions: 1.3 åÊ åÊ åÊ åÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊ åÊ åÊ åÊ åÊ åÊ Reporter: patrice aubry åÊ åÊ åÊ åÊ åÊ åÊ Priority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1;åÊ the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online.,Hi Patrice; In fact you could use the JIRA you raised that started this discussion thread. It's probably worth changing the abstract to say that you are using Axis2 1.4 with Sandesha2 1.3 and that in this specific scenario (RM 1.1 with MakeConn) you are seeing the issue whereby the MakeConn anonymous address isn't being registered with Axis2 as an anonymous address so the createSeqResponse cannot be sent back to the client. Did you try the same scenario and get any success with Axis 1.3 or even Axis 1.5? Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 21/08/2009 09:24 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745836#action_12745836 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; åÊ Should I create a new issue stating that Sandesha2 does not work with Axis2 1.4 ? åÊ Thanks; Patrice --- On Thu; 8/20/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Thursday; August 20; 2009; 5:23 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745457#action_12745457 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Apologies I thought you were running Axis2 1.3 with Sandesha 1.3. Nevertheless I thought Sandesha 1.3 would work with Axis2 1.4; maybe it doesn't for the RM 1.1 scenario you are trying. You could try moving back to Axis 1.3. Regards Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 19/08/2009 17:43 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745115#action_12745115 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hi Dave; The axis2.log I sent you was generated in debug mode. I don't know how to give you more than that. If you do; please let me know. Please answer the following question: Do you have a simple service/client pair that runs under V1_1 with Axis2 1.4 ? I have suspicion that Sandesha2 does not work well (or at all) in V1_1 mode; at least with Axis2 1.4 Cheers; Patrice --- On Wed; 8/19/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Wednesday; August 19; 2009; 3:00 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745040#action_12745040 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; My mistake; it is set by default. It all looks like your module.xml is correct. I think we need to get Axis2 & Sandesha trace so that we can see what's going on. I'd expect to see Axis2 register the MC annon EndPoint so that it sees it as an anonymous EndPoint. This obviously isn't happening and i'm not sure why as your setup seems sound. Could you collect this trace. I'd be happy to take a look. Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 19/08/2009 08:41 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744941#action_12744941 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hi Dave; Here's my module.xml pulled straight out of the sandesha2-1.3.mar and it has 1.1 enabled : ====================================== <module name='sandesha2' class='org.apache.sandesha2.SandeshaModule'> <Description> This module implements WS-ReliableMessaging for Axis2. This implements both the WSRM submitted spec and up to the version CD4 of the new WSRM 1.1 spec. </Description> <InFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before addressing dispatching --> <order phase='Dispatch' phaseFirst='true'/> </handler> <handler name='MessageContextCorrectionHandler' class='org.apache.sandesha2.handlers.MessageContextCorrectionHandler'> <!-- A handler which handle the duplicate messages --> <order phase='Transport'/> </handler> <handler name='SequenceIDDispatcher' class='org.apache.sandesha2.handlers.SequenceIDDispatcher'> <order phase='Addressing' before='AddressingBasedDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFlow> <OutFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFlow> <InFaultFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before instance dispatching --> <order phase='Dispatch' before='InstanceDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFaultFlow> <OutFaultFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFaultFlow> <operation name='Sandesha2OperationInOnly' mep=' http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping> http://schemas.xmlsoap.org/ws/2005/02/rm/SequenceAcknowledgement </actionMapping> <!-- For interopability purposes. Some WSRM implementations tend to send this as the LastMessage --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/LastMessage </actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping> http://docs.oasis-open.org/ws-rx/wsrm/200702/SequenceAcknowledgement </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/fault </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/AckRequested </actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/TerminateSequence </actionMapping> </operation> <operation name='Sandesha2OperationInOut' mep=' http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/CreateSequence </actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/AckRequested </actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CreateSequence </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CloseSequence </actionMapping> <actionMapping> http://docs.oasis-open.org/ws-rx/wsrm/200702/TerminateSequence </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsmc/200702/MakeConnection </actionMapping> </operation> <operation name='Sandesha2OperationOutOnly' mep=' http://www.w3.org/2006/01/wsdl/out-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationOutIn' mep=' http://www.w3.org/2006/01/wsdl/out-in'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOnly' mep=' http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOut' mep=' http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <supported-policy-namespaces namespaces=' http://ws.apache.org/sandesha2/policy' /> <wsp:Policy xmlns:wsp='http://schemas.xmlsoap.org/ws/2004/09/policy' xmlns:wsu=' http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd ' xmlns:sandesha2='http://ws.apache.org/sandesha2/policy' wsu:Id='RMPolicy'> <sandesha2:RMAssertion> <wsp:Policy> <sandesha2:AcknowledgementInterval>3000</sandesha2:AcknowledgementInterval> <sandesha2:RetransmissionInterval>6000</sandesha2:RetransmissionInterval> <!-- '-1' conveys that there is no limit to the max. number of retransmissions.--> <sandesha2:MaximumRetransmissionCount>10</sandesha2:MaximumRetransmissionCount> <sandesha2:ExponentialBackoff>false</sandesha2:ExponentialBackoff> <sandesha2:InactivityTimeout>60</sandesha2:InactivityTimeout> <sandesha2:InactivityTimeoutMeasure>seconds</sandesha2:InactivityTimeoutMeasure> <!-- Once a sequence has been marked as deleted; or timed out; this is the length of time that the sequence will remain before all sequence state is totally removed --> <sandesha2:SequenceRemovalTimeout>600</sandesha2:SequenceRemovalTimeout> <sandesha2:SequenceRemovalTimeoutMeasure>seconds</sandesha2:SequenceRemovalTimeoutMeasure> <sandesha2:InvokeInOrder>true</sandesha2:InvokeInOrder> <!-- These will not be overriden by service level policies --> <sandesha2:MessageTypesToDrop>none</sandesha2:MessageTypesToDrop> <!-- This will not be overriden by service level policies --> <sandesha2:StorageManagers> <sandesha2:InMemoryStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:InMemoryStorageManager> <sandesha2:PermanentStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:PermanentStorageManager> </sandesha2:StorageManagers> <!-- This will not be overriden by service level policies --> <sandesha2:SecurityManager>org.apache.sandesha2.security.dummy.DummySecurityManager</sandesha2:SecurityManager> <sandesha2:ContextManager>org.apache.sandesha2.context.DummyContextManager</sandesha2:ContextManager> <sandesha2:MakeConnection> <sandesha2:Enabled>true</sandesha2:Enabled> <sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> <!-- <sandesha2:UseMessageSerialization>true</sandesha2:UseMessageSerialization> --> <sandesha2:EnforceRM>false</sandesha2:EnforceRM> </wsp:Policy> </sandesha2:RMAssertion> </wsp:Policy> _x008b_ÛÛ <!-- Parameters that will be copied when creating related MessageContexts --> <parameter name='propertiesToCopyFromReferenceMessage' locked='false'>TransportURL;WSAddressingVersion;disableAddressingForOutMessages;rampartPolicy;RECV_RESULTS;PROXY</parameter> <parameter name='propertiesToCopyFromReferenceRequestMessage' locked='false'>WSAddressingVersion;RECV_RESULTS;rampartPolicy</parameter> </module> ====================================================== Thanks; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 6:11 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744580#action_12744580 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; The default sandesha2-1.3.mar doesn't have the following: <sandesha2:MakeConnection> åÊåÊåÊåÊåÊåÊåÊåÊ<sandesha2:Enabled>true</sandesha2:Enabled> åÊåÊåÊåÊåÊåÊåÊåÊ<sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> as part of it's module.xml. These have to be set as part of your config. The Sandesha module has been deployed correctly as I can see that it processes the createSeq and tries to send a createSeqResponse. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 16:08 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744539#action_12744539 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; The trace I sent you shows that MakeConn is enabled (see axis2.log). I am using the default modules.xml in the sandesha.mar; which enables MakeConn. As to the services.xml; uncommenting the MakeConn policies has no effect; this is coherent since the modules.xml enables these. By the way; is RMPhase correctly positionned in the axis2 conf in the late documentation ? Can you run the client and the service as I sent them to you successfuly ? Or better yet; can you send me a simple service and client that runs successfullly under WS-RM 1.1 with Axis2 1.4 or 1.5 ? Thanks in advance; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 11:32 AM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744432#action_12744432 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; Your services.xml shows the makeConn enablement commented out; you should try uncommenting this. I haven't seen your module.xml so can't comment on that. If you can collect sandesha trace for your service I can get a better idea of what's going on. It's only an assumption that MakeConnection isn't enabled on your service and that's why you are seeing the behaviour you are. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 08:39 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744399#action_12744399 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; I'll try again; but the commented out code showed me that MakeConn is enabled; as specified in the module.xml policies. Do the client and service taht I sent work for you ? Thanks in advance; Patrice --- On Mon; 8/17/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Monday; August 17; 2009; 6:44 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744128#action_12744128 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; The init method of your service is commented out. This says that it is used to disable MakeConn but currently the commented out code is setting it to true. Try enabling this so that when it is called MakeConn will be enabled. I think your seeing problems because MakeConn isn't enabled on your service. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 15/08/2009 09:12 Subject: [jira] Updated: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ] patrice aubry updated SANDESHA2-197: ------------------------------------ åÊåÊåÊåÊAttachment: sandesha-issue.zip Hello Dave; The answer is yes to your questions. To check that v1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client) captured on TcpMon. I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. Thank you very much in advance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message? Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊKey: SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊProject: Sandesha2 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊIssue Type: Bug åÊåÊåÊåÊAffects Versions: 1.3 åÊåÊåÊåÊåÊåÊåÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊReporter: patrice aubry åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊPriority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1; the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU,Hi Patrice; Yeah that sounds like a good idea. I'd hope that a new release of Sandesha2 that maps to the latest Axis2 release is in the pipeline. Especially as it seems there are issues with certain configurations. As I get the chance I will investigate the compatibility of Axis2 releases with Sandesha2. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 21/08/2009 08:24 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745836#action_12745836 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; åÊ Should I create a new issue stating that Sandesha2 does not work with Axis2 1.4 ? åÊ Thanks; Patrice --- On Thu; 8/20/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Thursday; August 20; 2009; 5:23 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745457#action_12745457 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Apologies I thought you were running Axis2 1.3 with Sandesha 1.3. Nevertheless I thought Sandesha 1.3 would work with Axis2 1.4; maybe it doesn't for the RM 1.1 scenario you are trying. You could try moving back to Axis 1.3. Regards Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 19/08/2009 17:43 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745115#action_12745115 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hi Dave; The axis2.log I sent you was generated in debug mode. I don't know how to give you more than that. If you do; please let me know. Please answer the following question: Do you have a simple service/client pair that runs under V1_1 with Axis2 1.4 ? I have suspicion that Sandesha2 does not work well (or at all) in V1_1 mode; at least with Axis2 1.4 Cheers; Patrice --- On Wed; 8/19/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Wednesday; August 19; 2009; 3:00 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745040#action_12745040 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; My mistake; it is set by default. It all looks like your module.xml is correct. I think we need to get Axis2 & Sandesha trace so that we can see what's going on. I'd expect to see Axis2 register the MC annon EndPoint so that it sees it as an anonymous EndPoint. This obviously isn't happening and i'm not sure why as your setup seems sound. Could you collect this trace. I'd be happy to take a look. Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 19/08/2009 08:41 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744941#action_12744941 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hi Dave; Here's my module.xml pulled straight out of the sandesha2-1.3.mar and it has 1.1 enabled : ====================================== <module name='sandesha2' class='org.apache.sandesha2.SandeshaModule'> <Description> This module implements WS-ReliableMessaging for Axis2. This implements both the WSRM submitted spec and up to the version CD4 of the new WSRM 1.1 spec. </Description> <InFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before addressing dispatching --> <order phase='Dispatch' phaseFirst='true'/> </handler> <handler name='MessageContextCorrectionHandler' class='org.apache.sandesha2.handlers.MessageContextCorrectionHandler'> <!-- A handler which handle the duplicate messages --> <order phase='Transport'/> </handler> <handler name='SequenceIDDispatcher' class='org.apache.sandesha2.handlers.SequenceIDDispatcher'> <order phase='Addressing' before='AddressingBasedDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFlow> <OutFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFlow> <InFaultFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before instance dispatching --> <order phase='Dispatch' before='InstanceDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFaultFlow> <OutFaultFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFaultFlow> <operation name='Sandesha2OperationInOnly' mep=' http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping> http://schemas.xmlsoap.org/ws/2005/02/rm/SequenceAcknowledgement </actionMapping> <!-- For interopability purposes. Some WSRM implementations tend to send this as the LastMessage --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/LastMessage </actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping> http://docs.oasis-open.org/ws-rx/wsrm/200702/SequenceAcknowledgement </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/fault </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/AckRequested </actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/TerminateSequence </actionMapping> </operation> <operation name='Sandesha2OperationInOut' mep=' http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/CreateSequence </actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/AckRequested </actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CreateSequence </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CloseSequence </actionMapping> <actionMapping> http://docs.oasis-open.org/ws-rx/wsrm/200702/TerminateSequence </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsmc/200702/MakeConnection </actionMapping> </operation> <operation name='Sandesha2OperationOutOnly' mep=' http://www.w3.org/2006/01/wsdl/out-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationOutIn' mep=' http://www.w3.org/2006/01/wsdl/out-in'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOnly' mep=' http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOut' mep=' http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <supported-policy-namespaces namespaces=' http://ws.apache.org/sandesha2/policy' /> <wsp:Policy xmlns:wsp='http://schemas.xmlsoap.org/ws/2004/09/policy' xmlns:wsu=' http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd ' xmlns:sandesha2='http://ws.apache.org/sandesha2/policy' wsu:Id='RMPolicy'> <sandesha2:RMAssertion> <wsp:Policy> <sandesha2:AcknowledgementInterval>3000</sandesha2:AcknowledgementInterval> <sandesha2:RetransmissionInterval>6000</sandesha2:RetransmissionInterval> <!-- '-1' conveys that there is no limit to the max. number of retransmissions.--> <sandesha2:MaximumRetransmissionCount>10</sandesha2:MaximumRetransmissionCount> <sandesha2:ExponentialBackoff>false</sandesha2:ExponentialBackoff> <sandesha2:InactivityTimeout>60</sandesha2:InactivityTimeout> <sandesha2:InactivityTimeoutMeasure>seconds</sandesha2:InactivityTimeoutMeasure> <!-- Once a sequence has been marked as deleted; or timed out; this is the length of time that the sequence will remain before all sequence state is totally removed --> <sandesha2:SequenceRemovalTimeout>600</sandesha2:SequenceRemovalTimeout> <sandesha2:SequenceRemovalTimeoutMeasure>seconds</sandesha2:SequenceRemovalTimeoutMeasure> <sandesha2:InvokeInOrder>true</sandesha2:InvokeInOrder> <!-- These will not be overriden by service level policies --> <sandesha2:MessageTypesToDrop>none</sandesha2:MessageTypesToDrop> <!-- This will not be overriden by service level policies --> <sandesha2:StorageManagers> <sandesha2:InMemoryStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:InMemoryStorageManager> <sandesha2:PermanentStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:PermanentStorageManager> </sandesha2:StorageManagers> <!-- This will not be overriden by service level policies --> <sandesha2:SecurityManager>org.apache.sandesha2.security.dummy.DummySecurityManager</sandesha2:SecurityManager> <sandesha2:ContextManager>org.apache.sandesha2.context.DummyContextManager</sandesha2:ContextManager> <sandesha2:MakeConnection> <sandesha2:Enabled>true</sandesha2:Enabled> <sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> <!-- <sandesha2:UseMessageSerialization>true</sandesha2:UseMessageSerialization> --> <sandesha2:EnforceRM>false</sandesha2:EnforceRM> </wsp:Policy> </sandesha2:RMAssertion> </wsp:Policy> _x008b_ÛÛ <!-- Parameters that will be copied when creating related MessageContexts --> <parameter name='propertiesToCopyFromReferenceMessage' locked='false'>TransportURL;WSAddressingVersion;disableAddressingForOutMessages;rampartPolicy;RECV_RESULTS;PROXY</parameter> <parameter name='propertiesToCopyFromReferenceRequestMessage' locked='false'>WSAddressingVersion;RECV_RESULTS;rampartPolicy</parameter> </module> ====================================================== Thanks; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 6:11 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744580#action_12744580 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; The default sandesha2-1.3.mar doesn't have the following: <sandesha2:MakeConnection> åÊåÊåÊåÊåÊåÊåÊåÊ<sandesha2:Enabled>true</sandesha2:Enabled> åÊåÊåÊåÊåÊåÊåÊåÊ<sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> as part of it's module.xml. These have to be set as part of your config. The Sandesha module has been deployed correctly as I can see that it processes the createSeq and tries to send a createSeqResponse. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 16:08 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744539#action_12744539 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; The trace I sent you shows that MakeConn is enabled (see axis2.log). I am using the default modules.xml in the sandesha.mar; which enables MakeConn. As to the services.xml; uncommenting the MakeConn policies has no effect; this is coherent since the modules.xml enables these. By the way; is RMPhase correctly positionned in the axis2 conf in the late documentation ? Can you run the client and the service as I sent them to you successfuly ? Or better yet; can you send me a simple service and client that runs successfullly under WS-RM 1.1 with Axis2 1.4 or 1.5 ? Thanks in advance; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 11:32 AM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744432#action_12744432 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; Your services.xml shows the makeConn enablement commented out; you should try uncommenting this. I haven't seen your module.xml so can't comment on that. If you can collect sandesha trace for your service I can get a better idea of what's going on. It's only an assumption that MakeConnection isn't enabled on your service and that's why you are seeing the behaviour you are. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 08:39 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744399#action_12744399 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; I'll try again; but the commented out code showed me that MakeConn is enabled; as specified in the module.xml policies. Do the client and service taht I sent work for you ? Thanks in advance; Patrice --- On Mon; 8/17/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Monday; August 17; 2009; 6:44 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744128#action_12744128 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; The init method of your service is commented out. This says that it is used to disable MakeConn but currently the commented out code is setting it to true. Try enabling this so that when it is called MakeConn will be enabled. I think your seeing problems because MakeConn isn't enabled on your service. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 15/08/2009 09:12 Subject: [jira] Updated: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ] patrice aubry updated SANDESHA2-197: ------------------------------------ åÊåÊåÊåÊAttachment: sandesha-issue.zip Hello Dave; The answer is yes to your questions. To check that v1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client) captured on TcpMon. I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. Thank you very much in advance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message? Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊKey: SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊProject: Sandesha2 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊIssue Type: Bug åÊåÊåÊåÊAffects Versions: 1.3 åÊåÊåÊåÊåÊåÊåÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊReporter: patrice aubry åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊPriority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1; the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU,Hello Dave; åÊ Should I create a new issue stating that Sandesha2 does not work with Axis2 1.4 ? åÊ Thanks; Patrice --- On Thu; 8/20/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Thursday; August 20; 2009; 5:23 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745457#action_12745457 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Apologies I thought you were running Axis2 1.3 with Sandesha 1.3. Nevertheless I thought Sandesha 1.3 would work with Axis2 1.4; maybe it doesn't for the RM 1.1 scenario you are trying.åÊ You could try moving back to Axis 1.3. Regards Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 19/08/2009 17:43 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745115#action_12745115 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hi Dave; The axis2.log I sent you was generated in debug mode. I don't know how to give you more than that. If you do; please let me know. Please answer the following question: Do you have a simple service/client pair that runs under V1_1åÊ with Axis2 1.4 ? I have suspicion that Sandesha2 does not work well (or at all)åÊ in V1_1 mode; at least with Axis2 1.4 Cheers; Patrice --- On Wed; 8/19/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Wednesday; August 19; 2009; 3:00 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745040#action_12745040 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; My mistake; it is set by default.åÊ It all looks like your module.xml is correct.åÊ I think we need to get Axis2 & Sandesha trace so that we can see what's going on.åÊ I'd expect to see Axis2 register the MC annon EndPoint so that it sees it as an anonymous EndPoint.åÊ This obviously isn't happening and i'm not sure why as your setup seems sound. Could you collect this trace.åÊ I'd be happy to take a look. Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 19/08/2009 08:41 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744941#action_12744941 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hi Dave; Here's my module.xml pulled straight out of the sandesha2-1.3.maråÊ and it has 1.1 enabled : ====================================== <module name='sandesha2' class='org.apache.sandesha2.SandeshaModule'> <Description> This module implements WS-ReliableMessaging for Axis2. This implements both the WSRM submitted spec and up to the version CD4 of the new WSRM 1.1 spec. </Description> <InFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before addressing dispatching --> <order phase='Dispatch' phaseFirst='true'/> </handler> <handler name='MessageContextCorrectionHandler' class='org.apache.sandesha2.handlers.MessageContextCorrectionHandler'> <!-- A handler which handle the duplicate messages --> <order phase='Transport'/> </handler> <handler name='SequenceIDDispatcher' class='org.apache.sandesha2.handlers.SequenceIDDispatcher'> <order phase='Addressing' before='AddressingBasedDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFlow> <OutFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFlow> <InFaultFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before instance dispatching --> <order phase='Dispatch' before='InstanceDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFaultFlow> <OutFaultFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFaultFlow> <operation name='Sandesha2OperationInOnly' mep=' http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping> http://schemas.xmlsoap.org/ws/2005/02/rm/SequenceAcknowledgement </actionMapping> <!-- For interopability purposes. Some WSRM implementations tend to send this as the LastMessage --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/LastMessage </actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping> http://docs.oasis-open.org/ws-rx/wsrm/200702/SequenceAcknowledgement </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/fault </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/AckRequested </actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/TerminateSequence </actionMapping> </operation> <operation name='Sandesha2OperationInOut' mep=' http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/CreateSequence </actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/AckRequested </actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CreateSequence </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CloseSequence </actionMapping> <actionMapping> http://docs.oasis-open.org/ws-rx/wsrm/200702/TerminateSequence </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsmc/200702/MakeConnection </actionMapping> </operation> <operation name='Sandesha2OperationOutOnly' mep=' http://www.w3.org/2006/01/wsdl/out-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationOutIn' mep=' http://www.w3.org/2006/01/wsdl/out-in'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOnly' mep=' http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOut' mep=' http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <supported-policy-namespaces namespaces=' http://ws.apache.org/sandesha2/policy' /> <wsp:Policy xmlns:wsp='http://schemas.xmlsoap.org/ws/2004/09/policy' xmlns:wsu=' http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd ' xmlns:sandesha2='http://ws.apache.org/sandesha2/policy' wsu:Id='RMPolicy'> <sandesha2:RMAssertion> <wsp:Policy> <sandesha2:AcknowledgementInterval>3000</sandesha2:AcknowledgementInterval> <sandesha2:RetransmissionInterval>6000</sandesha2:RetransmissionInterval> <!-- '-1' conveys that there is no limit to the max. number of retransmissions.--> <sandesha2:MaximumRetransmissionCount>10</sandesha2:MaximumRetransmissionCount> <sandesha2:ExponentialBackoff>false</sandesha2:ExponentialBackoff> <sandesha2:InactivityTimeout>60</sandesha2:InactivityTimeout> <sandesha2:InactivityTimeoutMeasure>seconds</sandesha2:InactivityTimeoutMeasure> <!-- Once a sequence has been marked as deleted; or timed out; this is the length of time that the sequence will remain before all sequence state is totally removed --> <sandesha2:SequenceRemovalTimeout>600</sandesha2:SequenceRemovalTimeout> <sandesha2:SequenceRemovalTimeoutMeasure>seconds</sandesha2:SequenceRemovalTimeoutMeasure> <sandesha2:InvokeInOrder>true</sandesha2:InvokeInOrder> <!-- These will not be overriden by service level policies --> <sandesha2:MessageTypesToDrop>none</sandesha2:MessageTypesToDrop> <!-- This will not be overriden by service level policies --> <sandesha2:StorageManagers> <sandesha2:InMemoryStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:InMemoryStorageManager> <sandesha2:PermanentStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:PermanentStorageManager> </sandesha2:StorageManagers> <!-- This will not be overriden by service level policies --> <sandesha2:SecurityManager>org.apache.sandesha2.security.dummy.DummySecurityManager</sandesha2:SecurityManager> <sandesha2:ContextManager>org.apache.sandesha2.context.DummyContextManager</sandesha2:ContextManager> <sandesha2:MakeConnection> <sandesha2:Enabled>true</sandesha2:Enabled> <sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> <!-- <sandesha2:UseMessageSerialization>true</sandesha2:UseMessageSerialization> --> <sandesha2:EnforceRM>false</sandesha2:EnforceRM> </wsp:Policy> </sandesha2:RMAssertion> </wsp:Policy> _x008b_ÛÛ <!-- Parameters that will be copied when creating related MessageContexts --> <parameter name='propertiesToCopyFromReferenceMessage' locked='false'>TransportURL;WSAddressingVersion;disableAddressingForOutMessages;rampartPolicy;RECV_RESULTS;PROXY</parameter> <parameter name='propertiesToCopyFromReferenceRequestMessage' locked='false'>WSAddressingVersion;RECV_RESULTS;rampartPolicy</parameter> </module> ====================================================== Thanks; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 6:11 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744580#action_12744580 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; The default sandesha2-1.3.mar doesn't have the following: <sandesha2:MakeConnection> åÊ åÊ åÊ åÊ <sandesha2:Enabled>true</sandesha2:Enabled> åÊ åÊ åÊ åÊ <sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> as part of it's module.xml.åÊ These have to be set as part of your config. The Sandesha module has been deployed correctly as I can see that it processes the createSeq and tries to send a createSeqResponse. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 16:08 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744539#action_12744539 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; The trace I sent you shows that MakeConn is enabled (see axis2.log). I am using the default modules.xml in the sandesha.mar; which enables MakeConn. As to the services.xml; uncommenting the MakeConn policies has no effect; this is coherent since the modules.xml enables these. By the way; is RMPhase correctly positionned in the axis2 conf in the late documentation ? Can you run the client and the service as I sent them to you successfuly ? Or better yet; can you send me a simple service and client that runs successfullly under WS-RM 1.1åÊ with Axis2 1.4 or 1.5 ? Thanks in advance; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 11:32 AM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744432#action_12744432 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; Your services.xml shows the makeConn enablement commented out; you should try uncommenting this.åÊ I haven't seen your module.xml so can't comment on that.åÊ If you can collect sandesha trace for your service I can get a better idea of what's going on.åÊ It's only an assumption that MakeConnection isn't enabled on your service and that's why you are seeing the behaviour you are. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 08:39 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744399#action_12744399 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; I'll try again; but the commented out code showed me that MakeConn is enabled; as specified in the module.xml policies. Do the client and service taht I sent work for you ? Thanks in advance; Patrice --- On Mon; 8/17/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Monday; August 17; 2009; 6:44 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744128#action_12744128 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; The init method of your service is commented out.åÊ This says that it is used to disable MakeConn but currently the commented out code is setting it to true.åÊ Try enabling this so that when it is called MakeConn will be enabled.åÊ I think your seeing problems because MakeConn isn't enabled on your service. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 15/08/2009 09:12 Subject: [jira] Updated: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ] patrice aubry updated SANDESHA2-197: ------------------------------------ åÊ åÊ Attachment: sandesha-issue.zip Hello Dave; The answer is yes to your questions. To check that v1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client) captured on TcpMon. I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. Thank you very much in advance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message?åÊ Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊKey: SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊåÊåÊProject: Sandesha2 åÊ åÊ åÊ åÊ åÊ Issue Type: Bug åÊ åÊ Affects Versions: 1.3 åÊ åÊ åÊ åÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊ åÊ åÊ åÊ åÊ åÊ Reporter: patrice aubry åÊ åÊ åÊ åÊ åÊ åÊ Priority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1;åÊ the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online.,Hi Patrice; Apologies I thought you were running Axis2 1.3 with Sandesha 1.3. Nevertheless I thought Sandesha 1.3 would work with Axis2 1.4; maybe it doesn't for the RM 1.1 scenario you are trying. You could try moving back to Axis 1.3. Regards Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 19/08/2009 17:43 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745115#action_12745115 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hi Dave; åÊ The axis2.log I sent you was generated in debug mode. I don't know how to give you more than that. If you do; please let me know. åÊ Please answer the following question: Do you have a simple service/client pair that runs under V1_1 with Axis2 1.4 ? åÊ I have suspicion that Sandesha2 does not work well (or at all) in V1_1 mode; at least with Axis2 1.4 åÊ Cheers; Patrice --- On Wed; 8/19/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Wednesday; August 19; 2009; 3:00 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745040#action_12745040 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; My mistake; it is set by default. It all looks like your module.xml is correct. I think we need to get Axis2 & Sandesha trace so that we can see what's going on. I'd expect to see Axis2 register the MC annon EndPoint so that it sees it as an anonymous EndPoint. This obviously isn't happening and i'm not sure why as your setup seems sound. Could you collect this trace. I'd be happy to take a look. Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 19/08/2009 08:41 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744941#action_12744941 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hi Dave; Here's my module.xml pulled straight out of the sandesha2-1.3.mar and it has 1.1 enabled : ====================================== <module name='sandesha2' class='org.apache.sandesha2.SandeshaModule'> <Description> This module implements WS-ReliableMessaging for Axis2. This implements both the WSRM submitted spec and up to the version CD4 of the new WSRM 1.1 spec. </Description> <InFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before addressing dispatching --> <order phase='Dispatch' phaseFirst='true'/> </handler> <handler name='MessageContextCorrectionHandler' class='org.apache.sandesha2.handlers.MessageContextCorrectionHandler'> <!-- A handler which handle the duplicate messages --> <order phase='Transport'/> </handler> <handler name='SequenceIDDispatcher' class='org.apache.sandesha2.handlers.SequenceIDDispatcher'> <order phase='Addressing' before='AddressingBasedDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFlow> <OutFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFlow> <InFaultFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before instance dispatching --> <order phase='Dispatch' before='InstanceDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFaultFlow> <OutFaultFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFaultFlow> <operation name='Sandesha2OperationInOnly' mep=' http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping> http://schemas.xmlsoap.org/ws/2005/02/rm/SequenceAcknowledgement </actionMapping> <!-- For interopability purposes. Some WSRM implementations tend to send this as the LastMessage --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/LastMessage </actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping> http://docs.oasis-open.org/ws-rx/wsrm/200702/SequenceAcknowledgement </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/fault </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/AckRequested </actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/TerminateSequence </actionMapping> </operation> <operation name='Sandesha2OperationInOut' mep=' http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/CreateSequence </actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/AckRequested </actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CreateSequence </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CloseSequence </actionMapping> <actionMapping> http://docs.oasis-open.org/ws-rx/wsrm/200702/TerminateSequence </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsmc/200702/MakeConnection </actionMapping> </operation> <operation name='Sandesha2OperationOutOnly' mep=' http://www.w3.org/2006/01/wsdl/out-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationOutIn' mep=' http://www.w3.org/2006/01/wsdl/out-in'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOnly' mep=' http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOut' mep=' http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <supported-policy-namespaces namespaces=' http://ws.apache.org/sandesha2/policy' /> <wsp:Policy xmlns:wsp='http://schemas.xmlsoap.org/ws/2004/09/policy' xmlns:wsu=' http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd ' xmlns:sandesha2='http://ws.apache.org/sandesha2/policy' wsu:Id='RMPolicy'> <sandesha2:RMAssertion> <wsp:Policy> <sandesha2:AcknowledgementInterval>3000</sandesha2:AcknowledgementInterval> <sandesha2:RetransmissionInterval>6000</sandesha2:RetransmissionInterval> <!-- '-1' conveys that there is no limit to the max. number of retransmissions.--> <sandesha2:MaximumRetransmissionCount>10</sandesha2:MaximumRetransmissionCount> <sandesha2:ExponentialBackoff>false</sandesha2:ExponentialBackoff> <sandesha2:InactivityTimeout>60</sandesha2:InactivityTimeout> <sandesha2:InactivityTimeoutMeasure>seconds</sandesha2:InactivityTimeoutMeasure> <!-- Once a sequence has been marked as deleted; or timed out; this is the length of time that the sequence will remain before all sequence state is totally removed --> <sandesha2:SequenceRemovalTimeout>600</sandesha2:SequenceRemovalTimeout> <sandesha2:SequenceRemovalTimeoutMeasure>seconds</sandesha2:SequenceRemovalTimeoutMeasure> <sandesha2:InvokeInOrder>true</sandesha2:InvokeInOrder> <!-- These will not be overriden by service level policies --> <sandesha2:MessageTypesToDrop>none</sandesha2:MessageTypesToDrop> <!-- This will not be overriden by service level policies --> <sandesha2:StorageManagers> <sandesha2:InMemoryStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:InMemoryStorageManager> <sandesha2:PermanentStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:PermanentStorageManager> </sandesha2:StorageManagers> <!-- This will not be overriden by service level policies --> <sandesha2:SecurityManager>org.apache.sandesha2.security.dummy.DummySecurityManager</sandesha2:SecurityManager> <sandesha2:ContextManager>org.apache.sandesha2.context.DummyContextManager</sandesha2:ContextManager> <sandesha2:MakeConnection> <sandesha2:Enabled>true</sandesha2:Enabled> <sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> <!-- <sandesha2:UseMessageSerialization>true</sandesha2:UseMessageSerialization> --> <sandesha2:EnforceRM>false</sandesha2:EnforceRM> </wsp:Policy> </sandesha2:RMAssertion> </wsp:Policy> _x008b_ÛÛ <!-- Parameters that will be copied when creating related MessageContexts --> <parameter name='propertiesToCopyFromReferenceMessage' locked='false'>TransportURL;WSAddressingVersion;disableAddressingForOutMessages;rampartPolicy;RECV_RESULTS;PROXY</parameter> <parameter name='propertiesToCopyFromReferenceRequestMessage' locked='false'>WSAddressingVersion;RECV_RESULTS;rampartPolicy</parameter> </module> ====================================================== Thanks; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 6:11 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744580#action_12744580 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; The default sandesha2-1.3.mar doesn't have the following: <sandesha2:MakeConnection> åÊåÊåÊåÊåÊåÊåÊåÊ<sandesha2:Enabled>true</sandesha2:Enabled> åÊåÊåÊåÊåÊåÊåÊåÊ<sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> as part of it's module.xml. These have to be set as part of your config. The Sandesha module has been deployed correctly as I can see that it processes the createSeq and tries to send a createSeqResponse. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 16:08 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744539#action_12744539 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; The trace I sent you shows that MakeConn is enabled (see axis2.log). I am using the default modules.xml in the sandesha.mar; which enables MakeConn. As to the services.xml; uncommenting the MakeConn policies has no effect; this is coherent since the modules.xml enables these. By the way; is RMPhase correctly positionned in the axis2 conf in the late documentation ? Can you run the client and the service as I sent them to you successfuly ? Or better yet; can you send me a simple service and client that runs successfullly under WS-RM 1.1 with Axis2 1.4 or 1.5 ? Thanks in advance; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 11:32 AM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744432#action_12744432 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; Your services.xml shows the makeConn enablement commented out; you should try uncommenting this. I haven't seen your module.xml so can't comment on that. If you can collect sandesha trace for your service I can get a better idea of what's going on. It's only an assumption that MakeConnection isn't enabled on your service and that's why you are seeing the behaviour you are. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 08:39 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744399#action_12744399 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; I'll try again; but the commented out code showed me that MakeConn is enabled; as specified in the module.xml policies. Do the client and service taht I sent work for you ? Thanks in advance; Patrice --- On Mon; 8/17/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Monday; August 17; 2009; 6:44 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744128#action_12744128 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; The init method of your service is commented out. This says that it is used to disable MakeConn but currently the commented out code is setting it to true. Try enabling this so that when it is called MakeConn will be enabled. I think your seeing problems because MakeConn isn't enabled on your service. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 15/08/2009 09:12 Subject: [jira] Updated: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ] patrice aubry updated SANDESHA2-197: ------------------------------------ åÊåÊåÊåÊAttachment: sandesha-issue.zip Hello Dave; The answer is yes to your questions. To check that v1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client) captured on TcpMon. I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. Thank you very much in advance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message? Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊKey: SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊProject: Sandesha2 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊIssue Type: Bug åÊåÊåÊåÊAffects Versions: 1.3 åÊåÊåÊåÊåÊåÊåÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊReporter: patrice aubry åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊPriority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1; the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU,Hi Dave; åÊ The axis2.log I sent you was generated in debug mode. I don't know how to give you more than that. If you do; please let me know. åÊ Please answer the following question: Do you have a simple service/client pair that runs under V1_1åÊ with Axis2 1.4 ? åÊ I have suspicion that Sandesha2 does not work well (or at all)åÊ in V1_1 mode; at least with Axis2 1.4 åÊ Cheers; Patrice --- On Wed; 8/19/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Wednesday; August 19; 2009; 3:00 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745040#action_12745040 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; My mistake; it is set by default.åÊ It all looks like your module.xml is correct.åÊ I think we need to get Axis2 & Sandesha trace so that we can see what's going on.åÊ I'd expect to see Axis2 register the MC annon EndPoint so that it sees it as an anonymous EndPoint.åÊ This obviously isn't happening and i'm not sure why as your setup seems sound. Could you collect this trace.åÊ I'd be happy to take a look. Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 19/08/2009 08:41 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744941#action_12744941 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hi Dave; Here's my module.xml pulled straight out of the sandesha2-1.3.maråÊ and it has 1.1 enabled : ====================================== <module name='sandesha2' class='org.apache.sandesha2.SandeshaModule'> <Description> This module implements WS-ReliableMessaging for Axis2. This implements both the WSRM submitted spec and up to the version CD4 of the new WSRM 1.1 spec. </Description> <InFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before addressing dispatching --> <order phase='Dispatch' phaseFirst='true'/> </handler> <handler name='MessageContextCorrectionHandler' class='org.apache.sandesha2.handlers.MessageContextCorrectionHandler'> <!-- A handler which handle the duplicate messages --> <order phase='Transport'/> </handler> <handler name='SequenceIDDispatcher' class='org.apache.sandesha2.handlers.SequenceIDDispatcher'> <order phase='Addressing' before='AddressingBasedDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFlow> <OutFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFlow> <InFaultFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before instance dispatching --> <order phase='Dispatch' before='InstanceDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFaultFlow> <OutFaultFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFaultFlow> <operation name='Sandesha2OperationInOnly' mep=' http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping> http://schemas.xmlsoap.org/ws/2005/02/rm/SequenceAcknowledgement </actionMapping> <!-- For interopability purposes. Some WSRM implementations tend to send this as the LastMessage --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/LastMessage </actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping> http://docs.oasis-open.org/ws-rx/wsrm/200702/SequenceAcknowledgement </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/fault </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/AckRequested </actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/TerminateSequence </actionMapping> </operation> <operation name='Sandesha2OperationInOut' mep=' http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/CreateSequence </actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/AckRequested </actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CreateSequence </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CloseSequence </actionMapping> <actionMapping> http://docs.oasis-open.org/ws-rx/wsrm/200702/TerminateSequence </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsmc/200702/MakeConnection </actionMapping> </operation> <operation name='Sandesha2OperationOutOnly' mep=' http://www.w3.org/2006/01/wsdl/out-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationOutIn' mep=' http://www.w3.org/2006/01/wsdl/out-in'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOnly' mep=' http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOut' mep=' http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <supported-policy-namespaces namespaces=' http://ws.apache.org/sandesha2/policy' /> <wsp:Policy xmlns:wsp='http://schemas.xmlsoap.org/ws/2004/09/policy' xmlns:wsu=' http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd ' xmlns:sandesha2='http://ws.apache.org/sandesha2/policy' wsu:Id='RMPolicy'> <sandesha2:RMAssertion> <wsp:Policy> <sandesha2:AcknowledgementInterval>3000</sandesha2:AcknowledgementInterval> <sandesha2:RetransmissionInterval>6000</sandesha2:RetransmissionInterval> <!-- '-1' conveys that there is no limit to the max. number of retransmissions.--> <sandesha2:MaximumRetransmissionCount>10</sandesha2:MaximumRetransmissionCount> <sandesha2:ExponentialBackoff>false</sandesha2:ExponentialBackoff> <sandesha2:InactivityTimeout>60</sandesha2:InactivityTimeout> <sandesha2:InactivityTimeoutMeasure>seconds</sandesha2:InactivityTimeoutMeasure> <!-- Once a sequence has been marked as deleted; or timed out; this is the length of time that the sequence will remain before all sequence state is totally removed --> <sandesha2:SequenceRemovalTimeout>600</sandesha2:SequenceRemovalTimeout> <sandesha2:SequenceRemovalTimeoutMeasure>seconds</sandesha2:SequenceRemovalTimeoutMeasure> <sandesha2:InvokeInOrder>true</sandesha2:InvokeInOrder> <!-- These will not be overriden by service level policies --> <sandesha2:MessageTypesToDrop>none</sandesha2:MessageTypesToDrop> <!-- This will not be overriden by service level policies --> <sandesha2:StorageManagers> <sandesha2:InMemoryStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:InMemoryStorageManager> <sandesha2:PermanentStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:PermanentStorageManager> </sandesha2:StorageManagers> <!-- This will not be overriden by service level policies --> <sandesha2:SecurityManager>org.apache.sandesha2.security.dummy.DummySecurityManager</sandesha2:SecurityManager> <sandesha2:ContextManager>org.apache.sandesha2.context.DummyContextManager</sandesha2:ContextManager> <sandesha2:MakeConnection> <sandesha2:Enabled>true</sandesha2:Enabled> <sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> <!-- <sandesha2:UseMessageSerialization>true</sandesha2:UseMessageSerialization> --> <sandesha2:EnforceRM>false</sandesha2:EnforceRM> </wsp:Policy> </sandesha2:RMAssertion> </wsp:Policy> _x008b_ÛÛ <!-- Parameters that will be copied when creating related MessageContexts --> <parameter name='propertiesToCopyFromReferenceMessage' locked='false'>TransportURL;WSAddressingVersion;disableAddressingForOutMessages;rampartPolicy;RECV_RESULTS;PROXY</parameter> <parameter name='propertiesToCopyFromReferenceRequestMessage' locked='false'>WSAddressingVersion;RECV_RESULTS;rampartPolicy</parameter> </module> ====================================================== Thanks; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 6:11 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744580#action_12744580 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; The default sandesha2-1.3.mar doesn't have the following: <sandesha2:MakeConnection> åÊ åÊ åÊ åÊ <sandesha2:Enabled>true</sandesha2:Enabled> åÊ åÊ åÊ åÊ <sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> as part of it's module.xml.åÊ These have to be set as part of your config. The Sandesha module has been deployed correctly as I can see that it processes the createSeq and tries to send a createSeqResponse. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 16:08 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744539#action_12744539 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; The trace I sent you shows that MakeConn is enabled (see axis2.log). I am using the default modules.xml in the sandesha.mar; which enables MakeConn. As to the services.xml; uncommenting the MakeConn policies has no effect; this is coherent since the modules.xml enables these. By the way; is RMPhase correctly positionned in the axis2 conf in the late documentation ? Can you run the client and the service as I sent them to you successfuly ? Or better yet; can you send me a simple service and client that runs successfullly under WS-RM 1.1åÊ with Axis2 1.4 or 1.5 ? Thanks in advance; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 11:32 AM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744432#action_12744432 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; Your services.xml shows the makeConn enablement commented out; you should try uncommenting this.åÊ I haven't seen your module.xml so can't comment on that.åÊ If you can collect sandesha trace for your service I can get a better idea of what's going on.åÊ It's only an assumption that MakeConnection isn't enabled on your service and that's why you are seeing the behaviour you are. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 08:39 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744399#action_12744399 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; I'll try again; but the commented out code showed me that MakeConn is enabled; as specified in the module.xml policies. Do the client and service taht I sent work for you ? Thanks in advance; Patrice --- On Mon; 8/17/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Monday; August 17; 2009; 6:44 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744128#action_12744128 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; The init method of your service is commented out.åÊ This says that it is used to disable MakeConn but currently the commented out code is setting it to true.åÊ Try enabling this so that when it is called MakeConn will be enabled.åÊ I think your seeing problems because MakeConn isn't enabled on your service. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 15/08/2009 09:12 Subject: [jira] Updated: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ] patrice aubry updated SANDESHA2-197: ------------------------------------ åÊ åÊ Attachment: sandesha-issue.zip Hello Dave; The answer is yes to your questions. To check that v1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client) captured on TcpMon. I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. Thank you very much in advance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message?åÊ Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊKey: SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊåÊåÊProject: Sandesha2 åÊ åÊ åÊ åÊ åÊ Issue Type: Bug åÊ åÊ Affects Versions: 1.3 åÊ åÊ åÊ åÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊ åÊ åÊ åÊ åÊ åÊ Reporter: patrice aubry åÊ åÊ åÊ åÊ åÊ åÊ Priority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1;åÊ the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online.,Hi Patrice; My mistake; it is set by default. It all looks like your module.xml is correct. I think we need to get Axis2 & Sandesha trace so that we can see what's going on. I'd expect to see Axis2 register the MC annon EndPoint so that it sees it as an anonymous EndPoint. This obviously isn't happening and i'm not sure why as your setup seems sound. Could you collect this trace. I'd be happy to take a look. Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 19/08/2009 08:41 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744941#action_12744941 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hi Dave; åÊ Here's my module.xml pulled straight out of the sandesha2-1.3.mar and it has 1.1 enabled : åÊ ====================================== <module name='sandesha2' class='org.apache.sandesha2.SandeshaModule'> <Description> This module implements WS-ReliableMessaging for Axis2. This implements both the WSRM submitted spec and up to the version CD4 of the new WSRM 1.1 spec. </Description> <InFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before addressing dispatching --> <order phase='Dispatch' phaseFirst='true'/> </handler> <handler name='MessageContextCorrectionHandler' class='org.apache.sandesha2.handlers.MessageContextCorrectionHandler'> <!-- A handler which handle the duplicate messages --> <order phase='Transport'/> </handler> <handler name='SequenceIDDispatcher' class='org.apache.sandesha2.handlers.SequenceIDDispatcher'> <order phase='Addressing' before='AddressingBasedDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFlow> <OutFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFlow> <InFaultFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before instance dispatching --> <order phase='Dispatch' before='InstanceDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFaultFlow> <OutFaultFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFaultFlow> <operation name='Sandesha2OperationInOnly' mep=' http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping> http://schemas.xmlsoap.org/ws/2005/02/rm/SequenceAcknowledgement </actionMapping> <!-- For interopability purposes. Some WSRM implementations tend to send this as the LastMessage --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/LastMessage </actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping> http://docs.oasis-open.org/ws-rx/wsrm/200702/SequenceAcknowledgement </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/fault </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/AckRequested </actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/TerminateSequence </actionMapping> </operation> <operation name='Sandesha2OperationInOut' mep=' http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/CreateSequence </actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/AckRequested </actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CreateSequence </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CloseSequence </actionMapping> <actionMapping> http://docs.oasis-open.org/ws-rx/wsrm/200702/TerminateSequence </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsmc/200702/MakeConnection </actionMapping> </operation> <operation name='Sandesha2OperationOutOnly' mep=' http://www.w3.org/2006/01/wsdl/out-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationOutIn' mep=' http://www.w3.org/2006/01/wsdl/out-in'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOnly' mep=' http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOut' mep=' http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <supported-policy-namespaces namespaces=' http://ws.apache.org/sandesha2/policy' /> <wsp:Policy xmlns:wsp='http://schemas.xmlsoap.org/ws/2004/09/policy' xmlns:wsu=' http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd ' xmlns:sandesha2='http://ws.apache.org/sandesha2/policy' wsu:Id='RMPolicy'> <sandesha2:RMAssertion> <wsp:Policy> <sandesha2:AcknowledgementInterval>3000</sandesha2:AcknowledgementInterval> <sandesha2:RetransmissionInterval>6000</sandesha2:RetransmissionInterval> <!-- '-1' conveys that there is no limit to the max. number of retransmissions.--> <sandesha2:MaximumRetransmissionCount>10</sandesha2:MaximumRetransmissionCount> <sandesha2:ExponentialBackoff>false</sandesha2:ExponentialBackoff> <sandesha2:InactivityTimeout>60</sandesha2:InactivityTimeout> <sandesha2:InactivityTimeoutMeasure>seconds</sandesha2:InactivityTimeoutMeasure> <!-- Once a sequence has been marked as deleted; or timed out; this is the length of time that the sequence will remain before all sequence state is totally removed --> <sandesha2:SequenceRemovalTimeout>600</sandesha2:SequenceRemovalTimeout> <sandesha2:SequenceRemovalTimeoutMeasure>seconds</sandesha2:SequenceRemovalTimeoutMeasure> <sandesha2:InvokeInOrder>true</sandesha2:InvokeInOrder> <!-- These will not be overriden by service level policies --> <sandesha2:MessageTypesToDrop>none</sandesha2:MessageTypesToDrop> <!-- This will not be overriden by service level policies --> <sandesha2:StorageManagers> <sandesha2:InMemoryStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:InMemoryStorageManager> <sandesha2:PermanentStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:PermanentStorageManager> </sandesha2:StorageManagers> <!-- This will not be overriden by service level policies --> <sandesha2:SecurityManager>org.apache.sandesha2.security.dummy.DummySecurityManager</sandesha2:SecurityManager> <sandesha2:ContextManager>org.apache.sandesha2.context.DummyContextManager</sandesha2:ContextManager> <sandesha2:MakeConnection> <sandesha2:Enabled>true</sandesha2:Enabled> <sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> <!-- <sandesha2:UseMessageSerialization>true</sandesha2:UseMessageSerialization> --> <sandesha2:EnforceRM>false</sandesha2:EnforceRM> </wsp:Policy> </sandesha2:RMAssertion> </wsp:Policy> _x008b_ÛÛ <!-- Parameters that will be copied when creating related MessageContexts --> <parameter name='propertiesToCopyFromReferenceMessage' locked='false'>TransportURL;WSAddressingVersion;disableAddressingForOutMessages;rampartPolicy;RECV_RESULTS;PROXY</parameter> <parameter name='propertiesToCopyFromReferenceRequestMessage' locked='false'>WSAddressingVersion;RECV_RESULTS;rampartPolicy</parameter> </module> ====================================================== åÊ Thanks; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 6:11 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744580#action_12744580 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; The default sandesha2-1.3.mar doesn't have the following: <sandesha2:MakeConnection> åÊåÊåÊåÊåÊåÊåÊåÊ<sandesha2:Enabled>true</sandesha2:Enabled> åÊåÊåÊåÊåÊåÊåÊåÊ<sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> as part of it's module.xml. These have to be set as part of your config. The Sandesha module has been deployed correctly as I can see that it processes the createSeq and tries to send a createSeqResponse. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 16:08 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744539#action_12744539 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; The trace I sent you shows that MakeConn is enabled (see axis2.log). I am using the default modules.xml in the sandesha.mar; which enables MakeConn. As to the services.xml; uncommenting the MakeConn policies has no effect; this is coherent since the modules.xml enables these. By the way; is RMPhase correctly positionned in the axis2 conf in the late documentation ? Can you run the client and the service as I sent them to you successfuly ? Or better yet; can you send me a simple service and client that runs successfullly under WS-RM 1.1 with Axis2 1.4 or 1.5 ? Thanks in advance; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 11:32 AM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744432#action_12744432 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; Your services.xml shows the makeConn enablement commented out; you should try uncommenting this. I haven't seen your module.xml so can't comment on that. If you can collect sandesha trace for your service I can get a better idea of what's going on. It's only an assumption that MakeConnection isn't enabled on your service and that's why you are seeing the behaviour you are. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 08:39 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744399#action_12744399 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; I'll try again; but the commented out code showed me that MakeConn is enabled; as specified in the module.xml policies. Do the client and service taht I sent work for you ? Thanks in advance; Patrice --- On Mon; 8/17/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Monday; August 17; 2009; 6:44 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744128#action_12744128 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; The init method of your service is commented out. This says that it is used to disable MakeConn but currently the commented out code is setting it to true. Try enabling this so that when it is called MakeConn will be enabled. I think your seeing problems because MakeConn isn't enabled on your service. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 15/08/2009 09:12 Subject: [jira] Updated: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ] patrice aubry updated SANDESHA2-197: ------------------------------------ åÊåÊåÊåÊAttachment: sandesha-issue.zip Hello Dave; The answer is yes to your questions. To check that v1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client) captured on TcpMon. I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. Thank you very much in advance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message? Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊKey: SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊProject: Sandesha2 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊIssue Type: Bug åÊåÊåÊåÊAffects Versions: 1.3 åÊåÊåÊåÊåÊåÊåÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊReporter: patrice aubry åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊPriority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1; the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU,Hi Dave; åÊ Here's my module.xml pulled straight out of the sandesha2-1.3.maråÊ and it has 1.1 enabled : åÊ ====================================== <module name='sandesha2' class='org.apache.sandesha2.SandeshaModule'> <Description> This module implements WS-ReliableMessaging for Axis2. This implements both the WSRM submitted spec and up to the version CD4 of the new WSRM 1.1 spec. </Description> <InFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before addressing dispatching --> <order phase='Dispatch' phaseFirst='true'/> </handler> <handler name='MessageContextCorrectionHandler' class='org.apache.sandesha2.handlers.MessageContextCorrectionHandler'> <!-- A handler which handle the duplicate messages --> <order phase='Transport'/> </handler> <handler name='SequenceIDDispatcher' class='org.apache.sandesha2.handlers.SequenceIDDispatcher'> <order phase='Addressing' before='AddressingBasedDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFlow> <OutFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFlow> <InFaultFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before instance dispatching --> <order phase='Dispatch' before='InstanceDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFaultFlow> <OutFaultFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFaultFlow> <operation name='Sandesha2OperationInOnly' mep='http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/SequenceAcknowledgement&lt;/actionMapping> <!-- For interopability purposes. Some WSRM implementations tend to send this as the LastMessage --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/LastMessage&lt;/actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/SequenceAcknowledgement&lt;/actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/fault&lt;/actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/AckRequested&lt;/actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/TerminateSequence&lt;/actionMapping> </operation> <operation name='Sandesha2OperationInOut' mep='http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/CreateSequence&lt;/actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/AckRequested&lt;/actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CreateSequence&lt;/actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CloseSequence&lt;/actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/TerminateSequence&lt;/actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsmc/200702/MakeConnection&lt;/actionMapping> </operation> <operation name='Sandesha2OperationOutOnly' mep='http://www.w3.org/2006/01/wsdl/out-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationOutIn' mep='http://www.w3.org/2006/01/wsdl/out-in'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOnly' mep='http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOut' mep='http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <supported-policy-namespaces namespaces='http://ws.apache.org/sandesha2/policy' /> <wsp:Policy xmlns:wsp='http://schemas.xmlsoap.org/ws/2004/09/policy' xmlns:wsu='http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd' xmlns:sandesha2='http://ws.apache.org/sandesha2/policy' wsu:Id='RMPolicy'> <sandesha2:RMAssertion> <wsp:Policy> <sandesha2:AcknowledgementInterval>3000</sandesha2:AcknowledgementInterval> <sandesha2:RetransmissionInterval>6000</sandesha2:RetransmissionInterval> <!-- '-1' conveys that there is no limit to the max. number of retransmissions.--> <sandesha2:MaximumRetransmissionCount>10</sandesha2:MaximumRetransmissionCount> <sandesha2:ExponentialBackoff>false</sandesha2:ExponentialBackoff> <sandesha2:InactivityTimeout>60</sandesha2:InactivityTimeout> <sandesha2:InactivityTimeoutMeasure>seconds</sandesha2:InactivityTimeoutMeasure> <!-- Once a sequence has been marked as deleted; or timed out; this is the length of time that the sequence will remain before all sequence state is totally removed --> <sandesha2:SequenceRemovalTimeout>600</sandesha2:SequenceRemovalTimeout> <sandesha2:SequenceRemovalTimeoutMeasure>seconds</sandesha2:SequenceRemovalTimeoutMeasure> <sandesha2:InvokeInOrder>true</sandesha2:InvokeInOrder> <!-- These will not be overriden by service level policies --> <sandesha2:MessageTypesToDrop>none</sandesha2:MessageTypesToDrop> <!-- This will not be overriden by service level policies --> <sandesha2:StorageManagers> <sandesha2:InMemoryStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:InMemoryStorageManager> <sandesha2:PermanentStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:PermanentStorageManager> </sandesha2:StorageManagers> <!-- This will not be overriden by service level policies --> <sandesha2:SecurityManager>org.apache.sandesha2.security.dummy.DummySecurityManager</sandesha2:SecurityManager> <sandesha2:ContextManager>org.apache.sandesha2.context.DummyContextManager</sandesha2:ContextManager> <sandesha2:MakeConnection> <sandesha2:Enabled>true</sandesha2:Enabled> <sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> <!-- <sandesha2:UseMessageSerialization>true</sandesha2:UseMessageSerialization> --> <sandesha2:EnforceRM>false</sandesha2:EnforceRM> </wsp:Policy> </sandesha2:RMAssertion> </wsp:Policy> _x008b_ÛÛ <!-- Parameters that will be copied when creating related MessageContexts --> <parameter name='propertiesToCopyFromReferenceMessage' locked='false'>TransportURL;WSAddressingVersion;disableAddressingForOutMessages;rampartPolicy;RECV_RESULTS;PROXY</parameter> <parameter name='propertiesToCopyFromReferenceRequestMessage' locked='false'>WSAddressingVersion;RECV_RESULTS;rampartPolicy</parameter> </module> ====================================================== åÊ Thanks; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 6:11 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744580#action_12744580 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; The default sandesha2-1.3.mar doesn't have the following: <sandesha2:MakeConnection> åÊ åÊ åÊ åÊ <sandesha2:Enabled>true</sandesha2:Enabled> åÊ åÊ åÊ åÊ <sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> as part of it's module.xml.åÊ These have to be set as part of your config. The Sandesha module has been deployed correctly as I can see that it processes the createSeq and tries to send a createSeqResponse. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 16:08 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744539#action_12744539 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; The trace I sent you shows that MakeConn is enabled (see axis2.log). I am using the default modules.xml in the sandesha.mar; which enables MakeConn. As to the services.xml; uncommenting the MakeConn policies has no effect; this is coherent since the modules.xml enables these. By the way; is RMPhase correctly positionned in the axis2 conf in the late documentation ? Can you run the client and the service as I sent them to you successfuly ? Or better yet; can you send me a simple service and client that runs successfullly under WS-RM 1.1åÊ with Axis2 1.4 or 1.5 ? Thanks in advance; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 11:32 AM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744432#action_12744432 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; Your services.xml shows the makeConn enablement commented out; you should try uncommenting this.åÊ I haven't seen your module.xml so can't comment on that.åÊ If you can collect sandesha trace for your service I can get a better idea of what's going on.åÊ It's only an assumption that MakeConnection isn't enabled on your service and that's why you are seeing the behaviour you are. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 08:39 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744399#action_12744399 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; I'll try again; but the commented out code showed me that MakeConn is enabled; as specified in the module.xml policies. Do the client and service taht I sent work for you ? Thanks in advance; Patrice --- On Mon; 8/17/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Monday; August 17; 2009; 6:44 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744128#action_12744128 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; The init method of your service is commented out.åÊ This says that it is used to disable MakeConn but currently the commented out code is setting it to true.åÊ Try enabling this so that when it is called MakeConn will be enabled.åÊ I think your seeing problems because MakeConn isn't enabled on your service. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 15/08/2009 09:12 Subject: [jira] Updated: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ] patrice aubry updated SANDESHA2-197: ------------------------------------ åÊ åÊ Attachment: sandesha-issue.zip Hello Dave; The answer is yes to your questions. To check that v1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client) captured on TcpMon. I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. Thank you very much in advance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message?åÊ Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊKey: SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊåÊåÊProject: Sandesha2 åÊ åÊ åÊ åÊ åÊ Issue Type: Bug åÊ åÊ Affects Versions: 1.3 åÊ åÊ åÊ åÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊ åÊ åÊ åÊ åÊ åÊ Reporter: patrice aubry åÊ åÊ åÊ åÊ åÊ åÊ Priority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1;åÊ the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online.,Hi; The default sandesha2-1.3.mar doesn't have the following: <sandesha2:MakeConnection> åÊåÊåÊåÊåÊåÊåÊåÊ<sandesha2:Enabled>true</sandesha2:Enabled> åÊåÊåÊåÊåÊåÊåÊåÊ<sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> as part of it's module.xml. These have to be set as part of your config. The Sandesha module has been deployed correctly as I can see that it processes the createSeq and tries to send a createSeqResponse. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 16:08 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744539#action_12744539 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; The trace I sent you shows that MakeConn is enabled (see axis2.log). I am using the default modules.xml in the sandesha.mar; which enables MakeConn. As to the services.xml; uncommenting the MakeConn policies has no effect; this is coherent since the modules.xml enables these. By the way; is RMPhase correctly positionned in the axis2 conf in the late documentation ? Can you run the client and the service as I sent them to you successfuly ? Or better yet; can you send me a simple service and client that runs successfullly under WS-RM 1.1 with Axis2 1.4 or 1.5 ? Thanks in advance; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 11:32 AM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744432#action_12744432 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; Your services.xml shows the makeConn enablement commented out; you should try uncommenting this. I haven't seen your module.xml so can't comment on that. If you can collect sandesha trace for your service I can get a better idea of what's going on. It's only an assumption that MakeConnection isn't enabled on your service and that's why you are seeing the behaviour you are. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 08:39 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744399#action_12744399 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; åÊ I'll try again; but the commented out code showed me that MakeConn is enabled; as specified in the module.xml policies. åÊ Do the client and service taht I sent work for you ? åÊ Thanks in advance; Patrice --- On Mon; 8/17/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Monday; August 17; 2009; 6:44 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744128#action_12744128 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; The init method of your service is commented out. This says that it is used to disable MakeConn but currently the commented out code is setting it to true. Try enabling this so that when it is called MakeConn will be enabled. I think your seeing problems because MakeConn isn't enabled on your service. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 15/08/2009 09:12 Subject: [jira] Updated: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ] patrice aubry updated SANDESHA2-197: ------------------------------------ åÊåÊåÊåÊAttachment: sandesha-issue.zip Hello Dave; The answer is yes to your questions. To check that v1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client) captured on TcpMon. I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. Thank you very much in advance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message? Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊKey: SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊProject: Sandesha2 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊIssue Type: Bug åÊåÊåÊåÊAffects Versions: 1.3 åÊåÊåÊåÊåÊåÊåÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊReporter: patrice aubry åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊPriority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1; the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU,Hello Dave; The trace I sent you shows that MakeConn is enabled (see axis2.log). I am using the default modules.xml in the sandesha.mar; which enables MakeConn. As to the services.xml; uncommenting the MakeConn policies has no effect; this is coherent since the modules.xml enables these. By the way; is RMPhase correctly positionned in the axis2 conf in the late documentation ? Can you run the client and the service as I sent them to you successfuly ? Or better yet; can you send me a simple service and client that runs successfullly under WS-RM 1.1åÊ with Axis2 1.4 or 1.5 ? Thanks in advance; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 11:32 AM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744432#action_12744432 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; Your services.xml shows the makeConn enablement commented out; you should try uncommenting this.åÊ I haven't seen your module.xml so can't comment on that.åÊ If you can collect sandesha trace for your service I can get a better idea of what's going on.åÊ It's only an assumption that MakeConnection isn't enabled on your service and that's why you are seeing the behaviour you are. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 08:39 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744399#action_12744399 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; åÊ I'll try again; but the commented out code showed me that MakeConn is enabled; as specified in the module.xml policies. åÊ Do the client and service taht I sent work for you ? åÊ Thanks in advance; Patrice --- On Mon; 8/17/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Monday; August 17; 2009; 6:44 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744128#action_12744128 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; The init method of your service is commented out.åÊ This says that it is used to disable MakeConn but currently the commented out code is setting it to true.åÊ Try enabling this so that when it is called MakeConn will be enabled.åÊ I think your seeing problems because MakeConn isn't enabled on your service. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 15/08/2009 09:12 Subject: [jira] Updated: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ] patrice aubry updated SANDESHA2-197: ------------------------------------ åÊ åÊ Attachment: sandesha-issue.zip Hello Dave; The answer is yes to your questions. To check that v1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client) captured on TcpMon. I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. Thank you very much in advance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message?åÊ Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊKey: SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊåÊåÊProject: Sandesha2 åÊ åÊ åÊ åÊ åÊ Issue Type: Bug åÊ åÊ Affects Versions: 1.3 åÊ åÊ åÊ åÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊ åÊ åÊ åÊ åÊ åÊ Reporter: patrice aubry åÊ åÊ åÊ åÊ åÊ åÊ Priority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1;åÊ the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online.,Hi; Your services.xml shows the makeConn enablement commented out; you should try uncommenting this. I haven't seen your module.xml so can't comment on that. If you can collect sandesha trace for your service I can get a better idea of what's going on. It's only an assumption that MakeConnection isn't enabled on your service and that's why you are seeing the behaviour you are. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 08:39 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744399#action_12744399 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; åÊ I'll try again; but the commented out code showed me that MakeConn is enabled; as specified in the module.xml policies. åÊ Do the client and service taht I sent work for you ? åÊ Thanks in advance; Patrice --- On Mon; 8/17/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Monday; August 17; 2009; 6:44 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744128#action_12744128 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; The init method of your service is commented out. This says that it is used to disable MakeConn but currently the commented out code is setting it to true. Try enabling this so that when it is called MakeConn will be enabled. I think your seeing problems because MakeConn isn't enabled on your service. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 15/08/2009 09:12 Subject: [jira] Updated: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ] patrice aubry updated SANDESHA2-197: ------------------------------------ åÊåÊåÊåÊAttachment: sandesha-issue.zip Hello Dave; The answer is yes to your questions. To check that v1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client) captured on TcpMon. I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. Thank you very much in advance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message? Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊKey: SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊProject: Sandesha2 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊIssue Type: Bug åÊåÊåÊåÊAffects Versions: 1.3 åÊåÊåÊåÊåÊåÊåÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊReporter: patrice aubry åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊPriority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1; the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU,Hello Dave; The init methodåÊ is only printing out the status of the MakeConn policy. I added this code to check that the policy values;åÊ and they are correct. This bit of code is not necessary; the policies are specified in modules.xml. I agree the problem is that somewhere this policy is not being respected; but where. I will be useful to see if you can get this service working on your platform. Thanks; Patrice --- On Mon; 8/17/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: åÊpnaubry@yahoo.com Date: Monday; August 17; 2009; 6:44 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744128#action_12744128 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; The init method of your service is commented out.åÊ This says that it is used to disable MakeConn but currently the commented out code is setting it to true.åÊ Try enabling this so that when it is called MakeConn will be enabled.åÊ I think your seeing problems because MakeConn isn't enabled on your åÊservice. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 15/08/2009 09:12 Subject: [jira] Updated: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ] patrice aubry updated SANDESHA2-197: ------------------------------------ åÊ åÊ Attachment: sandesha-issue.zip Hello Dave; åÊ The answer is yes to your questions. åÊ To check that v1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. åÊ I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client) captured on TcpMon. åÊ I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. åÊ Thank you very much in åÊadvance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message?åÊ Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊ åÊ åÊ åÊåÊ åÊ åÊ åÊ åÊåÊåÊKey: SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊåÊåÊProject: Sandesha2 åÊ åÊ åÊ åÊ åÊ Issue Type: Bug åÊ åÊ Affects Versions: 1.3 åÊ åÊ åÊ åÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊ åÊ åÊ åÊ åÊ åÊ Reporter: patrice aubry åÊ åÊ åÊ åÊ åÊ åÊ Priority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1;åÊ the anonymous replyTo is not understood as such and is treated as an actual åÊURL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise åÊabove: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU åÊSANDESHA2-197 åÊunderstood as such and is treated as an actual URL. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online.,Hello Dave; åÊ I'll try again; but the commented out code showed me that MakeConn is enabled; as specified in the module.xml policies. åÊ Do the client and service taht I sent work for you ? åÊ Thanks in advance; Patrice --- On Mon; 8/17/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Monday; August 17; 2009; 6:44 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744128#action_12744128 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; The init method of your service is commented out.åÊ This says that it is used to disable MakeConn but currently the commented out code is setting it to true.åÊ Try enabling this so that when it is called MakeConn will be enabled.åÊ I think your seeing problems because MakeConn isn't enabled on your service. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 15/08/2009 09:12 Subject: [jira] Updated: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ] patrice aubry updated SANDESHA2-197: ------------------------------------ åÊ åÊ Attachment: sandesha-issue.zip Hello Dave; The answer is yes to your questions. To check that v1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client) captured on TcpMon. I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. Thank you very much in advance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message?åÊ Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊKey: SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊåÊåÊProject: Sandesha2 åÊ åÊ åÊ åÊ åÊ Issue Type: Bug åÊ åÊ Affects Versions: 1.3 åÊ åÊ åÊ åÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊ åÊ åÊ åÊ åÊ åÊ Reporter: patrice aubry åÊ åÊ åÊ åÊ åÊ åÊ Priority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1;åÊ the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online.,Hi Patrice; The init method of your service is commented out. This says that it is used to disable MakeConn but currently the commented out code is setting it to true. Try enabling this so that when it is called MakeConn will be enabled. I think your seeing problems because MakeConn isn't enabled on your service. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 15/08/2009 09:12 Subject: [jira] Updated: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ] patrice aubry updated SANDESHA2-197: ------------------------------------ åÊåÊåÊåÊAttachment: sandesha-issue.zip Hello Dave; åÊ The answer is yes to your questions. åÊ To check that v1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. åÊ I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client) captured on TcpMon. åÊ I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. åÊ Thank you very much in advance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message? Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊKey: SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊProject: Sandesha2 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊIssue Type: Bug åÊåÊåÊåÊAffects Versions: 1.3 åÊåÊåÊåÊåÊåÊåÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊReporter: patrice aubry åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊPriority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1; the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU,Hello Dave; åÊ The answer is yes to your questions. åÊ To check thatåÊv1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. åÊ I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client)åÊcaptured on TcpMon. åÊ I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. åÊ Thank you very much in advance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message?åÊ Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊKey: SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊåÊåÊProject: Sandesha2 åÊ åÊ åÊ åÊ åÊ Issue Type: Bug åÊ åÊ Affects Versions: 1.3 åÊ åÊ åÊ åÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊ åÊ åÊ åÊ åÊ åÊ Reporter: patrice aubry åÊ åÊ åÊ åÊ åÊ åÊ Priority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1;åÊ the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online.,Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message? Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊKey: SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊProject: Sandesha2 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊIssue Type: Bug åÊåÊåÊåÊAffects Versions: 1.3 åÊåÊåÊåÊåÊåÊåÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊReporter: patrice aubry åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊPriority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1; the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU,,,,,,,,,
78973,,,x,,,,,Point taken. Migration query is following in this case 'Update person set username='rave2011.myopenid.com'; openid='http://rave2011.myopenid.com/&#39; where username='http://rave2011.myopenid.com/&#39;'. We can add such migration steps in release also with some migration.txt or in change log file itself. Ideas?,,,,,,,,,,,,,,,,,,,,,,,,
31347,,,,x,,,,This has been in RESOLVED state for over one year so now closing; if it turns out to not be fixed please re-open.,,,,,,,,,,,,,,,,,,,,,,,,
16633,,x,,,,,,This was fixed by having all the items in the action chain having their properties copied over to the new action.,thinking about this more; the value stack would need to know about the chain so that if the chain we to end on a rollback and display edit.jsp; we'd still want to be able to pull stuff originally inputed.,,,,,,,,,,,,,,,,,,,,,,,
2685,,,,,,,,Integrated in Hadoop-Mapreduce-trunk #1386 (See https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1386/) YARN-209. Fix CapacityScheduler to trigger application-activation when the cluster capacity changes. Contributed by Zhijie Shen. (Revision 1461773) Result = SUCCESS vinodkv : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1461773 Files : /hadoop/common/trunk/hadoop-yarn-project/CHANGES.txt /hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/LeafQueue.java /hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/TestRM.java /hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/TestLeafQueue.java,Integrated in Hadoop-Hdfs-trunk #1358 (See https://builds.apache.org/job/Hadoop-Hdfs-trunk/1358/) YARN-209. Fix CapacityScheduler to trigger application-activation when the cluster capacity changes. Contributed by Zhijie Shen. (Revision 1461773) Result = FAILURE vinodkv : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1461773 Files : /hadoop/common/trunk/hadoop-yarn-project/CHANGES.txt /hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/LeafQueue.java /hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/TestRM.java /hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/TestLeafQueue.java,Integrated in Hadoop-Yarn-trunk #169 (See https://builds.apache.org/job/Hadoop-Yarn-trunk/169/) YARN-209. Fix CapacityScheduler to trigger application-activation when the cluster capacity changes. Contributed by Zhijie Shen. (Revision 1461773) Result = FAILURE vinodkv : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1461773 Files : /hadoop/common/trunk/hadoop-yarn-project/CHANGES.txt /hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/LeafQueue.java /hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/TestRM.java /hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/TestLeafQueue.java,Integrated in Hadoop-trunk-Commit #3537 (See https://builds.apache.org/job/Hadoop-trunk-Commit/3537/) YARN-209. Fix CapacityScheduler to trigger application-activation when the cluster capacity changes. Contributed by Zhijie Shen. (Revision 1461773) Result = SUCCESS vinodkv : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1461773 Files : /hadoop/common/trunk/hadoop-yarn-project/CHANGES.txt /hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/LeafQueue.java /hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/TestRM.java /hadoop/common/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/TestLeafQueue.java,I just committed this to trunk and branch-2. Thanks Zhijie!,So; on a single-node cluster the patch works correctly. Cool; I am checking this in.,@Vinod; I tested the patch with the following logic: 1. Launch RM 2. Submit App 3. Check it is pending (Yes) 4. Launch NM 5. Check it is active (Yes) So; on a single-node cluster the patch works correctly.,The new version of the test makes more sense. Looks good.,So; in other words; if an application gets submitted to the RM before any NM registered; the application will be stuck in pending state. Right? Or you can just test this manually. Either of the above is fine by me.,Patch looks good; can you test this manually too? Something like this: Starting one NM with very little resources first and another with sufficient resources later and an app which can only run on the second NM.,+1 overall. Here are the results of testing the latest attachment http://issues.apache.org/jira/secure/attachment/12575660/YARN-209.4.patch against trunk revision . +1 @author. The patch does not contain any @author tags. +1 tests included. The patch appears to include 2 new or modified test files. +1 javac. The applied patch does not increase the total number of javac compiler warnings. +1 javadoc. The javadoc tool did not generate any warning messages. +1 eclipse:eclipse. The patch built with eclipse:eclipse. +1 findbugs. The patch does not introduce any new Findbugs (version 1.3.9) warnings. +1 release audit. The applied patch does not increase the total number of release audit warnings. +1 core tests. The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager. +1 contrib tests. The patch passed contrib unit tests. Test results: https://builds.apache.org/job/PreCommit-YARN-Build/615//testReport/ Console output: https://builds.apache.org/job/PreCommit-YARN-Build/615//console This message is automatically generated.,The log statement is removed and testActivatingPendingApplication is moved to TestRM and enhanced by checking the status before NM is added. @Bikas; I agree TestLeafQueue only is enough to verify the bug; but I think the test case that you provided before is valuable. Therefore; I included and updated it as a showing case of activating pending applications by adding more nodemanagers.,Patch looks good overall. I dont quite see what testActivatingPendingApplication() is buying us in its current form. If the leaf queue test fails before the fix and passes after it; then it should be enough IMO.,Reviewed the patch; looks fine; few minor comments I have: LeafQueue: The log statement isn't useful beyond debugging this issue; can be removed. testActivatingPendingApplication doesn't seem to belong to TestRMRestart; should move it to somewhere else. TestRM perhaps?,-1 overall. Here are the results of testing the latest attachment http://issues.apache.org/jira/secure/attachment/12575556/YARN-209.3.patch against trunk revision . +1 @author. The patch does not contain any @author tags. +1 tests included. The patch appears to include 2 new or modified test files. +1 javac. The applied patch does not increase the total number of javac compiler warnings. +1 javadoc. The javadoc tool did not generate any warning messages. -1 eclipse:eclipse. The patch failed to build with eclipse:eclipse. +1 findbugs. The patch does not introduce any new Findbugs (version 1.3.9) warnings. +1 release audit. The applied patch does not increase the total number of release audit warnings. +1 core tests. The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager. +1 contrib tests. The patch passed contrib unit tests. Test results: https://builds.apache.org/job/PreCommit-YARN-Build/605//testReport/ Console output: https://builds.apache.org/job/PreCommit-YARN-Build/605//console This message is automatically generated.,Extract the fixing code specifically for this issue from YARN-474; to make this issue unblocked. @Bikas' end-to-end test case is retained but simplified; because it is good example to demonstrate the problem described here.,@Hitesh; this is because in this ticket; there's no fix code. The failure is expected here. When YARN-474 is fixed; the failure should be gone.,@Zhijie; is the test failure related to your patch?,-1 overall. Here are the results of testing the latest attachment http://issues.apache.org/jira/secure/attachment/12574896/YARN-209.2.patch against trunk revision . +1 @author. The patch does not contain any @author tags. +1 tests included. The patch appears to include 1 new or modified test files. +1 tests included appear to have a timeout. +1 javac. The applied patch does not increase the total number of javac compiler warnings. +1 javadoc. The javadoc tool did not generate any warning messages. -1 eclipse:eclipse. The patch failed to build with eclipse:eclipse. +1 findbugs. The patch does not introduce any new Findbugs (version 1.3.9) warnings. +1 release audit. The applied patch does not increase the total number of release audit warnings. -1 core tests. The patch failed these unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager: org.apache.hadoop.yarn.server.resourcemanager.TestRMRestart +1 contrib tests. The patch passed contrib unit tests. Test results: https://builds.apache.org/job/PreCommit-YARN-Build/564//testReport/ Console output: https://builds.apache.org/job/PreCommit-YARN-Build/564//console This message is automatically generated.,Given YARN-474 is fixed; the patch can be used to test the scenario that the applications are submitted before NM are registered.,Whenever more hardware is added to the cluster; LeafQueue#updateClusterResource will be triggered. The problem can be fixed by the patch for YARN-474 as well.,Right. Thats what the test in the attached patch does. But its a functional test.,Haven't looked at the code yet; trying to understand the scenario. So; in other words; if an application gets submitted to the RM before any NM registered; the application will be stuck in pending state. Right? If so; we can write a test like that.,-1 overall. Here are the results of testing the latest attachment http://issues.apache.org/jira/secure/attachment/12552973/YARN-209.1.patch against trunk revision . +1 @author. The patch does not contain any @author tags. -1 tests included. The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. +1 javac. The applied patch does not increase the total number of javac compiler warnings. +1 javadoc. The javadoc tool did not generate any warning messages. +1 eclipse:eclipse. The patch built with eclipse:eclipse. +1 findbugs. The patch does not introduce any new Findbugs (version 1.3.9) warnings. +1 release audit. The applied patch does not increase the total number of release audit warnings. +1 core tests. The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager. +1 contrib tests. The patch passed contrib unit tests. Test results: https://builds.apache.org/job/PreCommit-YARN-Build/176//testReport/ Console output: https://builds.apache.org/job/PreCommit-YARN-Build/176//console This message is automatically generated.,Attaching a fix for the issue. Also attaching a test that times out without this fix and passes with it. There might be a simpler way to test this.
58727,,,,,,,,Example RequestDocumentor output for the StatelessEngineTest,,,,,,,,,,,,,,,,,,,,,,,,
11881,,,x,x,,,,AFAIK; there is no plan to replace crimson with xerces in near future ( maybe for xerces2; but that's still far away). There are many reasons for that ( requirements related with code size and speed ). In any case; the dist from apache uses xerces as default.,,,,,,,,,,,,,,,,,,,,,,,,
44105,,x,,,,,,Closed due to the release of Tiles 2.1.0.,All the subtasks have been resolved.,,,,,,,,,,,,,,,,,,,,,,,
29936,x,x,,,,,,To test this; I used an aggregate AE with a CAS multiplier that declared getCasInstancesRequired()=5. If this AE is instantiated and run in a loop with earlier code it eats up roughly 10MB per iteration. No such leak with the latest code. Thanks!,,,,,,,,,,,,,,,,,,,,,,,,
4163,,,x,x,,,,No reply; closing.,,,,,,,,,,,,,,,,,,,,,,,,
77185,,x,,,,,,Closing all resolved/fixed issues of already released versions of Roller.,,,,,,,,,,,,,,,,,,,,,,,,
74491,,,,,,,,Chain 1.2 is now available in the m2 repo. Updated patches to include logging 1.1.1 and scxml 0.8,,,,,,,,,,,,,,,,,,,,,,,,
69146,,x,,,,,,The fix currently transform the input source to a DOMSource. We could also handle differently a SAXSource.,,,,,,,,,,,,,,,,,,,,,,,,
53257,x,x,,,,,,Thanks for the patch; Michael. Applied with a few modifications.,,,,,,,,,,,,,,,,,,,,,,,,
43983,,x,,,,,,Closed due to the release of Tiles 2.1.1,Added documentation for FreeMarker.,,,,,,,,,,,,,,,,,,,,,,,
80738,,,x,x,,,,Rejected for 0.20. Allow me to clarify my position. I was prepared to accept this for 0.20. Right or wrong; it's by all accounts the dominant convention for similar .i files from other projects; and that's good enough for me. However! It depends on QPID-4207; and that's much too big change to dist metadata for our final release candidate. This will have to wait.,,,,,,,,,,,,,,,,,,,,,,,,
52309,,x,,,,,,Integrated in Syncope-ROLE_PROVISIONING #4 (See [https://builds.apache.org/job/Syncope-ROLE_PROVISIONING/4/]) åÊåÊåÊåÊ[SYNCOPE-173][SYNCOPE-219] (Additional) Moving some classes to new packages as preparation for role-related workflow classes (Revision 1408258) [SYNCOPE-173][SYNCOPE-219] Moving some classes to new packages as preparation for role-related workflow classes (Revision 1408249) åÊåÊåÊåÊåÊResult = SUCCESS ilgrosso : Files : * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/init/ContentLoader.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/init/SpringContextInitializer.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/policy/AccountPolicyEnforcer.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/rest/controller/UserController.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/rest/controller/WorkflowController.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/sync/SyncopeSyncResultHanlder.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/resources/workflow.properties * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/resources/workflowContext.xml * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/test/resources/noopworkflow/workflow.properties * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/test/resources/noopworkflow/workflowContext.xml * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/test/resources/workflow.properties ilgrosso : Files : * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/init/ActivitiWorkflowLoader.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/init/SpringContextInitializer.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/policy/AccountPolicyEnforcer.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/rest/controller/UserController.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/rest/controller/WorkflowController.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/sync/SyncopeSyncResultHanlder.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/workflow/AbstractUserWorkflowAdapter.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/workflow/ActivitiUserWorkflowAdapter.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/workflow/NoOpUserWorkflowAdapter.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/workflow/UserWorkflowAdapter.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/workflow/activiti * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/workflow/role * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/workflow/user * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/workflow/user/AbstractUserWorkflowAdapter.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/workflow/user/NoOpUserWorkflowAdapter.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/workflow/user/UserWorkflowAdapter.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/workflow/user/activiti * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/workflow/user/activiti/ActivitiUserWorkflowAdapter.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/workflow/user/activiti/ActivitiWorkflowLoader.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/workflow/user/activiti/SyncopeEntitiesVariableType.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/workflow/user/activiti/SyncopeGroupManager.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/workflow/user/activiti/SyncopeGroupQueryImpl.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/workflow/user/activiti/SyncopeSession.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/workflow/user/activiti/SyncopeSessionFactory.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/workflow/user/activiti/SyncopeUserManager.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/workflow/user/activiti/SyncopeUserQueryImpl.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/workflow/user/activiti/task * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/workflow/user/activiti/task/AbstractActivitiDelegate.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/workflow/user/activiti/task/AutoActivate.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/workflow/user/activiti/task/Create.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/workflow/user/activiti/task/Delete.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/workflow/user/activiti/task/GenerateToken.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/workflow/user/activiti/task/Reactivate.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/workflow/user/activiti/task/Suspend.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/java/org/apache/syncope/core/workflow/user/activiti/task/Update.java * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/resources/userWorkflow.bpmn20.xml * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/resources/workflow.properties * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/main/resources/workflowContext.xml * /incubator/syncope/branches/DEV_ROLE_PROVISIONING/core/src/test/resources/workflow.properties,,,,,,,,,,,,,,,,,,,,,,,,
31813,,,x,x,,,,Closing because this has been in RESOLVED state for over one year; if it turns out to not be fixed please reopen.,,,,,,,,,,,,,,,,,,,,,,,,
28313,x,x,x,,,,,Thanks for that comment Richard! I was laboring under the (false) impression that I could not change the docs that went with our previous releases; but I see these are coming from a copy on our svn site; and we could actually change that one. Anybody object to my doing that? I could correct the link; and also indicate this release is 2 levels out of date.,,,,,,,,,,,,,,,,,,,,,,,,
51694,,,,,x,,,Yes; it's my mistake; I'm overlooked this property.,Isn't it enough to disable auto focus on the form ?,,,,,,,,,,,,,,,,,,,,,,,
18885,x,,,,,,,Thanks Sven!,Thanks Sebastien!,,,,,,,,,,,,,,,,,,,,,,,
19946,x,,,,,x,,Is there any documentation such as 'getting started with swarm' available? If there is; could you share links? Thanks.,,,,,,,,,,,,,,,,,,,,,,,,
16927,,x,,,,,,I'll update the javadoc accordingly.,,,,,,,,,,,,,,,,,,,,,,,,
33755,,x,,,,,,Closing the issue now that it has been resolved.,,,,,,,,,,,,,,,,,,,,,,,,
20296,,,,,,,,Integrated in Apache Wicket 1.4.x #436 (See [https://hudson.apache.org/hudson/job/Apache%20Wicket%201.4.x/436/]) åÊåÊåÊåÊWICKET-3413 FLAG_INHERITABLE_MODEL and default model change reset 'inherited model' flag if model changed and a new one is not IComponentInheritedModel,Improved with r1070211 (1.4.x) and r1070210 (trunk).,,,,,,,,,,,,,,,,,,,,,,,
64082,,,x,,,,,This bug was modified as part of a bulk update using the criteria... Marked 'Resolved' and 'Fixed' Had no 'Fix Version' versions Was listed in the CHANGES.txt for 1.3 as of today 2008-03-15 The Fix Version for all 29 issues found was set to 1.3; email notification was suppressed to prevent excessive email. For a list of all the issues modified; search jira comments for this (hopefully) unique string: batch20070315hossman1,,,,,,,,,,,,,,,,,,,,,,,,
68066,,,,,x,,,Fixed. Sorry for long waiting. I didn't find the time. Author: tterm Date: Mon Jul 21 01:53:35 2008 New Revision: 678365 URL: http://svn.apache.org/viewvc?rev=678365&view=rev Log: Preserving or configuring content-type of http-header Modified: servicemix/smx3/branches/servicemix-3.2/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/HttpEndpoint.java servicemix/smx3/branches/servicemix-3.2/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/processors/ProviderProcessor.java,Can you give me an indication; when this issue will be solved?,So you don't expect more information from me? Regards; Jan Reynaerts,Guillaume: I know what he wants to do. It's not much to do. I will do it this during the week.,Could you please provide a patch / diff file instead ? See http://servicemix.apache.org/contributing.html for more informations.,I've attached the 2 patched files. I'm not sure if this is the right way to do it,Can't find the patch.,,,,,,,,,,,,,,,,,,
4887,x,x,,,,,,Patch Applied. Good Work Adrian!,Attachment diff.txt has been added with description: patch file,,,,,,,,,,,,,,,,,,,,,,,
8202,,x,,,,,,*** Bug 8704 has been marked as a duplicate of this bug. ***,,,,,,,,,,,,,,,,,,,,,,,,
50889,,x,,,,,,Seems like this has all been done.,"'""apache' added font bug fixed""",The logo source for the one with the gray background uses a different font then the one with the black background; is this intentional? Also they both don't contain the letters 'apache' whereas the compiled one does.,I think special pages need a custom layout (about; getting started; home page; documentation; download etc.). According to priorities; I will produce needed layouts.,Tapestry Logo as Illustrator SVG : fixed with final dot after 'Code less; do more',NB: tapestry logo on homepage contains the word 'apache'.,Website redesign related files Contains: - CSS : a reset and custom style for tapestry.apache.org - layouts as static html: åÊåÊåÊ- - homepage åÊåÊåÊ- - documentation åÊåÊåÊ- - getting started - SVG for making headline/title images. Using fonts with big size would cause aliasing issues. I think it's better to use image for headlines.,Logo as Illustrator SVG.,,,,,,,,,,,,,,,,,
53882,x,x,,,,,,Fixed in both the current trunk and 1.2.x branch; thanks for reporting this: http://svn.apache.org/viewcvs.cgi?rev=383718&view=rev http://svn.apache.org/viewcvs.cgi?rev=383720&view=rev As well as LookupDispatchAction I also modified DispatchAction and ActionDispatcher which could expose the same issue when the NoSuchMethodException is thrown for an invalid method input through a parameter. Closing as FIXED.,,,,,,,,,,,,,,,,,,,,,,,,
29394,,,,,,x,,Closing this issue - if more needs to be done; maybe it would be better to open an new issue - this one has gotten rather large,,,,,,,,,,,,,,,,,,,,,,,,
36205,,x,,,,,,as for V2.1.4 and later; we do not seen any reproduce; so mark this issue as fixed,,,,,,,,,,,,,,,,,,,,,,,,
37860,,,x,x,,,,Attention: - Please refer https://issues.apache.org/jira/browse/TRINIDAD-1145 for a possible fix,,,,,,,,,,,,,,,,,,,,,,,,
52102,,,x,x,,,,Due to limitations in JIRA; the resolution on some issues had to be changed; as part of removing the fix release from the issue. Only issues that are actually fixed should have a fix release.,,,,,,,,,,,,,,,,,,,,,,,,
61660,,x,,,,,,Variables specified in data config are also resolved with system properties so there is no reason anymore to configure DIH via solrconfig. Hence; the bug can be worked around by using dataconfig instead of configuring via solrconfig.,,,,,,,,,,,,,,,,,,,,,,,,
50449,,,x,,,,,Does not occurs on Firefox or Curl. Probably a Chrome problem.,Affects also 5.1.0.5.,,,,,,,,,,,,,,,,,,,,,,,
1671,,,,,,,,Integrated in ZooKeeper-trunk #271 (See http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/271/),,,,,,,,,,,,,,,,,,,,,,,,
60192,,,x,,,,,[branch_4x commit] Mark Robert Miller http://svn.apache.org/viewvc?view=revision&revision=1427873 SOLR-4254: Harden the 'leader requests replica to recover' code path.,,,,,,,,,,,,,,,,,,,,,,,,
25612,,,,,x,,,Sorry for the link 'block'; can't undo it... I wanted to add a 'clone' link.,,,,,,,,,,,,,,,,,,,,,,,,
51981,x,x,,,,,,Thanks for the sample app; I updated it for 5.0.15 and verified the problem; then tried the fix. Had to modify the mixins to return false from beforeRenderBody(); but then everything worked as expected (the Any component omitted its body).,,,,,,,,,,,,,,,,,,,,,,,,
3908,,,x,x,,,,I fixed this in the ActionTag a while ago...,,,,,,,,,,,,,,,,,,,,,,,,
20905,,,,x,,,,1.3.x is no longer maintained outside of security-related issues; please upgrade to 1.4.x,this is class we using for attaching dynamic js resources,,,,,,,,,,,,,,,,,,,,,,,
5713,,x,,,,,,Venu committed your patch for Xerces 2.6.0. Please verify.,,,,,,,,,,,,,,,,,,,,,,,,
7636,,,,x,,,,As far as I see tthis seems to be fixed in at least Version 2.6.0. Therefore this issue can be closed!,,,,,,,,,,,,,,,,,,,,,,,,
15084,,,x,,,,,Hellow; I have the same problem after i haved updated my libs. I'm developping a application based on struts 2.0.1 beta. It works just fine before i replace libs by 2.0.5. Original config of my application is from Struts 2 blank; so i've check all config files; and i find that web.xml in 2.0.5 doesn't have these lines : <listener> <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class> </listener> so; i've deleted these lines and my app works.,,,,,,,,,,,,,,,,,,,,,,,,
