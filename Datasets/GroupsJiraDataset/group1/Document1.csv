id,love,joy,surprise,anger,sadness,fear,notes,comment N,comment N-1,comment N-2,...,comment 2,comment1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
21977,,,,,,x,,How about my comment at the end? 'Also; I'm suspicious of the logic for handling parent markup containers in AutoLinkResolver. It uses 'if' instead of 'while.' What if the autolink was two levels up in the inheritance hierarchy? I think that it should walk the parent links until it finds a null; not just check the first one.',very same issue,WICKET-1634 is the same issue (including a patch); so this one can be closed; too,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
22097,,,,,,,,seems like all subtask as resolved,kitten captcha is intended for inclusion into Wicket; and is attached for ip-clearance.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
11834,,,,,,,,Still happens to me. Steps to duplicate: 1. Start IE5.5 on Win2k - open java console from the 'view' menu. 2. Download xalan-j_2_2_D11.tar.gz to server. 3. tar xzf xalan-j_2_2_D11.tar.gz (extract to location on a webserver - for me this was /home/httpd/html) 4. navigate to http://SERVER/xalan- j_2_2_D11/samples/AppletXMLtoHTML/appletXMLtoHTML.html,Should have been fixed in OutputProperties.java r1.14 on 21-May-01,I don't think you covered all of the offending calls to System.getProperty(). Specifically; you did not catch SecurityException in the org.apache.xalan.templates.OutputProperties.loadPropertiesFile() method.,Fixed a while back by cmanolache and curcuru in several checkins: we should be catching SecurityException anyplace we call System.getProperty with a potentially out-of-sandbox property.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
33264,,,,,,,,Assign to 1.0 during tidy up prior to 1.1,I think that this is now fixed. Individual top level composites are assembled separately; and resolution of cross composite references is left to the responsibility of the particular bindings. This new design; by not trying to establish in memory model pointers between independent composites; removes the issues that we were seeing before when we had these pointers in place. In other words; we do not need to update these pointers anymore when independent composites are added/removed/updated; because these pointers do not exist anymore :),Huang; I agree that we need to re-resolve existing components but I'm not sure that this needs to be done in a separate thread. What did you have in mind with threading? For now; I have added support for incremental building of an SCA domain; with the ability to build a domain; add a composite to it; rebuild the domain. The newly added components will be able to target component services already in place in the domain. If my proposal for incremental building (committed under revision 558740) suits everybody's requirements; we should be able to follow the same pattern to add support for: 1. invalidating components that are wired to component services being removed from a domain 2. handle composite updates by doing a remove + add 3. handle composite updates in a less disruptive way as long as the component services that they contribute do not change,åÊåÊåÊåÊHow about re-resolving the original and newly added components in a seperate thread; and replace all the old components when the resolvement is done. åÊåÊåÊåÊMy rough thought is: Clone all the components; and do the rewiring work in the cloned compnents; but keep all the implementationProvider/bindingProvider/scopeContainer refer to the same instance to keep their states unchanged.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
20803,,,,,,,,this will be tackled when we improve ajax; most likely in wicket.next or the version after that.,@Igor: Please read this bug comments too. It's already well established that generateCallbackScript completes the string. It's just nasty and uncontained. Consider the alternative I proposed.,generateCallbackScript() completes the fragment with the missing closing ),making changes to this can only be done in 1.5; because this results in api breaks. The thing is that getCallbackScript and generateCallbackScript could be really just 1 method.. Except i guess that some do use generate standalone But if you have a nice patch that would result in the same thing please attach it.,OK; so this string is an unmatched JS function invocation by design. That is just nasty. How about you convert it to something safe and correct like generateCallbackScript(String function; String... args) ? Then you'd do: {code} protected CharSequence getCallbackScript(boolean onlyTargetActivePage) { return generateCallbackScript('wicketAjaxGet'; getCallbackUrl(onlyTargetActivePage)); } {code} Immediately fixing the potentially broken inject-an-arbitrary-string-in-a-literally-quoted-value too.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
23837,,,,,,,,Closing since Whirr was updated to jclouds 1.5.0 in WHIRR-659.,Should this issue be closed? Whirr 0.8.0 was released with a dependency on 1.5.0-beta.10. I've created WHIRR-666; asking for an upgrade to jclouds 1.5.1; ideally in Whirr 0.8.1. Or is the intent to keep this sole issue open until there is a whirr stable release that depends on a final jclouds 1.5.x release?,1,tiny patch to bump to jclouds 1.5.0-beta.11 now that it's in Maven Central.,1.5.0-beta.10 in now Committed revision 1374393.,1,updated with spot price fix and tests,updated to fix paul's error,after applying this patch; please execute: svn rm --force ./core/src/main/java/org/apache/whirr/service/jclouds/TemplateBuilderStrategy.java ./core/src/test/java/org/apache/whirr/service/TemplateBuilderStrategyTest.java,replacement for previous patch,I'm recutting this patch. 10m,The following patch adds whirr.template parameter which can override all the other image; hardware; location; or login-user parameters Note; I also implemented it for the undocumented group-based parameters as templates.group.template,For use with the following test repo. Please report back to http://code.google.com/p/jclouds/issues/detail?id=1068 when done! <repository> <id>jclouds-staging</id> <url>https://oss.sonatype.org/content/repositories/orgjclouds-039</url> <releases> <enabled>true</enabled> </releases> <snapshots> <enabled>false</enabled> </snapshots> </repository>,bumped to jclouds 1.5.0-beta.9 Committed revision 1369253.,jclouds 1.5 isn't released; yet; so let's keep this open to track any updates based on betas; release candidates; etc,Marking this as fixed. Thanks guys!,tested with jclouds 1.5.0-beta.8 recently synced to maven central. committed WHIRR-593-mk5.patch as revision 1365445 Thanks; Andrei; Cosmin & Andrew for writing this. Thanks; Tom for checking!,This looks good to me. +1 pending beta-8.,New patch rolling out the noPassword() change and bumping the jclouds dependency to the as-yet-unreleased-but-coming-today 1.5.0-beta.8; which has the needed fix on the jclouds side.,can you try removing the .noPassword() and using jclouds 1.5.0-SNAPSHOT? I think the following commit should sort that: https://github.com/jclouds/jclouds/commit/9d007a40b726bb3de492a947d83b98ddced872a5 If that works; I can cut 1.5.0-beta.8 tomorrow.,Latest patch ( WHIRR-593-mk4.patch) incorporates everything so far. I switched to .noPassword() instead of .password(null); since that seemed more correct. I'm more wary on rackspace next-gen than I was earlier - it seems to still have some issues with launching/tearing down instances in some contexts; but I'm not sure if that's just my account or what. Otherwise; PhaseExecutionBarrierTest passes on cloudservers-us and aws-ec2. Hadoop and ZK tests pass on both as well.,And fyi; I'm able to run against rackspace-cloudservers-us just as well as against anything else; so we've got openstack support. =),Ah; and I'd already tried adding password(null) to ScriptBasedClusterAction. Seems like something is keeping a non-null password value there for cases where there was at some point a password - e.g.; cloudservers/cloudstack.,Hmmmm - I tried adding '.password(null)' to the LoginCredentials calls without it; in ClusterController; and that seems to have fixed the PhaseExecutionBarrierTest issues on cloudservers-us. Double-checking now.,I will try again later today and report back.,Hmm - I'm not actually seeing any test failures in services/hadoop or services/zookeeper against jclouds 1.5. Which specific tests are failing?,fwiw; it looked to me like Whirr was for some reason trying to use password authentication. It's claiming the rsa/sha1 fingerprints in jclouds-ssh.log; but the actual stacktrace refers to authPassword.,We need to find the root cause for those 'exhausted available authentication methods' on cloudservers-* before committing.,So what more do we need to do to get this in? The only problem I've still been seeing is that weird 'exhausted available authentication methods' one. Also; I see that Cosmin's patch (which for some reason I hadn't already applied) deals with FirewallManager's #(region) name; but not FirewallManagerTest - my patch did them both; but I'll just grab Cosmin's patch and add FirewallManagerTest to it.,Found an additional issue with security group naming - 1.5 doesn't append '#region' to EC2 security group names; so FirewallManager needed to be updated. This patch would go on top of the existing one.,fyi; I'm able to run hadoop and zk itests on CloudStack 3.0.3 (with a few tweaks I needed to deal with our CS setup being a bit strange).,Here's my jclouds ssh log for running PhaseExecutionBarrierTest on Rackspace in case someone finds it helpful. I see that it's ssh-ing in as root for the boostrap phase (that works fine); but for the configure phase it's ssh-ing in as my user (and fails). As I said before; it seems odd because I'm able to manually ssh as my user.,Here's a quick summary with some of the stuff I've been trying in the hopes that it might be useful for people: PhaseExecutionBarrierTest passes on AWS but no VM ever shows up in the AWS web console. I tried this in different regions and the result is the same. Here's the test output. Running this on rackspace produces 'Exhausted available authentication methods'. Here's the test output. Was able to tell it to use my ssh key from ~/.ssh as opposed to the random one but still no luck. Looking in the debugger; it seems like it's using the correct key. Also; I was able to ssh to the rackspace machine after the test failed so this kind of indicates that the key it was using was indeed correct even though it's complaining. Not having a catch clause here seems a bit worrying but testing showed that no exception was being thrown anyway.,not sure. I'll run jclouds regression test on cloudservers-us first and see if all ok,On cloudservers-us it fails with 'Exhausted available authentication methods'. Any ideas on what's different from jclouds 1.4.0?,Hadoop itests work fine aws-ec2. Still testing on cloudservers-us.,Reviewing now. I will try the Hadoop itests.,Here's a new version of the patch that fixes the failing ZooKeeper integration tests. This worked for me when testing against AWS. It's changing the naming convention used for some environment variables and removes the region name from the security group name.,I've just tried the itests from core - they fail on cloudservers-us but work file on aws-ec2.,And with 1.5; it's hanging. Hopefully it'll time out and tell me why it's hanging at some point. =),I just verified ZK working on trunk with 1.4; trying now with 1.5...,p.s. I used the following with zookeeper on version 0.7 today. Otherwise; it didn't work (ex. crash/burn) --image-id=us-west-1/ami-33fda576 --location-id=us-west-1,fwiw; I'm getting a failure in the Cassandra itests; but I'm getting that with 1.4 or 1.5.,Builds fine but I get a failure when running the ZooKeeper itests. I am investigating.,Please help test this patch! Note that jclouds 1.5 gives the following new providers and apis; so probably worth your while to help cloudstack (version 3.03) greenqloud-compute (carbon neutral service) joyentcloud (smartos) openstack-nova (essex),1.4.0 is not a stable release compared to 1.5. I'll help make a patch; especially as I have a demo in a couple days at uberconf!!,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
28338,,,,,,,,added fixVersion,reopened for fixVersion,This problem won't be fixed. First; the encoding is not yet linked to the engine nor to the launching. Second; UIMA-2256 will make this change redundant.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
15914,x,,,,x,,,Oppss... sorry late reply.... Thx for handling this issue Claus. I prefered it to be the way it is now; document this behaviour as Claus already did. I think there might be both behaviour have its particular usage; if we want to have a param that is a string; it makes sense to use <param>...</param>; anything in between that's enclosed with %{} will be evaluated and its toString() called. On the other hand; if we want an object; we could used the value attribute. I guess what i'm trying to say is that both way of using param have their own usage. Of course this is just my 2 cents,Updatede tag documentation. If we need to align the tag as a consistent behaviour for both situations we should reopen this and schedule it for a 2.3 or future version where we need to give 3rd party tag developers the change to validate their tags if we change it in WW.,Okay I have updated Param.java with a note section about the two situations outlined by Toby (1) and (2).,Rainer As I have little real life WW experience I can only voice as an outsider. I would expect the tags to work excatly the same way using both usages. It's just a preference how you write XML. If we have a migration guide we could write that this behavior is changed. As the 2.2.2 release is out of the door soon; we could keep as it is and write comments in the javadoc; wiki about this odd behavior. And for 2.3 we could fix it.,Toby; Claus; what are your suggestions on this? My expectation would be; that both usages behave similar or it should be clearly outlined in the docs (wiki AND javadocs) pointing out the difference... What do you think?,Hi Toby Yeah I agree that breaking old components is dangerous. And does the unit test really cover all these situations? WW code coverage is < 40%. Yes I would be nice the hear others opinions and if anyone had a real use-case with this situation. And I really think the two different situations should be documented in the javadoc for the .class and at wiki docs. For a user this could be a hard defect to track down.,Hi Claus; Currently they are not working in the same way actually. If we change them it might break some components.... but then we have our little test case to check against.... > And I guess % { ... } expression should always be evaluated. I think it is evaluated in both case; just that in once case it is evaluated to a String while the other to object. I am not sure if we should change the current behaviour... maybe we could post this in the forum and see what others think about it. What do you think?,@tm Should both situations 1+2 not work excatly the same way? Otherwise users will get confued; I for sure would. And I guess % { ... } expression should always be evaluated.,If not mistaken <param>someThing</param> ----- (1) <param value='anotherThing'/> ---- (2) In (1); it would be evaluated to the stack as String while in (2) it will be evaluated to the stack as object. I guess; if one needs it as string then (1) could be used; it is possible to have eg. <param>hello % {user.name} </param> where user.name will be evaluated to the stack and its string value appended. If it works this way; i don't think it is a bug.,Is this still an issue? I cannot find that code in ParamTag. I see something in that type into Param; but it looks oke to me. ./alex _x0089_ÛÒ .w( the_mindstorm )p.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
46878,,,,,,,,Bryan; I agree on the folder structure change. This surely will break existing code. For your other point; it isn't really necessary that's right but in my opinion it fits much better in the Rails 'convention over configuration' principle. FYI; we are using those changes successfully in all our thrift sub-projects (we are having 5 of them).,I don't disagree that generating the folder structure to match the namespace structure is a good idea; but that is a breaking change; so I wonder if that shouldn't be in it's own issue and patch instead of under this one. For what it's worth; we use Thrift objects in Rails too; but we just require them in environment.rb. Is it important for the autoloading to pick up Thrift objects?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
57398,,,,,,,,Marking as Resolved in 4.2.0 _x0089_ÛÒ I couldn't reproduce it even there. Will close once we create a regression test; or a full-blown test for the utility.,Disabled formatting to make stack trace more readable.,I can't reproduce this with gcc 4.1.2 on Linux. The following command completes successfully: $ cat >charmap<<EOF && cat >locale.src<<EOF && ../bin/localedef -c -w -f charmap -i locale.src dummy && LC_TIME=dummy ../bin/locale -ck LC_TIME CHARMAP END CHARMAP EOF LC_TIME day 'Sun';'Mon';'Tue' END LC_TIME EOF  ...with the following output: LC_TIME abday='';'';'';'';'';'';'' day='Sun';'Mon';'Tue';'';'';'';'' abmon='';'';'';'';'';'';'';'';'';'';'';'' mon='';'';'';'';'';'';'';'';'';'';'';'' am_pm='';'' d_t_fmt='' d_fmt='' t_fmt='' t_fmt_ampm='' era='' era_d_t_fmt='' era_d_fmt='' era_t_fmt='' alt_digits='' END LC_TIME,Lowered Priority to Trivial (the error occurs on ill-formed input) and deferred until after 4.2.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
33963,,,,,,,,Assign to 1.0 during tidy up prior to 1.1,Fixed,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
23357,,,,,,,,It is just resolved in 2.0 and the changes for 1.x have been committed at the same moment. The dot: you'll find that the xml parser is not a general purpose xml parser complying to all details of xml. It doesn't have to. It just implements what is sufficient for Wicket. If only if there is a real need to implement an additional detail; than we'll do it. The dot; though in the spec; is nowhere used. So why bother and implement,Juergen; why do you close the issue so quickly? It's not applied to branch 1.x; and its' not even fixed properly in trunk. Did you see that I attached a patch and that I assigned this issue to myself? There is not only the hyphen; there is also the dot that is missing. And naming it VARIABLE_NAME2 is very dubious.,XML_NAME must not contain the colon,Updated patch; NCNameChar does not have the ':' sign See http://www.w3.org/TR/REC-xml-names/#NT-QName,Fixed in 2.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
18736,,,,,,,,You miss some logic: var e = Wicket.$(id); available++; if (e === null) { i.e. if there is an entry for a date picker in the DOM but there is no HTML element for it then the DOM entry is deleted too.,If I understand the patch correctly; you destroy all calendar instances at the end of any ajax activity on the page? E.g. when I have two calendars and select date in one of them; the other one will not even open when clicked?,Martin; I have thought of something like this. åÊåÊåÊåÊåÊvar destroyInternal = function (toDestroy) { if (toDestroy && toDestroy.length > 1) { var i = 0; while (toDestroy.length > 0) { var name = toDestroy.pop(); try { if (YAHOO.wicket[name]) { // this is expensive. YAHOO.wicket[name].destroy(); delete YAHOO.wicket[name]; } } catch (e) { if (Wicket.Log) { Wicket.Log.error(e); } } i++; if (i === 20) { break; } } if(toDestroy.length > 0) { setTimeout(function(){destroyInternal(toDestroy);}; 500); } } }; So move the åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊif(toDestroy.length > 0) { setTimeout(function(){destroyInternal(toDestroy);}; 500); } out of the cycle. The 500 above is because YAHOO.wicket[name].destroy(); seems to be very expensive and if done 'in one go' browser might 'freeze'. Do you know a better way to prevents that? The if (Wicket.DateTime.isDestroying) was a leftover of trying to make this script 'single instance at a time'.,The JSLint warning is solved.,I've pushed an improved version of your patch. Please test that I didn't break it. I've made the functions private. Is there a reason they should be reachable from other scripts ? Additionally I see : if (Wicket.DateTime.isDestroying) { There is no property Wicket.DateTime.isDestroying defined. I guess it should be set in #destroy() and unset in #internalDestroy() ? And grunt reports one jslint warning: Linting wicket-datetime/src/main/java/org/apache/wicket/extensions/yui/calendar/wicket-date.js...ERROR [L349:C71] Don't make functions within a loop. åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊsetTimeout(function(){destroyInternal(toDestroy);}; 5); Do you see a way to avoid it ?,"'""JavaScript only' patch""",No; we haven't measured 1.5 vs. 6.x. I've used jsperf.com to decide what jQuery solution to use for some particular need in 6.x.,Martin; Yes you are right... that would be a much cleaner solution. So register an '/ajax/call/complete' listener that calls Wicket.DateTime.destroy(). I derived this solution form a private extension of DatePicker (for 1.4.x) that does more things: e.g. collect all all info of all date pickers to be added (in an AJAX request cycle) and issue a single eval to build all of them... which is far more efficient than many evaluations (at least on 1.4.x). So; it was just a matter of adding the additional 'cleaner code' to listener. I will add a new patch with suggested solution. By the way. On the sample projects attached AJAX repainting of the whole table for 6.x takes less than 1 second (steadily; even without the clean up fix) while for 1.5.x it takes t > 7 with t growing with each table navigation. Do you have measured how much faster is AJAX on wicket 6.x than on previous versions (on average)? Cheers. Ernesto,Isn't is better to use a global listener that triggers on '/ajax/call/complete' and checks for existence for the date picker DOM element and if not - removes all JS objects related to it ? Something like https://github.com/apache/wicket/blob/master/wicket-core/src/main/java/org/apache/wicket/ajax/res/js/wicket-ajax-jquery.js#L2495 I find it much simpler.,patch for 6.0.x,quickstart for 1.5.x,quickstart for 6.x,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
45651,,,,,,,,Integrated in Thrift #533 (See https://builds.apache.org/job/Thrift/533/) Thrift-1701:node.js TBufferedTransport buffer corruption Patch: Marshall Roch fix buffer copy method calls (Revision 1389517) Result = SUCCESS,I think you have a good point and I'm committing it but it unfortunately doesn't fix the TBufferedTransport. e.g. thrift/test/nodejs$ timeout 2 make server & sleep 1; make client only runs one or two tests before stopping/crashing when using TBufferedTransport.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
24937,,,,,,,,Committed in rev 983396,I forgot to comment on the way chat initiation works. To chat with a contact from the web application; you have to left click with the mouse on the contact in the roster dialog and then a chat tab opens allowing bidirectional chat with the contact. If the contact starts a chat with you; and you don't have a chat tab opened; then the chat tab will automatically open allowing for chatting with the contact.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
74448,,,,,,,,Closing this one since it doesn't fit in with the current caja integration anymore.,Marking unassigned to indicate that nobody is actively working on this issue. Anyone interested in helping the project should should consider working on this issue.,To add a little more detail; I believe Casie is saying that the gadgets.* <--> Caja bindings are not yet implemented; while the opensocial.* <--> Caja bindings are implemented.,The issue isn't as simple as just requiring the caja library right now. Work needs to be done to 'allow' the gadgets api calls in caja. I can work on this soon as it will require some integration with the opensocial caja modifications. (Although; some one can feel free to add a patch if you know what to do!),Anything we can do to minimize the work needed by a developer to support Caja is a very good thing. Furthermore as Caja improves; we'll be able to Cajole more and more gadgets without developer modifications. If that Gadget can become Cajoled without the author having to work on it; that would be great. What concerns me is that many of the Caja failures are likely to be at run time instead of compile time. So should a gadget author have the ability to ask for their gadget not to be Cajoled incase they know it doesn't work? If don't give that option; we may need to monitor Caja runtime failures and fall back to the iFrame for certain gadgets.,This isn't the case. Passing &caja=1 will cajole the gadget. opensocial-samplecontainer does some black magic to make it appear to work and do the right thing; but what it's really doing is not how it should work in prod. The remaining outstanding issue with cajoling right now is that passing &caja=1 does the cajoling process; but it does not pull in the necessary javascript libraries. To do that we must either make caja a core js library or force a <Require feature='caja'>. The latter is easier; but I'm not sure it's the way that we ultimately want things to work. For testing purposes you can manually add <Require feature='caja'/> to the gadget and modify the iframe url to add &caja=1. I'll modify the title of this to better address the core of the problem.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
5711,,,,,,,,Venu committed your patch. It's in Xerces 2.6.0. Please verify.,Created an attachment (id=9177) Test program to show the problem of acceptNode getting called twice,Created an attachment (id=9176) Patch for bug which causes acceptNode to call twice when filter is set to LSParser,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
611,,,,x,,,,Bug Flavio more? Seriously; discuss with Flavio and come up with a patch & test that is deterministic. Another option would be to refactor to allow the code in question to be tested as a true unit test; rather than as a system test (we need to work on that in general in ZK). Mockito?,Thanks for taking a look at it Pat. As mentioned in my earlier comments I failed to write a test which passes consistently. Following are the patches already attached. ZOOKEEPER-1137.patch - Patch without testcase - Ready to commit - Verified manually ZOOKEEPER-1137.WithTest.patch - Patch with testcase - Test is failing intermittently Any suggestions?,What's the status on this? I think we should just have one version of the patch - which includes a test of the change. Can you update appropriately? thanks.,-1 overall. Here are the results of testing the latest attachment http://issues.apache.org/jira/secure/attachment/12490410/ZOOKEEPER-1137.patch against trunk revision 1185994. +1 @author. The patch does not contain any @author tags. -1 tests included. The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. +1 javadoc. The javadoc tool did not generate any warning messages. +1 javac. The applied patch does not increase the total number of javac compiler warnings. +1 findbugs. The patch does not introduce any new Findbugs (version 1.3.9) warnings. +1 release audit. The applied patch does not increase the total number of release audit warnings. +1 core tests. The patch passed core unit tests. +1 contrib tests. The patch passed contrib unit tests. Test results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/632//testReport/ Findbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/632//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html Console output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/632//console This message is automatically generated.,-1 overall. Here are the results of testing the latest attachment http://issues.apache.org/jira/secure/attachment/12490410/ZOOKEEPER-1137.patch against trunk revision 1172406. +1 @author. The patch does not contain any @author tags. -1 tests included. The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. +1 javadoc. The javadoc tool did not generate any warning messages. +1 javac. The applied patch does not increase the total number of javac compiler warnings. +1 findbugs. The patch does not introduce any new Findbugs (version 1.3.9) warnings. +1 release audit. The applied patch does not increase the total number of release audit warnings. +1 core tests. The patch passed core unit tests. +1 contrib tests. The patch passed contrib unit tests. Test results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/576//testReport/ Findbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/576//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html Console output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/576//console This message is automatically generated.,-1 overall. Here are the results of testing the latest attachment http://issues.apache.org/jira/secure/attachment/12490410/ZOOKEEPER-1137.patch against trunk revision 1157698. +1 @author. The patch does not contain any @author tags. -1 tests included. The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. +1 javadoc. The javadoc tool did not generate any warning messages. +1 javac. The applied patch does not increase the total number of javac compiler warnings. +1 findbugs. The patch does not introduce any new Findbugs (version 1.3.9) warnings. +1 release audit. The applied patch does not increase the total number of release audit warnings. +1 core tests. The patch passed core unit tests. +1 contrib tests. The patch passed contrib unit tests. Test results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/458//testReport/ Findbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/458//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html Console output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/458//console This message is automatically generated.,uploading patch again to get tested by qa bot.,Flavio; attached the patch including the test for AuthFLE. This test is intermittently failing in my env. Please review and let me know if you have any suggestions. Check if we can proceed with committing the changes without test if we are not able to find out the actual problem. As I already mentioned; patch has been tested manually.,Hi Flavio; quorum always fails to start if we configure different election ports. Also; I already tried to adapt FLE Test to use Auth FLE but its failing randomly [May be due to UDP]. That was the reason for not adding a test. Patch has been verified manually by configuring different ports. Quorum started with no issues after fix. I will upload the patch including test case I've added. Please review and let me know what I'm missing. So that I can correct it.,On a second thought about it; if we get an NPE when using different ports; then perhaps we could adapt the FLE test to use AuthFLE and then be able to reproduce the problem?,The modification is minor; and I'm ok with committing it without a test. Does anyone else have an opinion? I was actually suggesting a general test for AuthFLE. We have no test exercising AuthFLE currently. If you have one; it would be great.,@Flavio : I failed to write a reliably passing test for this as this depends on UDP. Manually verified the patch. This causes no test failures.,Sure; go ahead and upload a patch. Having a test for AuthFLE would also be useful.,Thanks for the info Flavio. I really don't have a specific use case. We found this problem while exploring different features. I've a patch to fix this problem as I mentioned in earlier comments and currently verifying the same. Even if this is going to be deprecated we can't have a NPE. no? Please let me know if I can upload the patch.,Hi Laxman; We haven't been maintaining the AuthFLE implementation; and we have been talking about deprecating it for a long time. Do you have any particular reason why you'd like to fix it; like a use case; or you're simply exploring?,Following piece of code in AuthFLE class looks to be problematic.              for (QuorumServer server : self.getVotingView().values()) {                 InetSocketAddress saddr = new InetSocketAddress(server.addr                         .getAddress(); port);                 addrChallengeMap.put(saddr; new ConcurrentHashMap<Long; Long>());             }  We are populating the addrChallengeMap with same port all the times. Ideally; this should be              for (QuorumServer server : self.getVotingView().values()) {                 addrChallengeMap.put(server.electionAddr; new ConcurrentHashMap<Long; Long>());             }  Any other thoughts?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
64316,,,,,,,,This bug was modified as part of a bulk update using the criteria... Marked ('Resolved' or 'Closed') and 'Fixed' Had no 'Fix Version' versions Was listed in the CHANGES.txt for 1.2 The Fix Version for all 39 issues found was set to 1.2; email notification was suppressed to prevent excessive email. For a list of all the issues modified; search jira comments for this (hopefully) unique string: 20080415hossman2,committed.,tested on an AMD opteron; 64 bit mode; Java5 -server -Xbatch and exists() was 8.5% faster; intersectionSize() was 7% faster. I didn't bother testing union(); andNot(); as they are obviously going to be much faster.,The performance tests are commented out in the TestDocSet test... I had other changes in my tree related to negative queries and only selected the two source files for diffs. I had quickly tested Java5 to make sure it was still faster in all instances; and it was. Numbers were about the same; some speedups larger and some smaller than Java6.,quick questions... 1) what test did you run to get those numbers? ... even if we don't commit it; we should attach it to this Jira issue 2) we should probably test at least the Sun 1.5 JVM as well right?,Performance results: HashDocSet.exists() is 13% faster HashDocSet.intersectionSize() is thus 9% faster HashDocSet.union() is 20 times faster HashDocSet.andNot() is 27 times faster Tested with Sun JDK6 -server on a P4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
67301,x,,,,,,,Very nice; thank you! Your pom works perfectly... I didn't think of adding the version tag there and ended up exporting * and then later add !org.w3c.dom and !javax.xml to prevent errors...,Sending xmlbeans-2.4.0/pom.xml Transmitting file data . Committed revision 756765.,i reformatted the manifest and the package in question is in fact exported... which only confuses me more...,Thanks for the hint; the pom from the link I posted didn't quite work; yours works out of the box... I've added the extra export and now I somehow get less far than before. Before; I got an exception while some of my code was executed; now I'm stuck in the osgi wiring process: ---------- DEBUG: WIRE: 66.0 -> schemaorg_apache_xmlbeans.namespace.http_3A_2F_2Fwww_2Ebea_2Ecom_2F2003_2F05_2Fxmlbean_2Fltgfmt -> 66.0 DEBUG: WIRE: 66.0 -> schemaorg_apache_xmlbeans.javaname.org.apache.xmlbeans.impl.xb.xmlconfig.Extensionconfig -> 66.0 DEBUG: WIRE: 66.0 -> schemaorg_apache_xmlbeans.javaname.org.apache.xmlbeans.impl.xb.xsdschema.NarrowMaxMin -> 66.0 DEBUG: WIRE: 66.0 -> org.apache.xmlbeans.impl.xb.ltgfmt -> 66.0 DEBUG: WIRE: 66.0 -> schemaorg_apache_xmlbeans.element.URI_SHA_1_0072531D5C2BA64B5A3672B694CDAA153CD30788 -> 66.0 ERROR BundleException: Unresolved constraint in bundle 67: package; (&(package=org.apache.xmlbeans.impl.xb.xsdschema)(version>=2.4.0)) ---------- In my own bundle; I imported that package explicitly because it wouldn't build otherwise. Now when I check the enriched jar file; that package is exported numerous times and yet I get an error... Ok I just went trough the manifest and looked a bit harder. It seems most if not all Export statements look something like this: ---------- org.apache.xmlbeans.impl.inst2xsd.util;uses:='org.apache.xmlbeans.impl.values;org.apache.xmlbeans.impl.xb.xsdschema;org.apache.xmlbeans;org.apache.xmlbeans.impl.common;javax.xml.namespace' ---------- So xsdschema is only referenced in uses but never exported itself. How is that possible? The config in the pom should clearly export that package too: ---------- <servicemix.osgi.export.pkg> !repackage; org.apache.xmlbeans*; schemaorg_apache_xmlbeans* </servicemix.osgi.export.pkg> ---------- The import in my app would be this: ---------- <ws-gateway.osgi.import.package> ... org.apache.xmlbeans;version='$ {xmlbeans-version}'; org.apache.xmlbeans.impl.xb.xsdschema;version='${xmlbeans-version} '; ... </ws-gateway.osgi.import.package> ---------- Without the second import; I get a build error... I hoped I could just add that package and be done but apparently there's more to that... Since I'm not an osgi expert I have no clue why this happens... I'm open for suggestions on what to try next... thanks...,The maven project for this bundle is available at https://svn.apache.org/repos/asf/servicemix/smx4/bundles/trunk/xmlbeans-2.4.0/ Feel free to create a patch or ask for more informations if you need.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
5784,,,,,,,,This bug is 3 years old. Anybody looking to fix it?,*** This bug has been marked as a duplicate of 14217 ***,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
16633,,,,,,,,This was fixed by having all the items in the action chain having their properties copied over to the new action.,thinking about this more; the value stack would need to know about the chain so that if the chain we to end on a rollback and display edit.jsp; we'd still want to be able to pull stuff originally inputed.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
36623,x,,,,,,,Reviewed and tested. Looks good so far; so I am closing this issue.,I've tested it out Ubuntu 9.04 64bit and so far no issues.,I committed the patches last night (v5 and cluster). John; Did you want to give it a once over and close out the bug? Leif and I tested it out on every available Linux distro we had installed (fedora 11 32bit and 64bit; rhel 4 and 5 32bit) There might have been an Ubuntu in there too; but I don't remember now...,Yeah; that was another way I was thinking it would work. Worked well with RHEL4 32bit and fc11 64bit with and without -m32.,Bryan; could you check out this patch; it avoids the #ifdef.,I was still getting the problem: ../../../external-apache/iocore/cluster/ClusterCache.cc:1794: warning: cast from pointer to integer of different size Attached is a patch to fix this issue. It now compiles and runs under rhel4 32bit.,Oh; and I restored -g for release.,newest patch with pentium->i586 + all the old patches + restoring old 32-bit atomics,The old 32-bit atomic code should probably be used for the atomics for gcc3. These is stored in the file: ink_atomic_solaris_i86pc.s which should probably be renamed. I am testing a patch to restore these and will have a new rollup out shortly.,This allows building 32 bits with patch #4 applied. It uses full memory barrier for 64 bit atomic operations but cas64 is a hack,Errors I got from gmake -k when trying to compile on RHEL4 32bit: [yts_dev bcall@armybright release]$ uname -a Linux armybright.corp.yahoo.com 2.6.9-78.EL #1 Wed Jul 9 15:27:01 EDT 2008 i386 [yts_dev bcall@armybright release]$ gcc --version gcc (GCC) 3.4.6 20060404 (Red Hat 3.4.6-10) Copyright (C) 2006 Free Software Foundation; Inc. This is free software; see the source for copying conditions. There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. [yts_dev bcall@armybright release]$ cat /etc/redhat-release Red Hat Enterprise Linux AS release 4 (Nahant Update 7),v4 worked fine on my 32-bit box; but a few comments: 1) Can we restore the -g for the release build? -ggdb3 is extremely verbose; making all the binaries 3x as large. 2) If we're no incorporating the patches I did for -march= detection; I think we need to do what Andrew suggested; and change the order in configure.ac; e.g. CCFLAGS='-march=pentium $CCFLAGS' CXXFLAGS='-march=pentium $CXXFLAGS' 3) Finally; I did a test with -march=i486 with the v4 patch; and it does not work. So -march=pentium is a minimum. I think we should change this to -march=i586 though; it's more in-line with the naming conventions used by the distros. I'm doing a second review of the actual code changes too; hopefully we can land this soon.,To make tracking of the patchset easier I have a git server: git://jplevyak.homeip.net/trafficserver If you add this as an additional remote you can keep in sync with both the x86_64 patchset and the current trunk (if I fall behind) using git-merge. I will try not to let it fall too far behind the trunk.,includes all patches up to through 0001-Properly-search-usr-lib64-for-tclConfig.sh.patch also sync'd with mainline,Andrew; Leif's patch deals with this by not adding the -march=pentium if there is already an -march supplied. john,John; For the 'ts-64bit-v3.patch': adjust the $CFLAGS and $CXXFLAGS in your 'ac_cv_sizeof_int_p' test block so that the flags are appended to the string instead of prefixing the string. In this way; you will then be able to let the package builder override the architecture values like so: ./configure CFLAGS=-march=core2 CXXFLAGS=-march=core2 The g++ commands will come out a little redundant: g++ -DPACKAGE_NAME=... -march=pentium -march=core2 ... But g++ will honor the last param passed of the same type so core2 ends up taking effect over i386. Cheers; Andrew,0001-Properly-search-usr-lib64-for-tclConfig.sh.patch looks good to me. No conflicts with Tcl license to make that change; either. In case you were concerned. Cheers; Andrew,On a 'clean' 64-bit box; without 32-bit packages; our m4/tcl.m4 script can not locate tclConfig.sh. Attaching a proposed patch; which will search /usr/lib64 as well. This patch + v3 compiles fine on my box (with the exception that the v3 patch is no longer in sync with the trunk).,reviewed patch 0003- TS-13-Add-support-to-only-add-march-pentium-if-CFLAG.patch and the patch looks good. sr=bcall,Applying the ts-64bit-v3.patch allows 64-bit compilation. Confirmed on Fedora 11/x86_64,Attached is a patch that provides: 1) --with-architecture=<arch>; which can be used to explicitly set the architecture for -march with configure 2) Make sure that CFLAGS and CXXFLAGS don't append a -march=pentium if there already is a value for -march= in there. #1 provides a convenience feature; and #2 should make this more compatible with typical usage of configure (as above).,One option would be to have a --with-architecture or some such as a switch in configure. E.g. AC_ARG_WITH(architecture; [AC_HELP_STRING([--with-architecture=<arch>]; [explicitly specify the architecture to use with various compilers])]; ac_architecture=$withval) (not sure the above works; but something like that). And then use $ac_architecture if specified with the gcc compiler switches; and if not; default to some other 'heuristics' like we did before (we'll want to support other -march= values for other platforms later on I'm sure). This would allow me to configure TS with something like --with-architecture=core2 and be all set . Thoughts?,This might fix the HostDB problem. The HostDBInfo struct wasn't padded to a multiple of 8 bytes. diff --git a/iocore/hostdb/I_HostDBProcessor.h b/iocore/hostdb/I_HostDBProcessor.h index e1b0c36..75754d0 100644 _x0089_ÛÓ a/iocore/hostdb/I_HostDBProcessor.h +++ b/iocore/hostdb/I_HostDBProcessor.h @@ -242;6 +242;7 @@ struct HostDBInfo unsigned int ip; int hostname_offset; // int srv_host_offset; + inku64 dummy_pad; } data; unsigned int srv_weight:16; Since I haven't seen the problem I haven't tested it. If soneone who has seen it could test or tell me how that would be great.,> > -march=core2 -march=pentium Humm... good point. The original configure.ac just put -march=pentium in every time. It also hard coded the gnu c++ location to be /usr/bin/g++. I have an updated version of gcc in /usr/local/bin that is ahead in my PATH which I think it should take so I changed this to be just g++. Similarly; we should probably check to see if an march is already specified and only if it is not add -march=pentium for 32-bit builds (as this is the minium required to get the atomics to work). That requires a substring search of CFLAGS which strains my autoconf/bash abilities. Any suggestions would be welcome. > As for the hostdb's etc; we added some stuff to make versioning of these things actually work (so; it'll self-destruct if it's an old version). Maybe also add something here for 64-bit vs 32-bit in the header. > I'm looking into this to see if I can just make them compatible. If not; then a flag in the header.,I meant to say; in my example case; the compiler gets invoked with -march=core2 -march=pentium which one takes precedence here ? I'm assuming -march=pentium is the 'minimum' architecture to get the appropriate builtins?,hmmm; so; this latest patch does work on i386; but... What if I wanted to compile with -march=core2 for example? Is that going to work too ? E.g. I'd do maybe CXXFLAGS='-march=core2' ./confgure As for the hostdb's etc; we added some stuff to make versioning of these things actually work (so; it'll self-destruct if it's an old version). Maybe also add something here for 64-bit vs 32-bit in the header?,The only db file I remember is the 'host.db' file.,fixed 32-bit compiles,the problem with __syn_bool_XX is that those instructions are not supported on i386 and the x86_64 build didn't like -mpentium. A solution is to add: +AC_CHECK_SIZEOF(int *) # test for 64-bit pointers; this permits CFLAGS=-m32 for 32-bit compiles on 64-bit systems +if test '$ {ac_cv_sizeof_int_p} ' = '4'; then + CFLAGS='$CFLAGS -march=pentium' + CXXFLAGS='$CXXFLAGS -march=pentium' +else + CFLAGS='$CFLAGS' + CXXFLAGS='$CXXFLAGS' +fi to configure.ac The advantage of this is that it permits 32 bit compiles on native 64-bit systems by just doing configure CFLAGS=-m32 CXXFLAGS=-m32 v3 of the patch has this change and the corrected LIBTCL change. I am still looking at librecord... which db was it that had to be deleted? I don't remember this code; must have been after my time.,There is a problem with this patch on i386 (32-bit) platforms. When we use things like ink_atomic_cas64(long*; long; long);; gcc can't generate the atomic; and instead generates a symbol like __sync_bool_compare_and_swap_8 This causes the link phase to fail (obviously); since the symbol is undefined. Not sure what options we have; but possibly we'll have to #ifdef around the (new) code that now uses long (i.e. ink64) and the 64-bit versions of the atomic operations. Also; I'm not sure what is more portable; but we already have code like #include <limits.h> #if ( __WORDSIZE == 64 ) ... #endif No matter what; I think we should standardize on one way to detect 64-bit; maybe in one of our include files we create another define; e.g. #include <limits.h> #if ( __WORDSIZE == 64 ) #define INK_64BIT_PLATFORM 1 #endif or some such (and use that new define consistently throughout the code). Thoughts? _x0089_ÛÒ Leif,Patch that fixes a hard coded -ltcl in our Makefile.am. Breaks when trying to do a 64bit build on Fedora 11 core 64bit.,I am testing out the patch. I have only one minor fix to the patch where one of our Makefile.am files hard codes -ltcl instead of using $(LIBTCL). This broke the build on Fedora 11 core 64-bit. There looks to be an incompatibility with the librecords files and I got a core when trying to read the '32-bit' librecords files. I removed the old db files and let the 64-bit code recreate them. We might want to look into this more or just tell people that the 32-bit and 64-bit files are incompatible. I still need to test building the code as 32-bit and see if that didn't break.,Fixed issue with ink_queue. The freelists requires specialized code for each architecture to insert the version into the head pointer in unused bits. This code now runs under high load for extended periods of time in forward proxy mode with optimization turned on.,The comment is wrong as the Itanium has a relaxed consistency model. It should be x86 x86_64 Sparc.,I left in the old code which will work for 32-bit machines using gcc 3.x; so the only folks who will be out will be those who for some reason are running 64-bit but don't want to update their compiler. I did break the makefile for the other platforms as I removed the .s file since I am not an automake guru. Perhaps someone could tell me how to include that conditionally? (i.e. on _i386_ platforms)? The new c++0x standard will have atomic operations built in; and when that comes out we should use that. In the meantime; the GCC ones are also supported by Intel which covers another major compiler. The HP effort is a good idea for other platforms; as I have used it before and it is of good quality. Personally; I would just use the code below which is small; and passed the test_atomic regression until the c++0x or someone wants another platform/compiler in which case I would go with the HP code. Also; I am assuming sequential(esque) consistency which is true for i386; x86_64 and Sparc; but should be conditioned for on other architectures like Power. #if defined(_GNUC) && (GNUC_ >= 4) && (_GNUC_MINOR_ >= 1) // see http://gcc.gnu.org/onlinedocs/gcc-4.1.2/gcc/Atomic-Builtins.html static inline ink32 ink_atomic_swap(pvink32 mem; ink32 value) { return __sync_lock_test_and_set(mem; value); } static inline ink64 ink_atomic_swap64(pvink64 mem; ink64 value) { return __sync_lock_test_and_set(mem; value); } static inline void *ink_atomic_swap_ptr(void *mem; void *value) { return __sync_lock_test_and_set((void**)mem; value); } static inline int ink_atomic_cas(pvink32 mem; int old; int new_value) { return __sync_bool_compare_and_swap(mem; old; new_value); } static inline int ink_atomic_cas_ptr(pvvoidp mem; void* old; void* new_value) { return __sync_bool_compare_and_swap(mem; old; new_value); } static inline int ink_atomic_increment(pvink32 mem; int value) { return __sync_fetch_and_add(mem; value); } static inline int ink_atomic_increment64(pvink64 mem; ink64 value) { return __sync_fetch_and_add(mem; value); } static inline void *ink_atomic_increment_ptr(pvvoidp mem; intptr_t value) { return __sync_fetch_and_add((void**)mem; value); } static inline int ink_atomic_cas64(pvink64 mem; ink64 old; ink64 new_value) { return __sync_bool_compare_and_swap(mem; old; new_value); } // not used for Intel Processors which have sequential(esque) consistency #define INK_WRITE_MEMORY_BARRIER #define INK_MEMORY_BARRIER #else ... the old code ...,Discussing with John for portability there is the HP research 'atomic_ops' project http://www.hpl.hp.com/research/linux/atomic_ops/ I haven't looked at it thoroughly but it supports quite a few platforms (X86; Itanium; Alpha; PA-RISC; PowerPC; and SPARC) and OSs (Linux; Microsoft Windows; HP/UX; Solaris; and MACOSX). They do indicate some ports are more complete than others. The license is mixture of MIT-style for code linked in with the client with some GPL stuff pulled into a separate library.,Paul Querna had also started porting atomics to use the gcc builtins; and we should compare those two. One issue is that we need to support gcc compiler versions which do not support this. In particular; RHEL4 still uses gcc 3.x; and we unfortunately have to support this for the time being at least. Paul had suggested incorporating some stuff from APR; and use the builtins when possible; and APR otherwise. We should coordinate these two efforts.,This is an initial cut at a 64-bit linux port. It runs; good enough; to surf through and the debug build did 1300 ops/sec against 2 cooked linux disks /dev/sdb;/dev/sdd for a couple minutes. I am looking for a committer to help with code review; tracking down things I might have missed and to discuss the approach to atomics. I am using the gnuc builtin atomics __sync_XXXXX which gives portability to all GCC-based ports without requiring the assembly language that was used before.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
31064,,,,,,,,Closing resolved issues,Resolved along the lines described in the description in 941719 - required the fixing of a couple of testcases in addition to the mainline code; since the initialization sequence is changed to require a Registry object to be supplied; used when creating the ContextClassLoader....,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
49357,,,,,,,,patches applied,Modified text raw='yes' to raw='true',I've got a master bug entry set up for such errors: TAPESTRY-387 So; if you run across anything else; it's probably best to attach it there than to open up a JIRA issue for every such error.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
20258,,,,,,,,By the way; from my point of view 'Resolution: Fixed Fix Version/s:1.4.16' is much more suitable here than 'Resolution: Cannot Reproduce',Fixed already.,Ok. This is good. I'll see what's the problem with the collaplse/expand link with WICKET-3449.,Martin; you are right. This issue can't be reproduced for 1.4 and 1.5 snapshots. Only for 1.4.15,I think you use older version of Wicket somehow. Both tickets work OK with latest snapshots of 1.4 and 1.5,it sounds strange; that you can't reproduce the bug I checked it in different computers and the result was everywhere the same. There are no any tricks with reproducing; just press the button.,after pressing the button,before pressing the button,I cannot reproduce the problem. Clicking on 'Submit Query' button adds a new leaf node and the tree is still there. Please add more details how to reproduce it.,QuickStart project,Attach quickstart please.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
9485,,,,,,,,This appears to be a duplicate of XALANJ-2301. That bug report contains a one-line patch (supplied inline in the text of the bug report).,Stack: 8790 [main] FATAL org.apache.forrest.dispatcher.TestStructurer (LoggingErrorListener.java:57) - java.lang.NullPointerException javax.xml.transform.TransformerException: java.lang.NullPointerException åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.processor.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:952) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.processor.TransformerFactoryImpl.newTransformer(TransformerFactoryImpl.java:776) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.helper.XSLContractHelper.prepareTransformation(XSLContractHelper.java:75) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XSLContract.execute(XSLContract.java:67) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XSLContract.execute(XSLContract.java:1) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XMLStructurer.processContract(XMLStructurer.java:242) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XMLStructurer.processStructure(XMLStructurer.java:139) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XMLStructurer.execute(XMLStructurer.java:90) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.TestStructurer.testStructurer(TestStructurer.java:15) åÊåÊåÊåÊåÊåÊåÊåÊat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) åÊåÊåÊåÊåÊåÊåÊåÊat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) åÊåÊåÊåÊåÊåÊåÊåÊat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) åÊåÊåÊåÊåÊåÊåÊåÊat java.lang.reflect.Method.invoke(Method.java:585) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestCase.runTest(TestCase.java:168) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestCase.runBare(TestCase.java:134) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestResult$1.protect(TestResult.java:110) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestResult.runProtected(TestResult.java:128) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestResult.run(TestResult.java:113) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestCase.run(TestCase.java:124) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestSuite.runTest(TestSuite.java:232) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestSuite.run(TestSuite.java:227) åÊåÊåÊåÊåÊåÊåÊåÊat org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:45) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:460) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196) Caused by: java.lang.NullPointerException åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemTemplateElement.getStylesheetRoot(ElemTemplateElement.java:174) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemTemplateElement.resolvePrefixTables(ElemTemplateElement.java:1040) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemTemplateElement.compose(ElemTemplateElement.java:193) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemSort.compose(ElemSort.java:335) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemForEach.compose(ElemForEach.java:138) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemCallTemplate.compose(ElemCallTemplate.java:115) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemApplyTemplates.compose(ElemApplyTemplates.java:129) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.StylesheetRoot.composeTemplates(StylesheetRoot.java:361) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.StylesheetRoot.composeTemplates(StylesheetRoot.java:366) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.StylesheetRoot.composeTemplates(StylesheetRoot.java:366) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.StylesheetRoot.recompose(StylesheetRoot.java:341) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.processor.StylesheetHandler.endDocument(StylesheetHandler.java:471) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.AbstractSAXParser.endDocument(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLDocumentScannerImpl $TrailingMiscDispatcher.dispatch(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.XMLParser.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.processor.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:922) åÊåÊåÊåÊåÊåÊåÊåÊ... 27 more --------- java.lang.NullPointerException åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemTemplateElement.getStylesheetRoot(ElemTemplateElement.java:174) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemTemplateElement.resolvePrefixTables(ElemTemplateElement.java:1040) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemTemplateElement.compose(ElemTemplateElement.java:193) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemSort.compose(ElemSort.java:335) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemForEach.compose(ElemForEach.java:138) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemCallTemplate.compose(ElemCallTemplate.java:115) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemApplyTemplates.compose(ElemApplyTemplates.java:129) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.StylesheetRoot.composeTemplates(StylesheetRoot.java:361) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.StylesheetRoot.composeTemplates(StylesheetRoot.java:366) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.StylesheetRoot.composeTemplates(StylesheetRoot.java:366) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.StylesheetRoot.recompose(StylesheetRoot.java:341) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.processor.StylesheetHandler.endDocument(StylesheetHandler.java:471) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.AbstractSAXParser.endDocument(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLDocumentScannerImpl $TrailingMiscDispatcher.dispatch(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.XMLParser.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.processor.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:922) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.processor.TransformerFactoryImpl.newTransformer(TransformerFactoryImpl.java:776) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.helper.XSLContractHelper.prepareTransformation(XSLContractHelper.java:75) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XSLContract.execute(XSLContract.java:67) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XSLContract.execute(XSLContract.java:1) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XMLStructurer.processContract(XMLStructurer.java:242) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XMLStructurer.processStructure(XMLStructurer.java:139) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XMLStructurer.execute(XMLStructurer.java:90) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.TestStructurer.testStructurer(TestStructurer.java:15) åÊåÊåÊåÊåÊåÊåÊåÊat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) åÊåÊåÊåÊåÊåÊåÊåÊat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) åÊåÊåÊåÊåÊåÊåÊåÊat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) åÊåÊåÊåÊåÊåÊåÊåÊat java.lang.reflect.Method.invoke(Method.java:585) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestCase.runTest(TestCase.java:168) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestCase.runBare(TestCase.java:134) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestResult$1.protect(TestResult.java:110) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestResult.runProtected(TestResult.java:128) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestResult.run(TestResult.java:113) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestCase.run(TestCase.java:124) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestSuite.runTest(TestSuite.java:232) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestSuite.run(TestSuite.java:227) åÊåÊåÊåÊåÊåÊåÊåÊat org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:45) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:460) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196) 8810 [main] FATAL org.apache.forrest.dispatcher.TestStructurer (LoggingErrorListener.java:57) - javax.xml.transform.TransformerException: java.lang.NullPointerException javax.xml.transform.TransformerConfigurationException: javax.xml.transform.TransformerException: java.lang.NullPointerException åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.processor.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:961) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.processor.TransformerFactoryImpl.newTransformer(TransformerFactoryImpl.java:776) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.helper.XSLContractHelper.prepareTransformation(XSLContractHelper.java:75) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XSLContract.execute(XSLContract.java:67) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XSLContract.execute(XSLContract.java:1) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XMLStructurer.processContract(XMLStructurer.java:242) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XMLStructurer.processStructure(XMLStructurer.java:139) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XMLStructurer.execute(XMLStructurer.java:90) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.TestStructurer.testStructurer(TestStructurer.java:15) åÊåÊåÊåÊåÊåÊåÊåÊat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) åÊåÊåÊåÊåÊåÊåÊåÊat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) åÊåÊåÊåÊåÊåÊåÊåÊat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) åÊåÊåÊåÊåÊåÊåÊåÊat java.lang.reflect.Method.invoke(Method.java:585) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestCase.runTest(TestCase.java:168) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestCase.runBare(TestCase.java:134) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestResult$1.protect(TestResult.java:110) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestResult.runProtected(TestResult.java:128) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestResult.run(TestResult.java:113) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestCase.run(TestCase.java:124) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestSuite.runTest(TestSuite.java:232) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestSuite.run(TestSuite.java:227) åÊåÊåÊåÊåÊåÊåÊåÊat org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:45) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:460) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196) Caused by: javax.xml.transform.TransformerException: java.lang.NullPointerException åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.processor.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:952) åÊåÊåÊåÊåÊåÊåÊåÊ... 27 more Caused by: java.lang.NullPointerException åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemTemplateElement.getStylesheetRoot(ElemTemplateElement.java:174) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemTemplateElement.resolvePrefixTables(ElemTemplateElement.java:1040) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemTemplateElement.compose(ElemTemplateElement.java:193) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemSort.compose(ElemSort.java:335) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemForEach.compose(ElemForEach.java:138) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemCallTemplate.compose(ElemCallTemplate.java:115) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemApplyTemplates.compose(ElemApplyTemplates.java:129) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.StylesheetRoot.composeTemplates(StylesheetRoot.java:361) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.StylesheetRoot.composeTemplates(StylesheetRoot.java:366) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.StylesheetRoot.composeTemplates(StylesheetRoot.java:366) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.StylesheetRoot.recompose(StylesheetRoot.java:341) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.processor.StylesheetHandler.endDocument(StylesheetHandler.java:471) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.AbstractSAXParser.endDocument(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLDocumentScannerImpl $TrailingMiscDispatcher.dispatch(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.XMLParser.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.processor.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:922) åÊåÊåÊåÊåÊåÊåÊåÊ... 27 more --------- javax.xml.transform.TransformerException: java.lang.NullPointerException åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.processor.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:952) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.processor.TransformerFactoryImpl.newTransformer(TransformerFactoryImpl.java:776) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.helper.XSLContractHelper.prepareTransformation(XSLContractHelper.java:75) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XSLContract.execute(XSLContract.java:67) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XSLContract.execute(XSLContract.java:1) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XMLStructurer.processContract(XMLStructurer.java:242) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XMLStructurer.processStructure(XMLStructurer.java:139) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XMLStructurer.execute(XMLStructurer.java:90) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.TestStructurer.testStructurer(TestStructurer.java:15) åÊåÊåÊåÊåÊåÊåÊåÊat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) åÊåÊåÊåÊåÊåÊåÊåÊat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) åÊåÊåÊåÊåÊåÊåÊåÊat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) åÊåÊåÊåÊåÊåÊåÊåÊat java.lang.reflect.Method.invoke(Method.java:585) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestCase.runTest(TestCase.java:168) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestCase.runBare(TestCase.java:134) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestResult$1.protect(TestResult.java:110) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestResult.runProtected(TestResult.java:128) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestResult.run(TestResult.java:113) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestCase.run(TestCase.java:124) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestSuite.runTest(TestSuite.java:232) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestSuite.run(TestSuite.java:227) åÊåÊåÊåÊåÊåÊåÊåÊat org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:45) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:460) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196) Caused by: java.lang.NullPointerException åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemTemplateElement.getStylesheetRoot(ElemTemplateElement.java:174) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemTemplateElement.resolvePrefixTables(ElemTemplateElement.java:1040) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemTemplateElement.compose(ElemTemplateElement.java:193) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemSort.compose(ElemSort.java:335) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemForEach.compose(ElemForEach.java:138) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemCallTemplate.compose(ElemCallTemplate.java:115) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemApplyTemplates.compose(ElemApplyTemplates.java:129) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.StylesheetRoot.composeTemplates(StylesheetRoot.java:361) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.StylesheetRoot.composeTemplates(StylesheetRoot.java:366) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.StylesheetRoot.composeTemplates(StylesheetRoot.java:366) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.StylesheetRoot.recompose(StylesheetRoot.java:341) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.processor.StylesheetHandler.endDocument(StylesheetHandler.java:471) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.AbstractSAXParser.endDocument(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLDocumentScannerImpl $TrailingMiscDispatcher.dispatch(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.XMLParser.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.processor.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:922) åÊåÊåÊåÊåÊåÊåÊåÊ... 27 more --------- java.lang.NullPointerException åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemTemplateElement.getStylesheetRoot(ElemTemplateElement.java:174) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemTemplateElement.resolvePrefixTables(ElemTemplateElement.java:1040) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemTemplateElement.compose(ElemTemplateElement.java:193) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemSort.compose(ElemSort.java:335) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemForEach.compose(ElemForEach.java:138) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemCallTemplate.compose(ElemCallTemplate.java:115) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemApplyTemplates.compose(ElemApplyTemplates.java:129) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.StylesheetRoot.composeTemplates(StylesheetRoot.java:361) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.StylesheetRoot.composeTemplates(StylesheetRoot.java:366) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.StylesheetRoot.composeTemplates(StylesheetRoot.java:366) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.StylesheetRoot.recompose(StylesheetRoot.java:341) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.processor.StylesheetHandler.endDocument(StylesheetHandler.java:471) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.AbstractSAXParser.endDocument(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLDocumentScannerImpl $TrailingMiscDispatcher.dispatch(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.XMLParser.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.processor.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:922) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.processor.TransformerFactoryImpl.newTransformer(TransformerFactoryImpl.java:776) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.helper.XSLContractHelper.prepareTransformation(XSLContractHelper.java:75) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XSLContract.execute(XSLContract.java:67) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XSLContract.execute(XSLContract.java:1) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XMLStructurer.processContract(XMLStructurer.java:242) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XMLStructurer.processStructure(XMLStructurer.java:139) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XMLStructurer.execute(XMLStructurer.java:90) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.TestStructurer.testStructurer(TestStructurer.java:15) åÊåÊåÊåÊåÊåÊåÊåÊat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) åÊåÊåÊåÊåÊåÊåÊåÊat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) åÊåÊåÊåÊåÊåÊåÊåÊat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) åÊåÊåÊåÊåÊåÊåÊåÊat java.lang.reflect.Method.invoke(Method.java:585) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestCase.runTest(TestCase.java:168) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestCase.runBare(TestCase.java:134) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestResult$1.protect(TestResult.java:110) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestResult.runProtected(TestResult.java:128) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestResult.run(TestResult.java:113) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestCase.run(TestCase.java:124) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestSuite.runTest(TestSuite.java:232) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestSuite.run(TestSuite.java:227) åÊåÊåÊåÊåÊåÊåÊåÊat org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:45) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:460) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196) --------- java.lang.NullPointerException åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemTemplateElement.getStylesheetRoot(ElemTemplateElement.java:174) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemTemplateElement.resolvePrefixTables(ElemTemplateElement.java:1040) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemTemplateElement.compose(ElemTemplateElement.java:193) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemSort.compose(ElemSort.java:335) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemForEach.compose(ElemForEach.java:138) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemCallTemplate.compose(ElemCallTemplate.java:115) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.ElemApplyTemplates.compose(ElemApplyTemplates.java:129) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.StylesheetRoot.composeTemplates(StylesheetRoot.java:361) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.StylesheetRoot.composeTemplates(StylesheetRoot.java:366) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.StylesheetRoot.composeTemplates(StylesheetRoot.java:366) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.templates.StylesheetRoot.recompose(StylesheetRoot.java:341) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.processor.StylesheetHandler.endDocument(StylesheetHandler.java:471) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.AbstractSAXParser.endDocument(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLDocumentScannerImpl $TrailingMiscDispatcher.dispatch(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.XMLParser.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.processor.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:922) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.xalan.processor.TransformerFactoryImpl.newTransformer(TransformerFactoryImpl.java:776) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.helper.XSLContractHelper.prepareTransformation(XSLContractHelper.java:75) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XSLContract.execute(XSLContract.java:67) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XSLContract.execute(XSLContract.java:1) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XMLStructurer.processContract(XMLStructurer.java:242) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XMLStructurer.processStructure(XMLStructurer.java:139) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.impl.XMLStructurer.execute(XMLStructurer.java:90) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.forrest.dispatcher.TestStructurer.testStructurer(TestStructurer.java:15) åÊåÊåÊåÊåÊåÊåÊåÊat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) åÊåÊåÊåÊåÊåÊåÊåÊat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) åÊåÊåÊåÊåÊåÊåÊåÊat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) åÊåÊåÊåÊåÊåÊåÊåÊat java.lang.reflect.Method.invoke(Method.java:585) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestCase.runTest(TestCase.java:168) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestCase.runBare(TestCase.java:134) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestResult$1.protect(TestResult.java:110) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestResult.runProtected(TestResult.java:128) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestResult.run(TestResult.java:113) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestCase.run(TestCase.java:124) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestSuite.runTest(TestSuite.java:232) åÊåÊåÊåÊåÊåÊåÊåÊat junit.framework.TestSuite.run(TestSuite.java:227) åÊåÊåÊåÊåÊåÊåÊåÊat org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:45) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:460) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386) åÊåÊåÊåÊåÊåÊåÊåÊat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196),java code: TransformerFactory transFact = TransformerFactory.newInstance(); transformer = transFact.newTransformer(xslSource);,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
5721,,,,,,,,All of the components in the configuration get reset before parsing begins. This gives each component an opportunity to read features and properties from the configuration; and also to set its internals to the state it needs to be in before it is used by the configuration.,Thanks for the reply. Can you clarify one more thing. I'm using XML schemas only and no DTD; so the only option is what you are suggesting. Also; you are saying that it gets dumped on reset to remove entities from the previous parse; but there was no previous parse. It is the first/initial parse that gets them reset. Is that the correct thing to do? I can see that they would need to be reset per parse. Thanks; Julio,This is working as designed. The table of entities in the XMLEntityManager is transient. This table gets filled by the DTDScanner as it reads entity declarations in the DTD. It gets dumped on reset to remove entities from the previous parse. If you want the parser to recognize arbitrary entities (which aren't declared anywhere) then you should probably create your own parser configuration; perhaps one which extends one of the Xerces configurations. If you extended IntegratedParserConfiguration for instance; and overloaded createEntityManager with your own extentsion of XMLEntityManager which you load with some persistent predefined entities; you can achieve what you want. Just be warned that these implementation classes may change between releases. If you're comfortable with that; then this approach should work for you.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
61898,,,,,,,,bulk close for 3.4,Jenkins is reporting that branch_3x solr/src/test compilation is failing after this issue was committed. I've opened SOLR-2653 to address the problem.,trunk rev: 1146685 branch 3x rev: 1146806 Thanks David and Peter!,Patch to reflect relocated code.,No problem; man! I'm just happy you're doing the work on the reorg instead of me....,I'm just waiting for the recent code reorganization to get back to 3x I'm working on it! Hopefully finished today or tomorrow.,I'm just waiting for the recent code reorganization to get back to 3x to make this easier on myself; especially the merge step. I could have two patches; but it seems like the code reorg is hard enough as it is; making additional changes in the underlying 3x code base would just add useless complexity. But I'm willing to be convinced otherwise.,If nobody objects I'll commit this Monday. +1,don't wait too long; no need to wait until monday. +1; commit it now! Esp for a bug fix; unless one thinks there is something likely controversial about it; or one is unsure about something and is thus requesting feedback.,OK; I've applied the patch to both 3x and trunk and it looks good. If nobody objects I'll commit this Monday. don't wait too long; no need to wait until monday.,OK; I've applied the patch to both 3x and trunk and it looks good. If nobody objects I'll commit this Monday.,Here's the patch I used. As before; it's just David's with the extra changes omitted.,I'm trying to attach it; but jira is throwing a stack trace. I mentioned this problem on #asfinfra an hour or so ago - medthomas has tracked down the problem; to the ASF JIRA plugin needing to be updated for the just-upgraded JIRA instance; and he's working on fixing the problem.,Quick test works - patched the 3.2 source and rebuilding the directory and subdirctory listings work as expected. The patch I used is the same as David's but just re-rolled without the changes to SolrDisptatchFilter.java I'm trying to attach it; but jira is throwing a stack trace.,The relayout of import statements in SolrDisptatchFilter.java is inadvertent. The QueryRequest.java one-liner was a null-check that I felt was an improvement so that I didn't have to pass in an empty params list to QueryRequest's constructor.,Thanks for the patch. Is every thing in there related to this bug? Some of it looks like other cleanup.,The attached patch fixes this bug and adds new tests for a directory listing and getting a file. This bug was triggered with the introduction of SOLR-2263 in which RawResponseWriter was changed to implement BinaryQueryResponseWriter. This wasn't a problem in and of itself; but the SolrDispatchFilter checks if a response writer is the binary variant and if so calls the write(OutputStream...) variant. But the responses from ShowFileRequestHandler that list directory contents are incompatible with the RawResponseWriter if RawResponseWriter's write(OutputStream...) method is uses; instead of a character based stream. The solution was to move the defaulting of the 'raw' response type from ShowFileRequestHandler.init() into into a condition within handleRequestBody() where it knows the response is a file.,This ought to be a trivial fix; so I hope we can get it in 3.1.1; or is 3.3 going to be the next minor version?,Bulk move 3.2 -> 3.3,Same for trunk $ svn info Path: . URL: https://svn.apache.org/repos/asf/lucene/dev/trunk/solr Repository Root: https://svn.apache.org/repos/asf Repository UUID: 13f79535-47bb-0310-9956-ffa450edef68 Revision: 1130610 Node Kind: directory Schedule: normal Last Changed Author: rmuir Last Changed Rev: 1130527 Last Changed Date: 2011-06-02 14:58:22 +0200 (Thu; 02 Jun 2011) Stacktrace: INFO: [] webapp=/solr path=/admin/file params={} status=0 QTime=7 Jun 2; 2011 5:49:29 PM org.apache.solr.common.SolrException log SEVERE: java.io.IOException: did not find a CONTENT object         at org.apache.solr.response.RawResponseWriter.write(RawResponseWriter.java:113)         at org.apache.solr.servlet.SolrDispatchFilter.writeResponse(SolrDispatchFilter.java:333)         at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:261)         at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)         at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)         at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)         at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)         at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)         at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)         at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)         at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)         at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)         at org.mortbay.jetty.Server.handle(Server.java:326)         at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)         at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)         at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)         at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)         at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)         at org.mortbay.jetty.bio.SocketConnector$Connection.run(SocketConnector.java:228)         at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582),,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
33049,,x,,,,,,This is now fixed!,Axis2 1.3 patch that gets all the tests passing and a successful build,"'""I am running into a few test errors with this patch' A 'few' !""",Based on the analysis I just did; showing that Java code changes to port to Axis2 are very minimal and can be clearly identified; I recommend to do this port for the 1.0 release.,I did an evaluation of the changes required to port to Axis2 1.3. 1561-java.diff is a diff of the java source code changes only; to help people review the changes. They are very minimal (mostly Java package renames; plus a few method signature changes). I marked the actual logic changes with a // JIRA TUSCANY-1561 comment. 1561.patch is the complete patch including changes to the Maven pom.xml files and the axis2.xml configuration file. The rampart mar (for the security policy support) also needs to be upgraded to from 1.2 to 1.3; as shown in 1561.patch. I am running into a few test errors with this patch so it would be great if people involved in the binding-ws-axis2 work could review it and help see what's wrong; as I may have missed something... Thanks.,Moving out of 1.0 as it just doesn't seem like this is going to happen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
57099,,,,,,,,After the changes the error no longer appears in nightly build results. Closing as Fixed.,Completed summary.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
26551,,,,,,,,used struts for 2 years now - no clue whether it has been fixed,Hi; Taking a look at this old bug. It puzzles me what it's about. If you're still interested; could you be more specific as to what specific error messages you are looking for? Otherwise; I'd like to close it. Thanks.,As per http://nagoya.apache.org/bugzilla/show_bug.cgi?id=15947; please i) please configure Bugzilla to also allow for 1.4 since it appears to be this; ii) provide a command-line parameter/build.xml target that tells in detail about the velocity version. Both -debug and -verbose don't appear to provide any better information than the velocity.log file. But I am happy to attach the velocity.log and both tee'ed ant-runs if you wish.,I'm guessing you'd need to either patch the source; or invoke Ant with the -debug or -verbose options. What version of Velocity are you using? 1.0 is very old.,the html file basically only has <!-- start the processing --> åÊåÊ#header() åÊåÊåÊåÊåÊåÊ#footer() <!-- end the processing --> I figured some more information could be found in velocity.log rhauser@RHAUSERPCGF590K:~/<7>anakia/build> g error * velocity.log:Mon Jan 13 19:50:24 CET 2003 [error] ResourceManager : unable to f ind resource 'VM_global_library.vm' in any resource loader. velocity.log:Mon Jan 13 19:50:24 CET 2003 [info] Velocimacro : error using VM åÊlibrary template VM_global_library.vm : org.apache.velocity.exception.ResourceN otFoundException: Unable to find resource 'VM_global_library.vm' velocity.log:Mon Jan 13 19:50:25 CET 2003 [error] RHS of #set statement is null . Context will not be modified. ./site.vsl [line 2; column 3] rhauser@RHAUSERPCGF590K:~/<7>anakia_rh/build> but how does that get me closer to being able to rebuild the ant-faq with anakia from the faq.xml? see also: http://nagoya.apache.org/bugzilla/show_bug.cgi?id=15949,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
35079,x,,,,,,,46fa49e75e79c4bf7351bbdc0653130f4e01dfb0 TS-1558: use_client_addr breaks control over upstream HTTP protocol version Thanks Uri!,New patch - Use HTTP/1.1 if the client request version isn't 0.9/1.0 + comment in records.config,If we are configured to always/never send HTTP/1.1 requests; that configuration will still take precedence. Since we do not do a hostdb lookup; the last two options: 2 - if the server has returned http1.1 before 3 - if the client request is 1.1 & the server has returned 1.1 before are problematic as we will never know if the server has previously returned a 1.1 response. All the patch does is set the 'previously seen server version' to be equal to the client request version _x0089_ÛÒ so if we are running with config option 2/3 set we will always send a request version that equals the client request version (which seems the best thing we can do in this transparent use case). I'll add a patch that flips the check order so we mark the server as HTTP/1.1 if the client request version is unfamiliar + add a comment to records.config.,Uri; with your patch do we still obey proxy.config.http.send_http11_request? Is HTTP/0.9 the best choice for the final else branch; maybe HTTP/1.1 would be better?,a3fa8b6edfa4c5144f0716e8ef34f43b959cce94 Spell authorized consistently,Completely non-related and probably belongs in another jira _x0089_ÛÒ but I've added a small patch to fix two comment typos in HttpTransact... (I know authorized can be spelt with an s _x0089_ÛÒ but we don't do that anywhere else in the code),,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
46309,,,,,,,,committed,Fix how the length of a map is calculated. We can use Object.keys() in Node.js. Not all browsers support that method so we have to calculate it ourselves for the browser implementation.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
75762,,,,,x,x,,Hi Dave; åÊ I am not JIRA wise; I'll see if I can change the original; if not; I'll start a new thread. åÊ It worries me that the last binaries are two years old. It seems to say that nobody is using WS-RM; which I can understand. åÊ I will check with Axis2 1.5 before I update the JIRA. I won't check with 1.3; since I am using 1.4 features. åÊ Cheers; Patrice 21/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 21; 2009; 10:44 AM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745856#action_12745856 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; In fact you could use the JIRA you raised that started this discussion thread.åÊ It's probably worth changing the abstract to say that you are using Axis2 1.4 with Sandesha2 1.3 and that in this specific scenario (RM 1.1 with MakeConn) you are seeing the issue whereby the MakeConn anonymous address isn't being registered with Axis2 as an anonymous address so the createSeqResponse cannot be sent back to the client. Did you try the same scenario and get any success with Axis 1.3 or even Axis 1.5? Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 21/08/2009 09:24 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745836#action_12745836 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; Should I create a new issue stating that Sandesha2 does not work with Axis2 1.4 ? Thanks; Patrice --- On Thu; 8/20/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Thursday; August 20; 2009; 5:23 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745457#action_12745457 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Apologies I thought you were running Axis2 1.3 with Sandesha 1.3. Nevertheless I thought Sandesha 1.3 would work with Axis2 1.4; maybe it doesn't for the RM 1.1 scenario you are trying.åÊ You could try moving back to Axis 1.3. Regards Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 19/08/2009 17:43 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745115#action_12745115 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hi Dave; The axis2.log I sent you was generated in debug mode. I don't know how to give you more than that. If you do; please let me know. Please answer the following question: Do you have a simple service/client pair that runs under V1_1åÊ with Axis2 1.4 ? I have suspicion that Sandesha2 does not work well (or at all)åÊ in V1_1 mode; at least with Axis2 1.4 Cheers; Patrice --- On Wed; 8/19/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Wednesday; August 19; 2009; 3:00 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745040#action_12745040 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; My mistake; it is set by default.åÊ It all looks like your module.xml is correct.åÊ I think we need to get Axis2 & Sandesha trace so that we can see what's going on.åÊ I'd expect to see Axis2 register the MC annon EndPoint so that it sees it as an anonymous EndPoint.åÊ This obviously isn't happening and i'm not sure why as your setup seems sound. Could you collect this trace.åÊ I'd be happy to take a look. Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 19/08/2009 08:41 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744941#action_12744941 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hi Dave; Here's my module.xml pulled straight out of the sandesha2-1.3.maråÊ and it has 1.1 enabled : ====================================== <module name='sandesha2' class='org.apache.sandesha2.SandeshaModule'> <Description> This module implements WS-ReliableMessaging for Axis2. This implements both the WSRM submitted spec and up to the version CD4 of the new WSRM 1.1 spec. </Description> <InFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before addressing dispatching --> <order phase='Dispatch' phaseFirst='true'/> </handler> <handler name='MessageContextCorrectionHandler' class='org.apache.sandesha2.handlers.MessageContextCorrectionHandler'> <!-- A handler which handle the duplicate messages --> <order phase='Transport'/> </handler> <handler name='SequenceIDDispatcher' class='org.apache.sandesha2.handlers.SequenceIDDispatcher'> <order phase='Addressing' before='AddressingBasedDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFlow> <OutFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFlow> <InFaultFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before instance dispatching --> <order phase='Dispatch' before='InstanceDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFaultFlow> <OutFaultFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFaultFlow> <operation name='Sandesha2OperationInOnly' mep=' http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping> http://schemas.xmlsoap.org/ws/2005/02/rm/SequenceAcknowledgement </actionMapping> <!-- For interopability purposes. Some WSRM implementations tend to send this as the LastMessage --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/LastMessage </actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping> http://docs.oasis-open.org/ws-rx/wsrm/200702/SequenceAcknowledgement </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/fault </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/AckRequested </actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/TerminateSequence </actionMapping> </operation> <operation name='Sandesha2OperationInOut' mep=' http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/CreateSequence </actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/AckRequested </actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CreateSequence </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CloseSequence </actionMapping> <actionMapping> http://docs.oasis-open.org/ws-rx/wsrm/200702/TerminateSequence </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsmc/200702/MakeConnection </actionMapping> </operation> <operation name='Sandesha2OperationOutOnly' mep=' http://www.w3.org/2006/01/wsdl/out-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationOutIn' mep=' http://www.w3.org/2006/01/wsdl/out-in'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOnly' mep=' http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOut' mep=' http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <supported-policy-namespaces namespaces=' http://ws.apache.org/sandesha2/policy' /> <wsp:Policy xmlns:wsp='http://schemas.xmlsoap.org/ws/2004/09/policy' xmlns:wsu=' http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd ' xmlns:sandesha2='http://ws.apache.org/sandesha2/policy' wsu:Id='RMPolicy'> <sandesha2:RMAssertion> <wsp:Policy> <sandesha2:AcknowledgementInterval>3000</sandesha2:AcknowledgementInterval> <sandesha2:RetransmissionInterval>6000</sandesha2:RetransmissionInterval> <!-- '-1' conveys that there is no limit to the max. number of retransmissions.--> <sandesha2:MaximumRetransmissionCount>10</sandesha2:MaximumRetransmissionCount> <sandesha2:ExponentialBackoff>false</sandesha2:ExponentialBackoff> <sandesha2:InactivityTimeout>60</sandesha2:InactivityTimeout> <sandesha2:InactivityTimeoutMeasure>seconds</sandesha2:InactivityTimeoutMeasure> <!-- Once a sequence has been marked as deleted; or timed out; this is the length of time that the sequence will remain before all sequence state is totally removed --> <sandesha2:SequenceRemovalTimeout>600</sandesha2:SequenceRemovalTimeout> <sandesha2:SequenceRemovalTimeoutMeasure>seconds</sandesha2:SequenceRemovalTimeoutMeasure> <sandesha2:InvokeInOrder>true</sandesha2:InvokeInOrder> <!-- These will not be overriden by service level policies --> <sandesha2:MessageTypesToDrop>none</sandesha2:MessageTypesToDrop> <!-- This will not be overriden by service level policies --> <sandesha2:StorageManagers> <sandesha2:InMemoryStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:InMemoryStorageManager> <sandesha2:PermanentStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:PermanentStorageManager> </sandesha2:StorageManagers> <!-- This will not be overriden by service level policies --> <sandesha2:SecurityManager>org.apache.sandesha2.security.dummy.DummySecurityManager</sandesha2:SecurityManager> <sandesha2:ContextManager>org.apache.sandesha2.context.DummyContextManager</sandesha2:ContextManager> <sandesha2:MakeConnection> <sandesha2:Enabled>true</sandesha2:Enabled> <sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> <!-- <sandesha2:UseMessageSerialization>true</sandesha2:UseMessageSerialization> --> <sandesha2:EnforceRM>false</sandesha2:EnforceRM> </wsp:Policy> </sandesha2:RMAssertion> </wsp:Policy> _x008b_ÛÛ <!-- Parameters that will be copied when creating related MessageContexts --> <parameter name='propertiesToCopyFromReferenceMessage' locked='false'>TransportURL;WSAddressingVersion;disableAddressingForOutMessages;rampartPolicy;RECV_RESULTS;PROXY</parameter> <parameter name='propertiesToCopyFromReferenceRequestMessage' locked='false'>WSAddressingVersion;RECV_RESULTS;rampartPolicy</parameter> </module> ====================================================== Thanks; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 6:11 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744580#action_12744580 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; The default sandesha2-1.3.mar doesn't have the following: <sandesha2:MakeConnection> åÊ åÊ åÊ åÊ <sandesha2:Enabled>true</sandesha2:Enabled> åÊ åÊ åÊ åÊ <sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> as part of it's module.xml.åÊ These have to be set as part of your config. The Sandesha module has been deployed correctly as I can see that it processes the createSeq and tries to send a createSeqResponse. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 16:08 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744539#action_12744539 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; The trace I sent you shows that MakeConn is enabled (see axis2.log). I am using the default modules.xml in the sandesha.mar; which enables MakeConn. As to the services.xml; uncommenting the MakeConn policies has no effect; this is coherent since the modules.xml enables these. By the way; is RMPhase correctly positionned in the axis2 conf in the late documentation ? Can you run the client and the service as I sent them to you successfuly ? Or better yet; can you send me a simple service and client that runs successfullly under WS-RM 1.1åÊ with Axis2 1.4 or 1.5 ? Thanks in advance; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 11:32 AM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744432#action_12744432 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; Your services.xml shows the makeConn enablement commented out; you should try uncommenting this.åÊ I haven't seen your module.xml so can't comment on that.åÊ If you can collect sandesha trace for your service I can get a better idea of what's going on.åÊ It's only an assumption that MakeConnection isn't enabled on your service and that's why you are seeing the behaviour you are. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 08:39 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744399#action_12744399 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; I'll try again; but the commented out code showed me that MakeConn is enabled; as specified in the module.xml policies. Do the client and service taht I sent work for you ? Thanks in advance; Patrice --- On Mon; 8/17/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Monday; August 17; 2009; 6:44 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744128#action_12744128 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; The init method of your service is commented out.åÊ This says that it is used to disable MakeConn but currently the commented out code is setting it to true.åÊ Try enabling this so that when it is called MakeConn will be enabled.åÊ I think your seeing problems because MakeConn isn't enabled on your service. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 15/08/2009 09:12 Subject: [jira] Updated: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ] patrice aubry updated SANDESHA2-197: ------------------------------------ åÊ åÊ Attachment: sandesha-issue.zip Hello Dave; The answer is yes to your questions. To check that v1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client) captured on TcpMon. I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. Thank you very much in advance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message?åÊ Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊKey: SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊåÊåÊProject: Sandesha2 åÊ åÊ åÊ åÊ åÊ Issue Type: Bug åÊ åÊ Affects Versions: 1.3 åÊ åÊ åÊ åÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊ åÊ åÊ åÊ åÊ åÊ Reporter: patrice aubry åÊ åÊ åÊ åÊ åÊ åÊ Priority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1;åÊ the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online.,Hi Patrice; In fact you could use the JIRA you raised that started this discussion thread. It's probably worth changing the abstract to say that you are using Axis2 1.4 with Sandesha2 1.3 and that in this specific scenario (RM 1.1 with MakeConn) you are seeing the issue whereby the MakeConn anonymous address isn't being registered with Axis2 as an anonymous address so the createSeqResponse cannot be sent back to the client. Did you try the same scenario and get any success with Axis 1.3 or even Axis 1.5? Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 21/08/2009 09:24 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745836#action_12745836 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; åÊ Should I create a new issue stating that Sandesha2 does not work with Axis2 1.4 ? åÊ Thanks; Patrice --- On Thu; 8/20/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Thursday; August 20; 2009; 5:23 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745457#action_12745457 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Apologies I thought you were running Axis2 1.3 with Sandesha 1.3. Nevertheless I thought Sandesha 1.3 would work with Axis2 1.4; maybe it doesn't for the RM 1.1 scenario you are trying. You could try moving back to Axis 1.3. Regards Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 19/08/2009 17:43 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745115#action_12745115 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hi Dave; The axis2.log I sent you was generated in debug mode. I don't know how to give you more than that. If you do; please let me know. Please answer the following question: Do you have a simple service/client pair that runs under V1_1 with Axis2 1.4 ? I have suspicion that Sandesha2 does not work well (or at all) in V1_1 mode; at least with Axis2 1.4 Cheers; Patrice --- On Wed; 8/19/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Wednesday; August 19; 2009; 3:00 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745040#action_12745040 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; My mistake; it is set by default. It all looks like your module.xml is correct. I think we need to get Axis2 & Sandesha trace so that we can see what's going on. I'd expect to see Axis2 register the MC annon EndPoint so that it sees it as an anonymous EndPoint. This obviously isn't happening and i'm not sure why as your setup seems sound. Could you collect this trace. I'd be happy to take a look. Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 19/08/2009 08:41 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744941#action_12744941 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hi Dave; Here's my module.xml pulled straight out of the sandesha2-1.3.mar and it has 1.1 enabled : ====================================== <module name='sandesha2' class='org.apache.sandesha2.SandeshaModule'> <Description> This module implements WS-ReliableMessaging for Axis2. This implements both the WSRM submitted spec and up to the version CD4 of the new WSRM 1.1 spec. </Description> <InFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before addressing dispatching --> <order phase='Dispatch' phaseFirst='true'/> </handler> <handler name='MessageContextCorrectionHandler' class='org.apache.sandesha2.handlers.MessageContextCorrectionHandler'> <!-- A handler which handle the duplicate messages --> <order phase='Transport'/> </handler> <handler name='SequenceIDDispatcher' class='org.apache.sandesha2.handlers.SequenceIDDispatcher'> <order phase='Addressing' before='AddressingBasedDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFlow> <OutFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFlow> <InFaultFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before instance dispatching --> <order phase='Dispatch' before='InstanceDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFaultFlow> <OutFaultFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFaultFlow> <operation name='Sandesha2OperationInOnly' mep=' http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping> http://schemas.xmlsoap.org/ws/2005/02/rm/SequenceAcknowledgement </actionMapping> <!-- For interopability purposes. Some WSRM implementations tend to send this as the LastMessage --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/LastMessage </actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping> http://docs.oasis-open.org/ws-rx/wsrm/200702/SequenceAcknowledgement </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/fault </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/AckRequested </actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/TerminateSequence </actionMapping> </operation> <operation name='Sandesha2OperationInOut' mep=' http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/CreateSequence </actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/AckRequested </actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CreateSequence </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CloseSequence </actionMapping> <actionMapping> http://docs.oasis-open.org/ws-rx/wsrm/200702/TerminateSequence </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsmc/200702/MakeConnection </actionMapping> </operation> <operation name='Sandesha2OperationOutOnly' mep=' http://www.w3.org/2006/01/wsdl/out-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationOutIn' mep=' http://www.w3.org/2006/01/wsdl/out-in'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOnly' mep=' http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOut' mep=' http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <supported-policy-namespaces namespaces=' http://ws.apache.org/sandesha2/policy' /> <wsp:Policy xmlns:wsp='http://schemas.xmlsoap.org/ws/2004/09/policy' xmlns:wsu=' http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd ' xmlns:sandesha2='http://ws.apache.org/sandesha2/policy' wsu:Id='RMPolicy'> <sandesha2:RMAssertion> <wsp:Policy> <sandesha2:AcknowledgementInterval>3000</sandesha2:AcknowledgementInterval> <sandesha2:RetransmissionInterval>6000</sandesha2:RetransmissionInterval> <!-- '-1' conveys that there is no limit to the max. number of retransmissions.--> <sandesha2:MaximumRetransmissionCount>10</sandesha2:MaximumRetransmissionCount> <sandesha2:ExponentialBackoff>false</sandesha2:ExponentialBackoff> <sandesha2:InactivityTimeout>60</sandesha2:InactivityTimeout> <sandesha2:InactivityTimeoutMeasure>seconds</sandesha2:InactivityTimeoutMeasure> <!-- Once a sequence has been marked as deleted; or timed out; this is the length of time that the sequence will remain before all sequence state is totally removed --> <sandesha2:SequenceRemovalTimeout>600</sandesha2:SequenceRemovalTimeout> <sandesha2:SequenceRemovalTimeoutMeasure>seconds</sandesha2:SequenceRemovalTimeoutMeasure> <sandesha2:InvokeInOrder>true</sandesha2:InvokeInOrder> <!-- These will not be overriden by service level policies --> <sandesha2:MessageTypesToDrop>none</sandesha2:MessageTypesToDrop> <!-- This will not be overriden by service level policies --> <sandesha2:StorageManagers> <sandesha2:InMemoryStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:InMemoryStorageManager> <sandesha2:PermanentStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:PermanentStorageManager> </sandesha2:StorageManagers> <!-- This will not be overriden by service level policies --> <sandesha2:SecurityManager>org.apache.sandesha2.security.dummy.DummySecurityManager</sandesha2:SecurityManager> <sandesha2:ContextManager>org.apache.sandesha2.context.DummyContextManager</sandesha2:ContextManager> <sandesha2:MakeConnection> <sandesha2:Enabled>true</sandesha2:Enabled> <sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> <!-- <sandesha2:UseMessageSerialization>true</sandesha2:UseMessageSerialization> --> <sandesha2:EnforceRM>false</sandesha2:EnforceRM> </wsp:Policy> </sandesha2:RMAssertion> </wsp:Policy> _x008b_ÛÛ <!-- Parameters that will be copied when creating related MessageContexts --> <parameter name='propertiesToCopyFromReferenceMessage' locked='false'>TransportURL;WSAddressingVersion;disableAddressingForOutMessages;rampartPolicy;RECV_RESULTS;PROXY</parameter> <parameter name='propertiesToCopyFromReferenceRequestMessage' locked='false'>WSAddressingVersion;RECV_RESULTS;rampartPolicy</parameter> </module> ====================================================== Thanks; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 6:11 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744580#action_12744580 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; The default sandesha2-1.3.mar doesn't have the following: <sandesha2:MakeConnection> åÊåÊåÊåÊåÊåÊåÊåÊ<sandesha2:Enabled>true</sandesha2:Enabled> åÊåÊåÊåÊåÊåÊåÊåÊ<sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> as part of it's module.xml. These have to be set as part of your config. The Sandesha module has been deployed correctly as I can see that it processes the createSeq and tries to send a createSeqResponse. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 16:08 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744539#action_12744539 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; The trace I sent you shows that MakeConn is enabled (see axis2.log). I am using the default modules.xml in the sandesha.mar; which enables MakeConn. As to the services.xml; uncommenting the MakeConn policies has no effect; this is coherent since the modules.xml enables these. By the way; is RMPhase correctly positionned in the axis2 conf in the late documentation ? Can you run the client and the service as I sent them to you successfuly ? Or better yet; can you send me a simple service and client that runs successfullly under WS-RM 1.1 with Axis2 1.4 or 1.5 ? Thanks in advance; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 11:32 AM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744432#action_12744432 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; Your services.xml shows the makeConn enablement commented out; you should try uncommenting this. I haven't seen your module.xml so can't comment on that. If you can collect sandesha trace for your service I can get a better idea of what's going on. It's only an assumption that MakeConnection isn't enabled on your service and that's why you are seeing the behaviour you are. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 08:39 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744399#action_12744399 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; I'll try again; but the commented out code showed me that MakeConn is enabled; as specified in the module.xml policies. Do the client and service taht I sent work for you ? Thanks in advance; Patrice --- On Mon; 8/17/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Monday; August 17; 2009; 6:44 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744128#action_12744128 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; The init method of your service is commented out. This says that it is used to disable MakeConn but currently the commented out code is setting it to true. Try enabling this so that when it is called MakeConn will be enabled. I think your seeing problems because MakeConn isn't enabled on your service. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 15/08/2009 09:12 Subject: [jira] Updated: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ] patrice aubry updated SANDESHA2-197: ------------------------------------ åÊåÊåÊåÊAttachment: sandesha-issue.zip Hello Dave; The answer is yes to your questions. To check that v1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client) captured on TcpMon. I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. Thank you very much in advance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message? Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊKey: SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊProject: Sandesha2 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊIssue Type: Bug åÊåÊåÊåÊAffects Versions: 1.3 åÊåÊåÊåÊåÊåÊåÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊReporter: patrice aubry åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊPriority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1; the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU,Hi Patrice; Yeah that sounds like a good idea. I'd hope that a new release of Sandesha2 that maps to the latest Axis2 release is in the pipeline. Especially as it seems there are issues with certain configurations. As I get the chance I will investigate the compatibility of Axis2 releases with Sandesha2. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 21/08/2009 08:24 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745836#action_12745836 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; åÊ Should I create a new issue stating that Sandesha2 does not work with Axis2 1.4 ? åÊ Thanks; Patrice --- On Thu; 8/20/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Thursday; August 20; 2009; 5:23 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745457#action_12745457 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Apologies I thought you were running Axis2 1.3 with Sandesha 1.3. Nevertheless I thought Sandesha 1.3 would work with Axis2 1.4; maybe it doesn't for the RM 1.1 scenario you are trying. You could try moving back to Axis 1.3. Regards Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 19/08/2009 17:43 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745115#action_12745115 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hi Dave; The axis2.log I sent you was generated in debug mode. I don't know how to give you more than that. If you do; please let me know. Please answer the following question: Do you have a simple service/client pair that runs under V1_1 with Axis2 1.4 ? I have suspicion that Sandesha2 does not work well (or at all) in V1_1 mode; at least with Axis2 1.4 Cheers; Patrice --- On Wed; 8/19/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Wednesday; August 19; 2009; 3:00 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745040#action_12745040 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; My mistake; it is set by default. It all looks like your module.xml is correct. I think we need to get Axis2 & Sandesha trace so that we can see what's going on. I'd expect to see Axis2 register the MC annon EndPoint so that it sees it as an anonymous EndPoint. This obviously isn't happening and i'm not sure why as your setup seems sound. Could you collect this trace. I'd be happy to take a look. Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 19/08/2009 08:41 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744941#action_12744941 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hi Dave; Here's my module.xml pulled straight out of the sandesha2-1.3.mar and it has 1.1 enabled : ====================================== <module name='sandesha2' class='org.apache.sandesha2.SandeshaModule'> <Description> This module implements WS-ReliableMessaging for Axis2. This implements both the WSRM submitted spec and up to the version CD4 of the new WSRM 1.1 spec. </Description> <InFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before addressing dispatching --> <order phase='Dispatch' phaseFirst='true'/> </handler> <handler name='MessageContextCorrectionHandler' class='org.apache.sandesha2.handlers.MessageContextCorrectionHandler'> <!-- A handler which handle the duplicate messages --> <order phase='Transport'/> </handler> <handler name='SequenceIDDispatcher' class='org.apache.sandesha2.handlers.SequenceIDDispatcher'> <order phase='Addressing' before='AddressingBasedDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFlow> <OutFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFlow> <InFaultFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before instance dispatching --> <order phase='Dispatch' before='InstanceDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFaultFlow> <OutFaultFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFaultFlow> <operation name='Sandesha2OperationInOnly' mep=' http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping> http://schemas.xmlsoap.org/ws/2005/02/rm/SequenceAcknowledgement </actionMapping> <!-- For interopability purposes. Some WSRM implementations tend to send this as the LastMessage --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/LastMessage </actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping> http://docs.oasis-open.org/ws-rx/wsrm/200702/SequenceAcknowledgement </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/fault </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/AckRequested </actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/TerminateSequence </actionMapping> </operation> <operation name='Sandesha2OperationInOut' mep=' http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/CreateSequence </actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/AckRequested </actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CreateSequence </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CloseSequence </actionMapping> <actionMapping> http://docs.oasis-open.org/ws-rx/wsrm/200702/TerminateSequence </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsmc/200702/MakeConnection </actionMapping> </operation> <operation name='Sandesha2OperationOutOnly' mep=' http://www.w3.org/2006/01/wsdl/out-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationOutIn' mep=' http://www.w3.org/2006/01/wsdl/out-in'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOnly' mep=' http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOut' mep=' http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <supported-policy-namespaces namespaces=' http://ws.apache.org/sandesha2/policy' /> <wsp:Policy xmlns:wsp='http://schemas.xmlsoap.org/ws/2004/09/policy' xmlns:wsu=' http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd ' xmlns:sandesha2='http://ws.apache.org/sandesha2/policy' wsu:Id='RMPolicy'> <sandesha2:RMAssertion> <wsp:Policy> <sandesha2:AcknowledgementInterval>3000</sandesha2:AcknowledgementInterval> <sandesha2:RetransmissionInterval>6000</sandesha2:RetransmissionInterval> <!-- '-1' conveys that there is no limit to the max. number of retransmissions.--> <sandesha2:MaximumRetransmissionCount>10</sandesha2:MaximumRetransmissionCount> <sandesha2:ExponentialBackoff>false</sandesha2:ExponentialBackoff> <sandesha2:InactivityTimeout>60</sandesha2:InactivityTimeout> <sandesha2:InactivityTimeoutMeasure>seconds</sandesha2:InactivityTimeoutMeasure> <!-- Once a sequence has been marked as deleted; or timed out; this is the length of time that the sequence will remain before all sequence state is totally removed --> <sandesha2:SequenceRemovalTimeout>600</sandesha2:SequenceRemovalTimeout> <sandesha2:SequenceRemovalTimeoutMeasure>seconds</sandesha2:SequenceRemovalTimeoutMeasure> <sandesha2:InvokeInOrder>true</sandesha2:InvokeInOrder> <!-- These will not be overriden by service level policies --> <sandesha2:MessageTypesToDrop>none</sandesha2:MessageTypesToDrop> <!-- This will not be overriden by service level policies --> <sandesha2:StorageManagers> <sandesha2:InMemoryStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:InMemoryStorageManager> <sandesha2:PermanentStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:PermanentStorageManager> </sandesha2:StorageManagers> <!-- This will not be overriden by service level policies --> <sandesha2:SecurityManager>org.apache.sandesha2.security.dummy.DummySecurityManager</sandesha2:SecurityManager> <sandesha2:ContextManager>org.apache.sandesha2.context.DummyContextManager</sandesha2:ContextManager> <sandesha2:MakeConnection> <sandesha2:Enabled>true</sandesha2:Enabled> <sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> <!-- <sandesha2:UseMessageSerialization>true</sandesha2:UseMessageSerialization> --> <sandesha2:EnforceRM>false</sandesha2:EnforceRM> </wsp:Policy> </sandesha2:RMAssertion> </wsp:Policy> _x008b_ÛÛ <!-- Parameters that will be copied when creating related MessageContexts --> <parameter name='propertiesToCopyFromReferenceMessage' locked='false'>TransportURL;WSAddressingVersion;disableAddressingForOutMessages;rampartPolicy;RECV_RESULTS;PROXY</parameter> <parameter name='propertiesToCopyFromReferenceRequestMessage' locked='false'>WSAddressingVersion;RECV_RESULTS;rampartPolicy</parameter> </module> ====================================================== Thanks; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 6:11 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744580#action_12744580 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; The default sandesha2-1.3.mar doesn't have the following: <sandesha2:MakeConnection> åÊåÊåÊåÊåÊåÊåÊåÊ<sandesha2:Enabled>true</sandesha2:Enabled> åÊåÊåÊåÊåÊåÊåÊåÊ<sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> as part of it's module.xml. These have to be set as part of your config. The Sandesha module has been deployed correctly as I can see that it processes the createSeq and tries to send a createSeqResponse. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 16:08 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744539#action_12744539 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; The trace I sent you shows that MakeConn is enabled (see axis2.log). I am using the default modules.xml in the sandesha.mar; which enables MakeConn. As to the services.xml; uncommenting the MakeConn policies has no effect; this is coherent since the modules.xml enables these. By the way; is RMPhase correctly positionned in the axis2 conf in the late documentation ? Can you run the client and the service as I sent them to you successfuly ? Or better yet; can you send me a simple service and client that runs successfullly under WS-RM 1.1 with Axis2 1.4 or 1.5 ? Thanks in advance; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 11:32 AM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744432#action_12744432 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; Your services.xml shows the makeConn enablement commented out; you should try uncommenting this. I haven't seen your module.xml so can't comment on that. If you can collect sandesha trace for your service I can get a better idea of what's going on. It's only an assumption that MakeConnection isn't enabled on your service and that's why you are seeing the behaviour you are. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 08:39 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744399#action_12744399 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; I'll try again; but the commented out code showed me that MakeConn is enabled; as specified in the module.xml policies. Do the client and service taht I sent work for you ? Thanks in advance; Patrice --- On Mon; 8/17/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Monday; August 17; 2009; 6:44 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744128#action_12744128 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; The init method of your service is commented out. This says that it is used to disable MakeConn but currently the commented out code is setting it to true. Try enabling this so that when it is called MakeConn will be enabled. I think your seeing problems because MakeConn isn't enabled on your service. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 15/08/2009 09:12 Subject: [jira] Updated: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ] patrice aubry updated SANDESHA2-197: ------------------------------------ åÊåÊåÊåÊAttachment: sandesha-issue.zip Hello Dave; The answer is yes to your questions. To check that v1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client) captured on TcpMon. I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. Thank you very much in advance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message? Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊKey: SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊProject: Sandesha2 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊIssue Type: Bug åÊåÊåÊåÊAffects Versions: 1.3 åÊåÊåÊåÊåÊåÊåÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊReporter: patrice aubry åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊPriority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1; the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU,Hello Dave; åÊ Should I create a new issue stating that Sandesha2 does not work with Axis2 1.4 ? åÊ Thanks; Patrice --- On Thu; 8/20/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Thursday; August 20; 2009; 5:23 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745457#action_12745457 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Apologies I thought you were running Axis2 1.3 with Sandesha 1.3. Nevertheless I thought Sandesha 1.3 would work with Axis2 1.4; maybe it doesn't for the RM 1.1 scenario you are trying.åÊ You could try moving back to Axis 1.3. Regards Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 19/08/2009 17:43 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745115#action_12745115 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hi Dave; The axis2.log I sent you was generated in debug mode. I don't know how to give you more than that. If you do; please let me know. Please answer the following question: Do you have a simple service/client pair that runs under V1_1åÊ with Axis2 1.4 ? I have suspicion that Sandesha2 does not work well (or at all)åÊ in V1_1 mode; at least with Axis2 1.4 Cheers; Patrice --- On Wed; 8/19/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Wednesday; August 19; 2009; 3:00 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745040#action_12745040 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; My mistake; it is set by default.åÊ It all looks like your module.xml is correct.åÊ I think we need to get Axis2 & Sandesha trace so that we can see what's going on.åÊ I'd expect to see Axis2 register the MC annon EndPoint so that it sees it as an anonymous EndPoint.åÊ This obviously isn't happening and i'm not sure why as your setup seems sound. Could you collect this trace.åÊ I'd be happy to take a look. Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 19/08/2009 08:41 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744941#action_12744941 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hi Dave; Here's my module.xml pulled straight out of the sandesha2-1.3.maråÊ and it has 1.1 enabled : ====================================== <module name='sandesha2' class='org.apache.sandesha2.SandeshaModule'> <Description> This module implements WS-ReliableMessaging for Axis2. This implements both the WSRM submitted spec and up to the version CD4 of the new WSRM 1.1 spec. </Description> <InFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before addressing dispatching --> <order phase='Dispatch' phaseFirst='true'/> </handler> <handler name='MessageContextCorrectionHandler' class='org.apache.sandesha2.handlers.MessageContextCorrectionHandler'> <!-- A handler which handle the duplicate messages --> <order phase='Transport'/> </handler> <handler name='SequenceIDDispatcher' class='org.apache.sandesha2.handlers.SequenceIDDispatcher'> <order phase='Addressing' before='AddressingBasedDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFlow> <OutFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFlow> <InFaultFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before instance dispatching --> <order phase='Dispatch' before='InstanceDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFaultFlow> <OutFaultFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFaultFlow> <operation name='Sandesha2OperationInOnly' mep=' http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping> http://schemas.xmlsoap.org/ws/2005/02/rm/SequenceAcknowledgement </actionMapping> <!-- For interopability purposes. Some WSRM implementations tend to send this as the LastMessage --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/LastMessage </actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping> http://docs.oasis-open.org/ws-rx/wsrm/200702/SequenceAcknowledgement </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/fault </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/AckRequested </actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/TerminateSequence </actionMapping> </operation> <operation name='Sandesha2OperationInOut' mep=' http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/CreateSequence </actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/AckRequested </actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CreateSequence </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CloseSequence </actionMapping> <actionMapping> http://docs.oasis-open.org/ws-rx/wsrm/200702/TerminateSequence </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsmc/200702/MakeConnection </actionMapping> </operation> <operation name='Sandesha2OperationOutOnly' mep=' http://www.w3.org/2006/01/wsdl/out-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationOutIn' mep=' http://www.w3.org/2006/01/wsdl/out-in'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOnly' mep=' http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOut' mep=' http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <supported-policy-namespaces namespaces=' http://ws.apache.org/sandesha2/policy' /> <wsp:Policy xmlns:wsp='http://schemas.xmlsoap.org/ws/2004/09/policy' xmlns:wsu=' http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd ' xmlns:sandesha2='http://ws.apache.org/sandesha2/policy' wsu:Id='RMPolicy'> <sandesha2:RMAssertion> <wsp:Policy> <sandesha2:AcknowledgementInterval>3000</sandesha2:AcknowledgementInterval> <sandesha2:RetransmissionInterval>6000</sandesha2:RetransmissionInterval> <!-- '-1' conveys that there is no limit to the max. number of retransmissions.--> <sandesha2:MaximumRetransmissionCount>10</sandesha2:MaximumRetransmissionCount> <sandesha2:ExponentialBackoff>false</sandesha2:ExponentialBackoff> <sandesha2:InactivityTimeout>60</sandesha2:InactivityTimeout> <sandesha2:InactivityTimeoutMeasure>seconds</sandesha2:InactivityTimeoutMeasure> <!-- Once a sequence has been marked as deleted; or timed out; this is the length of time that the sequence will remain before all sequence state is totally removed --> <sandesha2:SequenceRemovalTimeout>600</sandesha2:SequenceRemovalTimeout> <sandesha2:SequenceRemovalTimeoutMeasure>seconds</sandesha2:SequenceRemovalTimeoutMeasure> <sandesha2:InvokeInOrder>true</sandesha2:InvokeInOrder> <!-- These will not be overriden by service level policies --> <sandesha2:MessageTypesToDrop>none</sandesha2:MessageTypesToDrop> <!-- This will not be overriden by service level policies --> <sandesha2:StorageManagers> <sandesha2:InMemoryStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:InMemoryStorageManager> <sandesha2:PermanentStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:PermanentStorageManager> </sandesha2:StorageManagers> <!-- This will not be overriden by service level policies --> <sandesha2:SecurityManager>org.apache.sandesha2.security.dummy.DummySecurityManager</sandesha2:SecurityManager> <sandesha2:ContextManager>org.apache.sandesha2.context.DummyContextManager</sandesha2:ContextManager> <sandesha2:MakeConnection> <sandesha2:Enabled>true</sandesha2:Enabled> <sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> <!-- <sandesha2:UseMessageSerialization>true</sandesha2:UseMessageSerialization> --> <sandesha2:EnforceRM>false</sandesha2:EnforceRM> </wsp:Policy> </sandesha2:RMAssertion> </wsp:Policy> _x008b_ÛÛ <!-- Parameters that will be copied when creating related MessageContexts --> <parameter name='propertiesToCopyFromReferenceMessage' locked='false'>TransportURL;WSAddressingVersion;disableAddressingForOutMessages;rampartPolicy;RECV_RESULTS;PROXY</parameter> <parameter name='propertiesToCopyFromReferenceRequestMessage' locked='false'>WSAddressingVersion;RECV_RESULTS;rampartPolicy</parameter> </module> ====================================================== Thanks; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 6:11 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744580#action_12744580 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; The default sandesha2-1.3.mar doesn't have the following: <sandesha2:MakeConnection> åÊ åÊ åÊ åÊ <sandesha2:Enabled>true</sandesha2:Enabled> åÊ åÊ åÊ åÊ <sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> as part of it's module.xml.åÊ These have to be set as part of your config. The Sandesha module has been deployed correctly as I can see that it processes the createSeq and tries to send a createSeqResponse. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 16:08 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744539#action_12744539 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; The trace I sent you shows that MakeConn is enabled (see axis2.log). I am using the default modules.xml in the sandesha.mar; which enables MakeConn. As to the services.xml; uncommenting the MakeConn policies has no effect; this is coherent since the modules.xml enables these. By the way; is RMPhase correctly positionned in the axis2 conf in the late documentation ? Can you run the client and the service as I sent them to you successfuly ? Or better yet; can you send me a simple service and client that runs successfullly under WS-RM 1.1åÊ with Axis2 1.4 or 1.5 ? Thanks in advance; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 11:32 AM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744432#action_12744432 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; Your services.xml shows the makeConn enablement commented out; you should try uncommenting this.åÊ I haven't seen your module.xml so can't comment on that.åÊ If you can collect sandesha trace for your service I can get a better idea of what's going on.åÊ It's only an assumption that MakeConnection isn't enabled on your service and that's why you are seeing the behaviour you are. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 08:39 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744399#action_12744399 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; I'll try again; but the commented out code showed me that MakeConn is enabled; as specified in the module.xml policies. Do the client and service taht I sent work for you ? Thanks in advance; Patrice --- On Mon; 8/17/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Monday; August 17; 2009; 6:44 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744128#action_12744128 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; The init method of your service is commented out.åÊ This says that it is used to disable MakeConn but currently the commented out code is setting it to true.åÊ Try enabling this so that when it is called MakeConn will be enabled.åÊ I think your seeing problems because MakeConn isn't enabled on your service. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 15/08/2009 09:12 Subject: [jira] Updated: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ] patrice aubry updated SANDESHA2-197: ------------------------------------ åÊ åÊ Attachment: sandesha-issue.zip Hello Dave; The answer is yes to your questions. To check that v1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client) captured on TcpMon. I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. Thank you very much in advance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message?åÊ Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊKey: SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊåÊåÊProject: Sandesha2 åÊ åÊ åÊ åÊ åÊ Issue Type: Bug åÊ åÊ Affects Versions: 1.3 åÊ åÊ åÊ åÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊ åÊ åÊ åÊ åÊ åÊ Reporter: patrice aubry åÊ åÊ åÊ åÊ åÊ åÊ Priority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1;åÊ the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online.,Hi Patrice; Apologies I thought you were running Axis2 1.3 with Sandesha 1.3. Nevertheless I thought Sandesha 1.3 would work with Axis2 1.4; maybe it doesn't for the RM 1.1 scenario you are trying. You could try moving back to Axis 1.3. Regards Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 19/08/2009 17:43 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745115#action_12745115 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hi Dave; åÊ The axis2.log I sent you was generated in debug mode. I don't know how to give you more than that. If you do; please let me know. åÊ Please answer the following question: Do you have a simple service/client pair that runs under V1_1 with Axis2 1.4 ? åÊ I have suspicion that Sandesha2 does not work well (or at all) in V1_1 mode; at least with Axis2 1.4 åÊ Cheers; Patrice --- On Wed; 8/19/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Wednesday; August 19; 2009; 3:00 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745040#action_12745040 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; My mistake; it is set by default. It all looks like your module.xml is correct. I think we need to get Axis2 & Sandesha trace so that we can see what's going on. I'd expect to see Axis2 register the MC annon EndPoint so that it sees it as an anonymous EndPoint. This obviously isn't happening and i'm not sure why as your setup seems sound. Could you collect this trace. I'd be happy to take a look. Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 19/08/2009 08:41 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744941#action_12744941 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hi Dave; Here's my module.xml pulled straight out of the sandesha2-1.3.mar and it has 1.1 enabled : ====================================== <module name='sandesha2' class='org.apache.sandesha2.SandeshaModule'> <Description> This module implements WS-ReliableMessaging for Axis2. This implements both the WSRM submitted spec and up to the version CD4 of the new WSRM 1.1 spec. </Description> <InFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before addressing dispatching --> <order phase='Dispatch' phaseFirst='true'/> </handler> <handler name='MessageContextCorrectionHandler' class='org.apache.sandesha2.handlers.MessageContextCorrectionHandler'> <!-- A handler which handle the duplicate messages --> <order phase='Transport'/> </handler> <handler name='SequenceIDDispatcher' class='org.apache.sandesha2.handlers.SequenceIDDispatcher'> <order phase='Addressing' before='AddressingBasedDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFlow> <OutFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFlow> <InFaultFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before instance dispatching --> <order phase='Dispatch' before='InstanceDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFaultFlow> <OutFaultFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFaultFlow> <operation name='Sandesha2OperationInOnly' mep=' http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping> http://schemas.xmlsoap.org/ws/2005/02/rm/SequenceAcknowledgement </actionMapping> <!-- For interopability purposes. Some WSRM implementations tend to send this as the LastMessage --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/LastMessage </actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping> http://docs.oasis-open.org/ws-rx/wsrm/200702/SequenceAcknowledgement </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/fault </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/AckRequested </actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/TerminateSequence </actionMapping> </operation> <operation name='Sandesha2OperationInOut' mep=' http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/CreateSequence </actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/AckRequested </actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CreateSequence </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CloseSequence </actionMapping> <actionMapping> http://docs.oasis-open.org/ws-rx/wsrm/200702/TerminateSequence </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsmc/200702/MakeConnection </actionMapping> </operation> <operation name='Sandesha2OperationOutOnly' mep=' http://www.w3.org/2006/01/wsdl/out-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationOutIn' mep=' http://www.w3.org/2006/01/wsdl/out-in'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOnly' mep=' http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOut' mep=' http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <supported-policy-namespaces namespaces=' http://ws.apache.org/sandesha2/policy' /> <wsp:Policy xmlns:wsp='http://schemas.xmlsoap.org/ws/2004/09/policy' xmlns:wsu=' http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd ' xmlns:sandesha2='http://ws.apache.org/sandesha2/policy' wsu:Id='RMPolicy'> <sandesha2:RMAssertion> <wsp:Policy> <sandesha2:AcknowledgementInterval>3000</sandesha2:AcknowledgementInterval> <sandesha2:RetransmissionInterval>6000</sandesha2:RetransmissionInterval> <!-- '-1' conveys that there is no limit to the max. number of retransmissions.--> <sandesha2:MaximumRetransmissionCount>10</sandesha2:MaximumRetransmissionCount> <sandesha2:ExponentialBackoff>false</sandesha2:ExponentialBackoff> <sandesha2:InactivityTimeout>60</sandesha2:InactivityTimeout> <sandesha2:InactivityTimeoutMeasure>seconds</sandesha2:InactivityTimeoutMeasure> <!-- Once a sequence has been marked as deleted; or timed out; this is the length of time that the sequence will remain before all sequence state is totally removed --> <sandesha2:SequenceRemovalTimeout>600</sandesha2:SequenceRemovalTimeout> <sandesha2:SequenceRemovalTimeoutMeasure>seconds</sandesha2:SequenceRemovalTimeoutMeasure> <sandesha2:InvokeInOrder>true</sandesha2:InvokeInOrder> <!-- These will not be overriden by service level policies --> <sandesha2:MessageTypesToDrop>none</sandesha2:MessageTypesToDrop> <!-- This will not be overriden by service level policies --> <sandesha2:StorageManagers> <sandesha2:InMemoryStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:InMemoryStorageManager> <sandesha2:PermanentStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:PermanentStorageManager> </sandesha2:StorageManagers> <!-- This will not be overriden by service level policies --> <sandesha2:SecurityManager>org.apache.sandesha2.security.dummy.DummySecurityManager</sandesha2:SecurityManager> <sandesha2:ContextManager>org.apache.sandesha2.context.DummyContextManager</sandesha2:ContextManager> <sandesha2:MakeConnection> <sandesha2:Enabled>true</sandesha2:Enabled> <sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> <!-- <sandesha2:UseMessageSerialization>true</sandesha2:UseMessageSerialization> --> <sandesha2:EnforceRM>false</sandesha2:EnforceRM> </wsp:Policy> </sandesha2:RMAssertion> </wsp:Policy> _x008b_ÛÛ <!-- Parameters that will be copied when creating related MessageContexts --> <parameter name='propertiesToCopyFromReferenceMessage' locked='false'>TransportURL;WSAddressingVersion;disableAddressingForOutMessages;rampartPolicy;RECV_RESULTS;PROXY</parameter> <parameter name='propertiesToCopyFromReferenceRequestMessage' locked='false'>WSAddressingVersion;RECV_RESULTS;rampartPolicy</parameter> </module> ====================================================== Thanks; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 6:11 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744580#action_12744580 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; The default sandesha2-1.3.mar doesn't have the following: <sandesha2:MakeConnection> åÊåÊåÊåÊåÊåÊåÊåÊ<sandesha2:Enabled>true</sandesha2:Enabled> åÊåÊåÊåÊåÊåÊåÊåÊ<sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> as part of it's module.xml. These have to be set as part of your config. The Sandesha module has been deployed correctly as I can see that it processes the createSeq and tries to send a createSeqResponse. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 16:08 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744539#action_12744539 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; The trace I sent you shows that MakeConn is enabled (see axis2.log). I am using the default modules.xml in the sandesha.mar; which enables MakeConn. As to the services.xml; uncommenting the MakeConn policies has no effect; this is coherent since the modules.xml enables these. By the way; is RMPhase correctly positionned in the axis2 conf in the late documentation ? Can you run the client and the service as I sent them to you successfuly ? Or better yet; can you send me a simple service and client that runs successfullly under WS-RM 1.1 with Axis2 1.4 or 1.5 ? Thanks in advance; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 11:32 AM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744432#action_12744432 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; Your services.xml shows the makeConn enablement commented out; you should try uncommenting this. I haven't seen your module.xml so can't comment on that. If you can collect sandesha trace for your service I can get a better idea of what's going on. It's only an assumption that MakeConnection isn't enabled on your service and that's why you are seeing the behaviour you are. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 08:39 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744399#action_12744399 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; I'll try again; but the commented out code showed me that MakeConn is enabled; as specified in the module.xml policies. Do the client and service taht I sent work for you ? Thanks in advance; Patrice --- On Mon; 8/17/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Monday; August 17; 2009; 6:44 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744128#action_12744128 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; The init method of your service is commented out. This says that it is used to disable MakeConn but currently the commented out code is setting it to true. Try enabling this so that when it is called MakeConn will be enabled. I think your seeing problems because MakeConn isn't enabled on your service. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 15/08/2009 09:12 Subject: [jira] Updated: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ] patrice aubry updated SANDESHA2-197: ------------------------------------ åÊåÊåÊåÊAttachment: sandesha-issue.zip Hello Dave; The answer is yes to your questions. To check that v1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client) captured on TcpMon. I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. Thank you very much in advance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message? Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊKey: SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊProject: Sandesha2 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊIssue Type: Bug åÊåÊåÊåÊAffects Versions: 1.3 åÊåÊåÊåÊåÊåÊåÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊReporter: patrice aubry åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊPriority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1; the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU,Hi Dave; åÊ The axis2.log I sent you was generated in debug mode. I don't know how to give you more than that. If you do; please let me know. åÊ Please answer the following question: Do you have a simple service/client pair that runs under V1_1åÊ with Axis2 1.4 ? åÊ I have suspicion that Sandesha2 does not work well (or at all)åÊ in V1_1 mode; at least with Axis2 1.4 åÊ Cheers; Patrice --- On Wed; 8/19/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Wednesday; August 19; 2009; 3:00 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12745040#action_12745040 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; My mistake; it is set by default.åÊ It all looks like your module.xml is correct.åÊ I think we need to get Axis2 & Sandesha trace so that we can see what's going on.åÊ I'd expect to see Axis2 register the MC annon EndPoint so that it sees it as an anonymous EndPoint.åÊ This obviously isn't happening and i'm not sure why as your setup seems sound. Could you collect this trace.åÊ I'd be happy to take a look. Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 19/08/2009 08:41 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744941#action_12744941 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hi Dave; Here's my module.xml pulled straight out of the sandesha2-1.3.maråÊ and it has 1.1 enabled : ====================================== <module name='sandesha2' class='org.apache.sandesha2.SandeshaModule'> <Description> This module implements WS-ReliableMessaging for Axis2. This implements both the WSRM submitted spec and up to the version CD4 of the new WSRM 1.1 spec. </Description> <InFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before addressing dispatching --> <order phase='Dispatch' phaseFirst='true'/> </handler> <handler name='MessageContextCorrectionHandler' class='org.apache.sandesha2.handlers.MessageContextCorrectionHandler'> <!-- A handler which handle the duplicate messages --> <order phase='Transport'/> </handler> <handler name='SequenceIDDispatcher' class='org.apache.sandesha2.handlers.SequenceIDDispatcher'> <order phase='Addressing' before='AddressingBasedDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFlow> <OutFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFlow> <InFaultFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before instance dispatching --> <order phase='Dispatch' before='InstanceDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFaultFlow> <OutFaultFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFaultFlow> <operation name='Sandesha2OperationInOnly' mep=' http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping> http://schemas.xmlsoap.org/ws/2005/02/rm/SequenceAcknowledgement </actionMapping> <!-- For interopability purposes. Some WSRM implementations tend to send this as the LastMessage --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/LastMessage </actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping> http://docs.oasis-open.org/ws-rx/wsrm/200702/SequenceAcknowledgement </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/fault </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/AckRequested </actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/TerminateSequence </actionMapping> </operation> <operation name='Sandesha2OperationInOut' mep=' http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/CreateSequence </actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/AckRequested </actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CreateSequence </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CloseSequence </actionMapping> <actionMapping> http://docs.oasis-open.org/ws-rx/wsrm/200702/TerminateSequence </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsmc/200702/MakeConnection </actionMapping> </operation> <operation name='Sandesha2OperationOutOnly' mep=' http://www.w3.org/2006/01/wsdl/out-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationOutIn' mep=' http://www.w3.org/2006/01/wsdl/out-in'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOnly' mep=' http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOut' mep=' http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <supported-policy-namespaces namespaces=' http://ws.apache.org/sandesha2/policy' /> <wsp:Policy xmlns:wsp='http://schemas.xmlsoap.org/ws/2004/09/policy' xmlns:wsu=' http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd ' xmlns:sandesha2='http://ws.apache.org/sandesha2/policy' wsu:Id='RMPolicy'> <sandesha2:RMAssertion> <wsp:Policy> <sandesha2:AcknowledgementInterval>3000</sandesha2:AcknowledgementInterval> <sandesha2:RetransmissionInterval>6000</sandesha2:RetransmissionInterval> <!-- '-1' conveys that there is no limit to the max. number of retransmissions.--> <sandesha2:MaximumRetransmissionCount>10</sandesha2:MaximumRetransmissionCount> <sandesha2:ExponentialBackoff>false</sandesha2:ExponentialBackoff> <sandesha2:InactivityTimeout>60</sandesha2:InactivityTimeout> <sandesha2:InactivityTimeoutMeasure>seconds</sandesha2:InactivityTimeoutMeasure> <!-- Once a sequence has been marked as deleted; or timed out; this is the length of time that the sequence will remain before all sequence state is totally removed --> <sandesha2:SequenceRemovalTimeout>600</sandesha2:SequenceRemovalTimeout> <sandesha2:SequenceRemovalTimeoutMeasure>seconds</sandesha2:SequenceRemovalTimeoutMeasure> <sandesha2:InvokeInOrder>true</sandesha2:InvokeInOrder> <!-- These will not be overriden by service level policies --> <sandesha2:MessageTypesToDrop>none</sandesha2:MessageTypesToDrop> <!-- This will not be overriden by service level policies --> <sandesha2:StorageManagers> <sandesha2:InMemoryStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:InMemoryStorageManager> <sandesha2:PermanentStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:PermanentStorageManager> </sandesha2:StorageManagers> <!-- This will not be overriden by service level policies --> <sandesha2:SecurityManager>org.apache.sandesha2.security.dummy.DummySecurityManager</sandesha2:SecurityManager> <sandesha2:ContextManager>org.apache.sandesha2.context.DummyContextManager</sandesha2:ContextManager> <sandesha2:MakeConnection> <sandesha2:Enabled>true</sandesha2:Enabled> <sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> <!-- <sandesha2:UseMessageSerialization>true</sandesha2:UseMessageSerialization> --> <sandesha2:EnforceRM>false</sandesha2:EnforceRM> </wsp:Policy> </sandesha2:RMAssertion> </wsp:Policy> _x008b_ÛÛ <!-- Parameters that will be copied when creating related MessageContexts --> <parameter name='propertiesToCopyFromReferenceMessage' locked='false'>TransportURL;WSAddressingVersion;disableAddressingForOutMessages;rampartPolicy;RECV_RESULTS;PROXY</parameter> <parameter name='propertiesToCopyFromReferenceRequestMessage' locked='false'>WSAddressingVersion;RECV_RESULTS;rampartPolicy</parameter> </module> ====================================================== Thanks; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 6:11 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744580#action_12744580 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; The default sandesha2-1.3.mar doesn't have the following: <sandesha2:MakeConnection> åÊ åÊ åÊ åÊ <sandesha2:Enabled>true</sandesha2:Enabled> åÊ åÊ åÊ åÊ <sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> as part of it's module.xml.åÊ These have to be set as part of your config. The Sandesha module has been deployed correctly as I can see that it processes the createSeq and tries to send a createSeqResponse. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 16:08 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744539#action_12744539 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; The trace I sent you shows that MakeConn is enabled (see axis2.log). I am using the default modules.xml in the sandesha.mar; which enables MakeConn. As to the services.xml; uncommenting the MakeConn policies has no effect; this is coherent since the modules.xml enables these. By the way; is RMPhase correctly positionned in the axis2 conf in the late documentation ? Can you run the client and the service as I sent them to you successfuly ? Or better yet; can you send me a simple service and client that runs successfullly under WS-RM 1.1åÊ with Axis2 1.4 or 1.5 ? Thanks in advance; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 11:32 AM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744432#action_12744432 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; Your services.xml shows the makeConn enablement commented out; you should try uncommenting this.åÊ I haven't seen your module.xml so can't comment on that.åÊ If you can collect sandesha trace for your service I can get a better idea of what's going on.åÊ It's only an assumption that MakeConnection isn't enabled on your service and that's why you are seeing the behaviour you are. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 08:39 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744399#action_12744399 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; I'll try again; but the commented out code showed me that MakeConn is enabled; as specified in the module.xml policies. Do the client and service taht I sent work for you ? Thanks in advance; Patrice --- On Mon; 8/17/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Monday; August 17; 2009; 6:44 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744128#action_12744128 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; The init method of your service is commented out.åÊ This says that it is used to disable MakeConn but currently the commented out code is setting it to true.åÊ Try enabling this so that when it is called MakeConn will be enabled.åÊ I think your seeing problems because MakeConn isn't enabled on your service. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 15/08/2009 09:12 Subject: [jira] Updated: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ] patrice aubry updated SANDESHA2-197: ------------------------------------ åÊ åÊ Attachment: sandesha-issue.zip Hello Dave; The answer is yes to your questions. To check that v1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client) captured on TcpMon. I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. Thank you very much in advance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message?åÊ Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊKey: SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊåÊåÊProject: Sandesha2 åÊ åÊ åÊ åÊ åÊ Issue Type: Bug åÊ åÊ Affects Versions: 1.3 åÊ åÊ åÊ åÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊ åÊ åÊ åÊ åÊ åÊ Reporter: patrice aubry åÊ åÊ åÊ åÊ åÊ åÊ Priority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1;åÊ the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online.,Hi Patrice; My mistake; it is set by default. It all looks like your module.xml is correct. I think we need to get Axis2 & Sandesha trace so that we can see what's going on. I'd expect to see Axis2 register the MC annon EndPoint so that it sees it as an anonymous EndPoint. This obviously isn't happening and i'm not sure why as your setup seems sound. Could you collect this trace. I'd be happy to take a look. Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 19/08/2009 08:41 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744941#action_12744941 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hi Dave; åÊ Here's my module.xml pulled straight out of the sandesha2-1.3.mar and it has 1.1 enabled : åÊ ====================================== <module name='sandesha2' class='org.apache.sandesha2.SandeshaModule'> <Description> This module implements WS-ReliableMessaging for Axis2. This implements both the WSRM submitted spec and up to the version CD4 of the new WSRM 1.1 spec. </Description> <InFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before addressing dispatching --> <order phase='Dispatch' phaseFirst='true'/> </handler> <handler name='MessageContextCorrectionHandler' class='org.apache.sandesha2.handlers.MessageContextCorrectionHandler'> <!-- A handler which handle the duplicate messages --> <order phase='Transport'/> </handler> <handler name='SequenceIDDispatcher' class='org.apache.sandesha2.handlers.SequenceIDDispatcher'> <order phase='Addressing' before='AddressingBasedDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFlow> <OutFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFlow> <InFaultFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before instance dispatching --> <order phase='Dispatch' before='InstanceDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFaultFlow> <OutFaultFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFaultFlow> <operation name='Sandesha2OperationInOnly' mep=' http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping> http://schemas.xmlsoap.org/ws/2005/02/rm/SequenceAcknowledgement </actionMapping> <!-- For interopability purposes. Some WSRM implementations tend to send this as the LastMessage --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/LastMessage </actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping> http://docs.oasis-open.org/ws-rx/wsrm/200702/SequenceAcknowledgement </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/fault </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/AckRequested </actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/TerminateSequence </actionMapping> </operation> <operation name='Sandesha2OperationInOut' mep=' http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/CreateSequence </actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/AckRequested </actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CreateSequence </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CloseSequence </actionMapping> <actionMapping> http://docs.oasis-open.org/ws-rx/wsrm/200702/TerminateSequence </actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsmc/200702/MakeConnection </actionMapping> </operation> <operation name='Sandesha2OperationOutOnly' mep=' http://www.w3.org/2006/01/wsdl/out-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationOutIn' mep=' http://www.w3.org/2006/01/wsdl/out-in'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOnly' mep=' http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOut' mep=' http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <supported-policy-namespaces namespaces=' http://ws.apache.org/sandesha2/policy' /> <wsp:Policy xmlns:wsp='http://schemas.xmlsoap.org/ws/2004/09/policy' xmlns:wsu=' http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd ' xmlns:sandesha2='http://ws.apache.org/sandesha2/policy' wsu:Id='RMPolicy'> <sandesha2:RMAssertion> <wsp:Policy> <sandesha2:AcknowledgementInterval>3000</sandesha2:AcknowledgementInterval> <sandesha2:RetransmissionInterval>6000</sandesha2:RetransmissionInterval> <!-- '-1' conveys that there is no limit to the max. number of retransmissions.--> <sandesha2:MaximumRetransmissionCount>10</sandesha2:MaximumRetransmissionCount> <sandesha2:ExponentialBackoff>false</sandesha2:ExponentialBackoff> <sandesha2:InactivityTimeout>60</sandesha2:InactivityTimeout> <sandesha2:InactivityTimeoutMeasure>seconds</sandesha2:InactivityTimeoutMeasure> <!-- Once a sequence has been marked as deleted; or timed out; this is the length of time that the sequence will remain before all sequence state is totally removed --> <sandesha2:SequenceRemovalTimeout>600</sandesha2:SequenceRemovalTimeout> <sandesha2:SequenceRemovalTimeoutMeasure>seconds</sandesha2:SequenceRemovalTimeoutMeasure> <sandesha2:InvokeInOrder>true</sandesha2:InvokeInOrder> <!-- These will not be overriden by service level policies --> <sandesha2:MessageTypesToDrop>none</sandesha2:MessageTypesToDrop> <!-- This will not be overriden by service level policies --> <sandesha2:StorageManagers> <sandesha2:InMemoryStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:InMemoryStorageManager> <sandesha2:PermanentStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:PermanentStorageManager> </sandesha2:StorageManagers> <!-- This will not be overriden by service level policies --> <sandesha2:SecurityManager>org.apache.sandesha2.security.dummy.DummySecurityManager</sandesha2:SecurityManager> <sandesha2:ContextManager>org.apache.sandesha2.context.DummyContextManager</sandesha2:ContextManager> <sandesha2:MakeConnection> <sandesha2:Enabled>true</sandesha2:Enabled> <sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> <!-- <sandesha2:UseMessageSerialization>true</sandesha2:UseMessageSerialization> --> <sandesha2:EnforceRM>false</sandesha2:EnforceRM> </wsp:Policy> </sandesha2:RMAssertion> </wsp:Policy> _x008b_ÛÛ <!-- Parameters that will be copied when creating related MessageContexts --> <parameter name='propertiesToCopyFromReferenceMessage' locked='false'>TransportURL;WSAddressingVersion;disableAddressingForOutMessages;rampartPolicy;RECV_RESULTS;PROXY</parameter> <parameter name='propertiesToCopyFromReferenceRequestMessage' locked='false'>WSAddressingVersion;RECV_RESULTS;rampartPolicy</parameter> </module> ====================================================== åÊ Thanks; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 6:11 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744580#action_12744580 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; The default sandesha2-1.3.mar doesn't have the following: <sandesha2:MakeConnection> åÊåÊåÊåÊåÊåÊåÊåÊ<sandesha2:Enabled>true</sandesha2:Enabled> åÊåÊåÊåÊåÊåÊåÊåÊ<sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> as part of it's module.xml. These have to be set as part of your config. The Sandesha module has been deployed correctly as I can see that it processes the createSeq and tries to send a createSeqResponse. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 16:08 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744539#action_12744539 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; The trace I sent you shows that MakeConn is enabled (see axis2.log). I am using the default modules.xml in the sandesha.mar; which enables MakeConn. As to the services.xml; uncommenting the MakeConn policies has no effect; this is coherent since the modules.xml enables these. By the way; is RMPhase correctly positionned in the axis2 conf in the late documentation ? Can you run the client and the service as I sent them to you successfuly ? Or better yet; can you send me a simple service and client that runs successfullly under WS-RM 1.1 with Axis2 1.4 or 1.5 ? Thanks in advance; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 11:32 AM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744432#action_12744432 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; Your services.xml shows the makeConn enablement commented out; you should try uncommenting this. I haven't seen your module.xml so can't comment on that. If you can collect sandesha trace for your service I can get a better idea of what's going on. It's only an assumption that MakeConnection isn't enabled on your service and that's why you are seeing the behaviour you are. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 08:39 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744399#action_12744399 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; I'll try again; but the commented out code showed me that MakeConn is enabled; as specified in the module.xml policies. Do the client and service taht I sent work for you ? Thanks in advance; Patrice --- On Mon; 8/17/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Monday; August 17; 2009; 6:44 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744128#action_12744128 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; The init method of your service is commented out. This says that it is used to disable MakeConn but currently the commented out code is setting it to true. Try enabling this so that when it is called MakeConn will be enabled. I think your seeing problems because MakeConn isn't enabled on your service. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 15/08/2009 09:12 Subject: [jira] Updated: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ] patrice aubry updated SANDESHA2-197: ------------------------------------ åÊåÊåÊåÊAttachment: sandesha-issue.zip Hello Dave; The answer is yes to your questions. To check that v1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client) captured on TcpMon. I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. Thank you very much in advance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message? Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊKey: SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊProject: Sandesha2 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊIssue Type: Bug åÊåÊåÊåÊAffects Versions: 1.3 åÊåÊåÊåÊåÊåÊåÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊReporter: patrice aubry åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊPriority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1; the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU,Hi Dave; åÊ Here's my module.xml pulled straight out of the sandesha2-1.3.maråÊ and it has 1.1 enabled : åÊ ====================================== <module name='sandesha2' class='org.apache.sandesha2.SandeshaModule'> <Description> This module implements WS-ReliableMessaging for Axis2. This implements both the WSRM submitted spec and up to the version CD4 of the new WSRM 1.1 spec. </Description> <InFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before addressing dispatching --> <order phase='Dispatch' phaseFirst='true'/> </handler> <handler name='MessageContextCorrectionHandler' class='org.apache.sandesha2.handlers.MessageContextCorrectionHandler'> <!-- A handler which handle the duplicate messages --> <order phase='Transport'/> </handler> <handler name='SequenceIDDispatcher' class='org.apache.sandesha2.handlers.SequenceIDDispatcher'> <order phase='Addressing' before='AddressingBasedDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFlow> <OutFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFlow> <InFaultFlow> <handler name='SandeshaGlobalInHandler' class='org.apache.sandesha2.handlers.SandeshaGlobalInHandler'> <!-- Global In handler should come before instance dispatching --> <order phase='Dispatch' before='InstanceDispatcher' /> </handler> <handler name='SandeshaInHandler' class='org.apache.sandesha2.handlers.SandeshaInHandler'> <order phase='RMPhase'/> </handler> </InFaultFlow> <OutFaultFlow> <handler name='SandeshaOutHandler' class='org.apache.sandesha2.handlers.SandeshaOutHandler'> <order phase='RMPhase'/> </handler> </OutFaultFlow> <operation name='Sandesha2OperationInOnly' mep='http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/SequenceAcknowledgement&lt;/actionMapping> <!-- For interopability purposes. Some WSRM implementations tend to send this as the LastMessage --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/LastMessage&lt;/actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/SequenceAcknowledgement&lt;/actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/fault&lt;/actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/AckRequested&lt;/actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/TerminateSequence&lt;/actionMapping> </operation> <operation name='Sandesha2OperationInOut' mep='http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> <!-- namespaces for the 2005-02 spec --> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/CreateSequence&lt;/actionMapping> <actionMapping>http://schemas.xmlsoap.org/ws/2005/02/rm/AckRequested&lt;/actionMapping> <!-- namespaces for the 2007-02 spec --> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CreateSequence&lt;/actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/CloseSequence&lt;/actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsrm/200702/TerminateSequence&lt;/actionMapping> <actionMapping>http://docs.oasis-open.org/ws-rx/wsmc/200702/MakeConnection&lt;/actionMapping> </operation> <operation name='Sandesha2OperationOutOnly' mep='http://www.w3.org/2006/01/wsdl/out-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationOutIn' mep='http://www.w3.org/2006/01/wsdl/out-in'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOnly' mep='http://www.w3.org/2006/01/wsdl/in-only'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <operation name='Sandesha2OperationDuplicateInOut' mep='http://www.w3.org/2006/01/wsdl/in-out'> <messageReceiver class='org.apache.sandesha2.msgreceivers.RMMessageReceiver'/> </operation> <supported-policy-namespaces namespaces='http://ws.apache.org/sandesha2/policy' /> <wsp:Policy xmlns:wsp='http://schemas.xmlsoap.org/ws/2004/09/policy' xmlns:wsu='http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd' xmlns:sandesha2='http://ws.apache.org/sandesha2/policy' wsu:Id='RMPolicy'> <sandesha2:RMAssertion> <wsp:Policy> <sandesha2:AcknowledgementInterval>3000</sandesha2:AcknowledgementInterval> <sandesha2:RetransmissionInterval>6000</sandesha2:RetransmissionInterval> <!-- '-1' conveys that there is no limit to the max. number of retransmissions.--> <sandesha2:MaximumRetransmissionCount>10</sandesha2:MaximumRetransmissionCount> <sandesha2:ExponentialBackoff>false</sandesha2:ExponentialBackoff> <sandesha2:InactivityTimeout>60</sandesha2:InactivityTimeout> <sandesha2:InactivityTimeoutMeasure>seconds</sandesha2:InactivityTimeoutMeasure> <!-- Once a sequence has been marked as deleted; or timed out; this is the length of time that the sequence will remain before all sequence state is totally removed --> <sandesha2:SequenceRemovalTimeout>600</sandesha2:SequenceRemovalTimeout> <sandesha2:SequenceRemovalTimeoutMeasure>seconds</sandesha2:SequenceRemovalTimeoutMeasure> <sandesha2:InvokeInOrder>true</sandesha2:InvokeInOrder> <!-- These will not be overriden by service level policies --> <sandesha2:MessageTypesToDrop>none</sandesha2:MessageTypesToDrop> <!-- This will not be overriden by service level policies --> <sandesha2:StorageManagers> <sandesha2:InMemoryStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:InMemoryStorageManager> <sandesha2:PermanentStorageManager> org.apache.sandesha2.storage.inmemory.InMemoryStorageManager </sandesha2:PermanentStorageManager> </sandesha2:StorageManagers> <!-- This will not be overriden by service level policies --> <sandesha2:SecurityManager>org.apache.sandesha2.security.dummy.DummySecurityManager</sandesha2:SecurityManager> <sandesha2:ContextManager>org.apache.sandesha2.context.DummyContextManager</sandesha2:ContextManager> <sandesha2:MakeConnection> <sandesha2:Enabled>true</sandesha2:Enabled> <sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> <!-- <sandesha2:UseMessageSerialization>true</sandesha2:UseMessageSerialization> --> <sandesha2:EnforceRM>false</sandesha2:EnforceRM> </wsp:Policy> </sandesha2:RMAssertion> </wsp:Policy> _x008b_ÛÛ <!-- Parameters that will be copied when creating related MessageContexts --> <parameter name='propertiesToCopyFromReferenceMessage' locked='false'>TransportURL;WSAddressingVersion;disableAddressingForOutMessages;rampartPolicy;RECV_RESULTS;PROXY</parameter> <parameter name='propertiesToCopyFromReferenceRequestMessage' locked='false'>WSAddressingVersion;RECV_RESULTS;rampartPolicy</parameter> </module> ====================================================== åÊ Thanks; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 6:11 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744580#action_12744580 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; The default sandesha2-1.3.mar doesn't have the following: <sandesha2:MakeConnection> åÊ åÊ åÊ åÊ <sandesha2:Enabled>true</sandesha2:Enabled> åÊ åÊ åÊ åÊ <sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> as part of it's module.xml.åÊ These have to be set as part of your config. The Sandesha module has been deployed correctly as I can see that it processes the createSeq and tries to send a createSeqResponse. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 16:08 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744539#action_12744539 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; The trace I sent you shows that MakeConn is enabled (see axis2.log). I am using the default modules.xml in the sandesha.mar; which enables MakeConn. As to the services.xml; uncommenting the MakeConn policies has no effect; this is coherent since the modules.xml enables these. By the way; is RMPhase correctly positionned in the axis2 conf in the late documentation ? Can you run the client and the service as I sent them to you successfuly ? Or better yet; can you send me a simple service and client that runs successfullly under WS-RM 1.1åÊ with Axis2 1.4 or 1.5 ? Thanks in advance; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 11:32 AM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744432#action_12744432 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; Your services.xml shows the makeConn enablement commented out; you should try uncommenting this.åÊ I haven't seen your module.xml so can't comment on that.åÊ If you can collect sandesha trace for your service I can get a better idea of what's going on.åÊ It's only an assumption that MakeConnection isn't enabled on your service and that's why you are seeing the behaviour you are. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 08:39 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744399#action_12744399 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; I'll try again; but the commented out code showed me that MakeConn is enabled; as specified in the module.xml policies. Do the client and service taht I sent work for you ? Thanks in advance; Patrice --- On Mon; 8/17/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Monday; August 17; 2009; 6:44 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744128#action_12744128 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; The init method of your service is commented out.åÊ This says that it is used to disable MakeConn but currently the commented out code is setting it to true.åÊ Try enabling this so that when it is called MakeConn will be enabled.åÊ I think your seeing problems because MakeConn isn't enabled on your service. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 15/08/2009 09:12 Subject: [jira] Updated: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ] patrice aubry updated SANDESHA2-197: ------------------------------------ åÊ åÊ Attachment: sandesha-issue.zip Hello Dave; The answer is yes to your questions. To check that v1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client) captured on TcpMon. I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. Thank you very much in advance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message?åÊ Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊKey: SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊåÊåÊProject: Sandesha2 åÊ åÊ åÊ åÊ åÊ Issue Type: Bug åÊ åÊ Affects Versions: 1.3 åÊ åÊ åÊ åÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊ åÊ åÊ åÊ åÊ åÊ Reporter: patrice aubry åÊ åÊ åÊ åÊ åÊ åÊ Priority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1;åÊ the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online.,Hi; The default sandesha2-1.3.mar doesn't have the following: <sandesha2:MakeConnection> åÊåÊåÊåÊåÊåÊåÊåÊ<sandesha2:Enabled>true</sandesha2:Enabled> åÊåÊåÊåÊåÊåÊåÊåÊ<sandesha2:UseRMAnonURI>true</sandesha2:UseRMAnonURI> </sandesha2:MakeConnection> as part of it's module.xml. These have to be set as part of your config. The Sandesha module has been deployed correctly as I can see that it processes the createSeq and tries to send a createSeqResponse. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 16:08 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744539#action_12744539 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; The trace I sent you shows that MakeConn is enabled (see axis2.log). I am using the default modules.xml in the sandesha.mar; which enables MakeConn. As to the services.xml; uncommenting the MakeConn policies has no effect; this is coherent since the modules.xml enables these. By the way; is RMPhase correctly positionned in the axis2 conf in the late documentation ? Can you run the client and the service as I sent them to you successfuly ? Or better yet; can you send me a simple service and client that runs successfullly under WS-RM 1.1 with Axis2 1.4 or 1.5 ? Thanks in advance; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 11:32 AM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744432#action_12744432 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; Your services.xml shows the makeConn enablement commented out; you should try uncommenting this. I haven't seen your module.xml so can't comment on that. If you can collect sandesha trace for your service I can get a better idea of what's going on. It's only an assumption that MakeConnection isn't enabled on your service and that's why you are seeing the behaviour you are. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 08:39 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744399#action_12744399 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; åÊ I'll try again; but the commented out code showed me that MakeConn is enabled; as specified in the module.xml policies. åÊ Do the client and service taht I sent work for you ? åÊ Thanks in advance; Patrice --- On Mon; 8/17/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Monday; August 17; 2009; 6:44 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744128#action_12744128 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; The init method of your service is commented out. This says that it is used to disable MakeConn but currently the commented out code is setting it to true. Try enabling this so that when it is called MakeConn will be enabled. I think your seeing problems because MakeConn isn't enabled on your service. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 15/08/2009 09:12 Subject: [jira] Updated: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ] patrice aubry updated SANDESHA2-197: ------------------------------------ åÊåÊåÊåÊAttachment: sandesha-issue.zip Hello Dave; The answer is yes to your questions. To check that v1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client) captured on TcpMon. I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. Thank you very much in advance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message? Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊKey: SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊProject: Sandesha2 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊIssue Type: Bug åÊåÊåÊåÊAffects Versions: 1.3 åÊåÊåÊåÊåÊåÊåÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊReporter: patrice aubry åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊPriority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1; the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU,Hello Dave; The trace I sent you shows that MakeConn is enabled (see axis2.log). I am using the default modules.xml in the sandesha.mar; which enables MakeConn. As to the services.xml; uncommenting the MakeConn policies has no effect; this is coherent since the modules.xml enables these. By the way; is RMPhase correctly positionned in the axis2 conf in the late documentation ? Can you run the client and the service as I sent them to you successfuly ? Or better yet; can you send me a simple service and client that runs successfullly under WS-RM 1.1åÊ with Axis2 1.4 or 1.5 ? Thanks in advance; Patrice --- On Tue; 8/18/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Tuesday; August 18; 2009; 11:32 AM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744432#action_12744432 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi; Your services.xml shows the makeConn enablement commented out; you should try uncommenting this.åÊ I haven't seen your module.xml so can't comment on that.åÊ If you can collect sandesha trace for your service I can get a better idea of what's going on.åÊ It's only an assumption that MakeConnection isn't enabled on your service and that's why you are seeing the behaviour you are. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 08:39 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744399#action_12744399 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; åÊ I'll try again; but the commented out code showed me that MakeConn is enabled; as specified in the module.xml policies. åÊ Do the client and service taht I sent work for you ? åÊ Thanks in advance; Patrice --- On Mon; 8/17/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Monday; August 17; 2009; 6:44 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744128#action_12744128 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; The init method of your service is commented out.åÊ This says that it is used to disable MakeConn but currently the commented out code is setting it to true.åÊ Try enabling this so that when it is called MakeConn will be enabled.åÊ I think your seeing problems because MakeConn isn't enabled on your service. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 15/08/2009 09:12 Subject: [jira] Updated: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ] patrice aubry updated SANDESHA2-197: ------------------------------------ åÊ åÊ Attachment: sandesha-issue.zip Hello Dave; The answer is yes to your questions. To check that v1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client) captured on TcpMon. I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. Thank you very much in advance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message?åÊ Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊKey: SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊåÊåÊProject: Sandesha2 åÊ åÊ åÊ åÊ åÊ Issue Type: Bug åÊ åÊ Affects Versions: 1.3 åÊ åÊ åÊ åÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊ åÊ åÊ åÊ åÊ åÊ Reporter: patrice aubry åÊ åÊ åÊ åÊ åÊ åÊ Priority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1;åÊ the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online.,Hi; Your services.xml shows the makeConn enablement commented out; you should try uncommenting this. I haven't seen your module.xml so can't comment on that. If you can collect sandesha trace for your service I can get a better idea of what's going on. It's only an assumption that MakeConnection isn't enabled on your service and that's why you are seeing the behaviour you are. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 18/08/2009 08:39 Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744399#action_12744399 ] patrice aubry commented on SANDESHA2-197: ----------------------------------------- Hello Dave; åÊ I'll try again; but the commented out code showed me that MakeConn is enabled; as specified in the module.xml policies. åÊ Do the client and service taht I sent work for you ? åÊ Thanks in advance; Patrice --- On Mon; 8/17/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Monday; August 17; 2009; 6:44 PM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744128#action_12744128 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; The init method of your service is commented out. This says that it is used to disable MakeConn but currently the commented out code is setting it to true. Try enabling this so that when it is called MakeConn will be enabled. I think your seeing problems because MakeConn isn't enabled on your service. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 15/08/2009 09:12 Subject: [jira] Updated: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ] patrice aubry updated SANDESHA2-197: ------------------------------------ åÊåÊåÊåÊAttachment: sandesha-issue.zip Hello Dave; The answer is yes to your questions. To check that v1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client) captured on TcpMon. I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. Thank you very much in advance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message? Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊKey: SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊProject: Sandesha2 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊIssue Type: Bug åÊåÊåÊåÊAffects Versions: 1.3 åÊåÊåÊåÊåÊåÊåÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊReporter: patrice aubry åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊPriority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1; the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU,Hello Dave; The init methodåÊ is only printing out the status of the MakeConn policy. I added this code to check that the policy values;åÊ and they are correct. This bit of code is not necessary; the policies are specified in modules.xml. I agree the problem is that somewhere this policy is not being respected; but where. I will be useful to see if you can get this service working on your platform. Thanks; Patrice --- On Mon; 8/17/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: åÊpnaubry@yahoo.com Date: Monday; August 17; 2009; 6:44 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744128#action_12744128 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; The init method of your service is commented out.åÊ This says that it is used to disable MakeConn but currently the commented out code is setting it to true.åÊ Try enabling this so that when it is called MakeConn will be enabled.åÊ I think your seeing problems because MakeConn isn't enabled on your åÊservice. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 15/08/2009 09:12 Subject: [jira] Updated: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ] patrice aubry updated SANDESHA2-197: ------------------------------------ åÊ åÊ Attachment: sandesha-issue.zip Hello Dave; åÊ The answer is yes to your questions. åÊ To check that v1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. åÊ I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client) captured on TcpMon. åÊ I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. åÊ Thank you very much in åÊadvance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message?åÊ Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊ åÊ åÊ åÊåÊ åÊ åÊ åÊ åÊåÊåÊKey: SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊåÊåÊProject: Sandesha2 åÊ åÊ åÊ åÊ åÊ Issue Type: Bug åÊ åÊ Affects Versions: 1.3 åÊ åÊ åÊ åÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊ åÊ åÊ åÊ åÊ åÊ Reporter: patrice aubry åÊ åÊ åÊ åÊ åÊ åÊ Priority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1;åÊ the anonymous replyTo is not understood as such and is treated as an actual åÊURL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise åÊabove: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU åÊSANDESHA2-197 åÊunderstood as such and is treated as an actual URL. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online.,Hello Dave; åÊ I'll try again; but the commented out code showed me that MakeConn is enabled; as specified in the module.xml policies. åÊ Do the client and service taht I sent work for you ? åÊ Thanks in advance; Patrice --- On Mon; 8/17/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Monday; August 17; 2009; 6:44 PM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12744128#action_12744128 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; The init method of your service is commented out.åÊ This says that it is used to disable MakeConn but currently the commented out code is setting it to true.åÊ Try enabling this so that when it is called MakeConn will be enabled.åÊ I think your seeing problems because MakeConn isn't enabled on your service. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 15/08/2009 09:12 Subject: [jira] Updated: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊ åÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ] patrice aubry updated SANDESHA2-197: ------------------------------------ åÊ åÊ Attachment: sandesha-issue.zip Hello Dave; The answer is yes to your questions. To check that v1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client) captured on TcpMon. I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. Thank you very much in advance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message?åÊ Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊKey: SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊåÊåÊProject: Sandesha2 åÊ åÊ åÊ åÊ åÊ Issue Type: Bug åÊ åÊ Affects Versions: 1.3 åÊ åÊ åÊ åÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊ åÊ åÊ åÊ åÊ åÊ Reporter: patrice aubry åÊ åÊ åÊ åÊ åÊ åÊ Priority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1;åÊ the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online.,Hi Patrice; The init method of your service is commented out. This says that it is used to disable MakeConn but currently the commented out code is setting it to true. Try enabling this so that when it is called MakeConn will be enabled. I think your seeing problems because MakeConn isn't enabled on your service. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 15/08/2009 09:12 Subject: [jira] Updated: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? åÊåÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ] patrice aubry updated SANDESHA2-197: ------------------------------------ åÊåÊåÊåÊAttachment: sandesha-issue.zip Hello Dave; åÊ The answer is yes to your questions. åÊ To check that v1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. åÊ I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client) captured on TcpMon. åÊ I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. åÊ Thank you very much in advance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊåÊåÊåÊ[ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message? Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊKey: SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊProject: Sandesha2 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊIssue Type: Bug åÊåÊåÊåÊAffects Versions: 1.3 åÊåÊåÊåÊåÊåÊåÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊReporter: patrice aubry åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊPriority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1; the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- a few updates) in W-RM 1.0 but not for WS-RM 1.1. and is treated as an actual URL. received; with an UnknownHostException. place. -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU,Hello Dave; åÊ The answer is yes to your questions. åÊ To check thatåÊv1.1 is engaged on the server side; I just checked the SandshaBean that MakeConnection was enabled and that UseRMAnonURI is true. åÊ I've attached a ZIP file containing the axis2 log; the service and client ; as well as the CreateSequence message (sent from the client)åÊcaptured on TcpMon. åÊ I know that there is an issue with policy loading in Sandesha; but the MakeConnection policy seem to be loaded correctly. åÊ Thank you very much in advance; Patrice --- On Fri; 8/14/09; Dave Parsons (JIRA) <jira@apache.org> wrote: From: Dave Parsons (JIRA) <jira@apache.org> Subject: [jira] Commented: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? To: pnaubry@yahoo.com Date: Friday; August 14; 2009; 11:48 AM åÊ åÊ [ https://issues.apache.org/jira/browse/SANDESHA2-197?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&focusedCommentId=12743154#action_12743154 ] Dave Parsons commented on SANDESHA2-197: ---------------------------------------- Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message?åÊ Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL:åÊ David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL:åÊ ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊKey: SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊ åÊ åÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊ åÊ åÊ åÊ åÊ åÊåÊåÊProject: Sandesha2 åÊ åÊ åÊ åÊ åÊ Issue Type: Bug åÊ åÊ Affects Versions: 1.3 åÊ åÊ åÊ åÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊ åÊ åÊ åÊ åÊ åÊ Reporter: patrice aubry åÊ åÊ åÊ åÊ åÊ åÊ Priority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1;åÊ the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online.,Hi Patrice; Are you saying that the CreateSequenceResponse message is being sent asynchronously to the MC Anonymous address that is set in the replyTo & AcksTo of the createSequence message? Also just to confirm is your client and server both using Sandesha for RM and are they both set at the same version level of 1.1? If you want to send over the trace I can take a look and see if I can see anything out of the ordinary. Regards; Dave Dave Parsons Web Services Development INTERNAL: David Parsons1/UK/IBM@IBMGB :: DE3F20 :: 246930 EXTERNAL: ParsonsD@uk.ibm.com :: (01962) 816930 Mail Point 211; IBM Hursley Park; Winchester. SO21 2JN From: 'patrice aubry (JIRA)' <jira@apache.org> To: sandesha-dev@ws.apache.org Date: 13/08/2009 16:29 Subject: [jira] Created: (SANDESHA2-197) CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? CreateSequence response is actually sent to the anonymous makeconnection url (i.e. http//:docs.oasis-open.org/..... ??? ----------------------------------------------------------------------------------------------------------------------- åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊKey: SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊURL: https://issues.apache.org/jira/browse/SANDESHA2-197 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊProject: Sandesha2 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊIssue Type: Bug åÊåÊåÊåÊAffects Versions: 1.3 åÊåÊåÊåÊåÊåÊåÊåÊåÊEnvironment: Windows XP; Java 1.6; Axis 1.4; Tomcat 6 åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊReporter: patrice aubry åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊPriority: Blocker This may not be a bug. I am testing the samples provided. The syncpingclient works fine (after a few updates) in W-RM 1.0 but not for WS-RM 1.1. When using WS-RM 1.1; the anonymous replyTo is not understood as such and is treated as an actual URL. When a CreateSequence message is sent; the response is of course never received; with an UnknownHostException. The debug log looks fine; in that the correct processing seems to take place. What am I missing ? Your help will be greatly appreciated. Thanks in advance; -- This message is automatically generated by JIRA. - You can reply to this email to add a comment to the issue online. --------------------------------------------------------------------- To unsubscribe; e-mail: sandesha-dev-unsubscribe@ws.apache.org For additional commands; e-mail: sandesha-dev-help@ws.apache.org Unless stated otherwise above: IBM United Kingdom Limited - Registered in England and Wales with number 741598. Registered office: PO Box 41; North Harbour; Portsmouth; Hampshire PO6 3AU,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
11526,,,,,,,,Original reporter is not available. This report has now 'timed out'.,Can you try this again on any 2.2.D-- developer build? The SQL extensions have been greatly improved in the past few builds; credit to johnglinux. Also; downgrade Sev: although this is a major failing as reported; it's still in one of our (at that point) semi-supported extensions; and not in the main Xalan code.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
78211,,,,,,,,Also fixed in main 0.9.7 branch,Also fixed in main 0.9.7 branch,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
10314,,,,,,,,First I want to verify that Gretchen's fix >Additional Comments From Gretchen Chiaramonte 2003-09-22 20:04 ------- for this bug works for me as well using Xalan 2.6.0. Second; regarding: >Additional Comments From Igor Hersht 2003-08-12 22:59 ------- ... >If I recall correctly we had such discussion before. >We consider that as a wrong usage. >The correct method would be to create transformer and >to do multiple transformations like >transformer.transform(xmlSource;outputTarget); >transformer.transform(xmlSource;outputTarget); To help clarify what Gretchen has already implied; I believe that this doesn't complete the story. Xalan currently fails unneccessarily if 'xmlSource' is an XMLFilter chain headed by an XML source The XMLFilter chain should be reusable with only the source is refreshed. But at the end of the TransformerImpl.transformNode() call; the DTMManager is erased by the call to XPathContext.reset() as cited by Gretchen. This manager is what binds the XMLFilter to e.g. its stylesheet. Therefore; until this bug is repaired; the filter chain cannot be reused. That's a shame because I suspect that setting up the filter chain (eg reading the stylesheet from disk) is more work than constructing the transformer. In case it isn't obvious; a workaround re-creates the XMLFilter chain each time is it transformed. I did not find this bug report at first. Sorting out why I was getting a NullPointerException was a lot of work; partly because Xalan is built in to the JDK runtime but the 'endorsed' jar files are stored in common/endorsed under tomcat rather than JDK's endorsed (surprise ;-). In addition; Xalan has another bug in DTMManagerDefault.getDTM() (incorrectly returns the null this thread discusses) and one in TransformerImpl.run() (inappropriate throw calls). I will enter these as new bugs.,Additional debugging info: If I comment out the following line in org.apache.xpath.XPathContext.reset() the problem is resolved as well. åÊåÊåÊåÊm_dtmManager = DTMManager.newInstance( åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊorg.apache.xpath.objects.XMLStringFactoryImpl.getFactory()); There is nothing in the documentation for the DTMManager class which indicates that it should be 'recreated' each time a parse is performed...,Serializer serializer = SerializerFactory.getSerializer( åÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊåÊOutputPropertiesFactory.getDefaultMethodProperties('xml')); ByteArrayOutputStream result = new ByteArrayOutputStream(); serializer.setOutputStream(result); serializer.reset(); After performing the above; any attempt to use serializer results in the same NullPointerException. The reason I believe it is the same error is that when I commented out the m_xcontext.reset(); line in TransformerImpl.reset(); this problem was resolved as well. Sorry it took me so long to respond...for some reason I never got an email when you appended this request...likely because I was out of the office; and had already received one update when the priority was changed...,Gretchen; in your note you said ' ... making an attempt to do a reset() on a Serializer object causes the exact same symptoms.' Can you give a sample testcase for this please? Is this a SerializationHandler object your are writing about; like ToXMLStream ? I have put some code in the family of serializers in org.apache.xml.serializer to make this work. This may be a separate bug from the XMLFilter problem you are having. Regards; Brian Minchau,Please note my second comment that even making an attempt to do a reset() on a Serializer object causes the exact same symptoms. Why is there a reset() method on the Serializer object if it cannot be used? Additionally; the XMLReader() documentation EXPLICITLY states that it can be reused; and XMLFilter inherits from this object. If the parent can be reused; the child should also be re-usable.,As far as I understand the problem is about multiple transformations from the same xmlFilter. The exception could be repro if we add one line to UseXMLFilters example xmlFilter3.parse(new InputSource('foo.xml')); +xmlFilter3.parse(new InputSource('foo.xml')); If I recall correctly we had such discussion before. We consider that as a wrong usage. The correct method would be to create transformer and to do multiple transformations like transformer.transform(xmlSource;outputTarget); transformer.transform(xmlSource;outputTarget); I will verify if my understanding is correct. In any case our documentation should be better. åÊåÊåÊåÊåÊåÊåÊåÊ,I would like to add that I get exactly the same symptoms when I try to do a reset() on my Serializer after it has been set as the ContentHandler for my XMLFilter. Interestingly; this symptom is also resolved by the patch I suggested above. I think that there is something not quite right in the XPathContext.reset() method; if running it can cause these types of problems...,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
7665,x,,,,,,,Verified; thanks.,Fix in CVS.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
71085,,,,,,,,Linked the API docs from the main navigation which completes this task for now.,Committed the generated apidocs to our site SVN at Rev. 773487 and updated the site base on people.a.o. The Sling 5 API docs have been generated as follows: $ svn export http://svn.apache.org/repos/asf/incubator/sling/tags/sling-5-incubator-source-release/ sling5 $ # Fix root pom.xml (see below) $ cd sling5 $ mvn -DexcludePackageNames='*.impl:*.internal:*.jsp:sun.misc:*.juli' org.apache.maven.plugins:maven-javadoc-plugin:2.5:aggregate,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
80924,x,,,,,,,The changes looks good for me. Reviewed with no commentaries.,Patch applied. Alex; could you review the changes please?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
40844,,,,,,,,Looks like a user issue to me; two pages at the same time accessing probably the same session. There is not additional user feedbac on this issue. I am closing it now.,Are you storing your data-model in the session? If yes; have you tried synchronizing access to the session to one window per user? If you don't want to synchronize; you should try to get rid of all session scoped beans. regards; Martin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
42670,,,,,,,,add separate handling for webkit browser,Hello Pascal; please add the patch with 'Grant license to ASF for inclusion in ASF works (as per the Apache License å¤5)' checked Regards Bernd,Add separate handling for webkit in make OveraySemitransparent function,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
73133,,,,,,,,resolved.,we ran into this issue on our platform. it's possibly very specific to our setup; but the patch should cause no problems for any other setup as well. simplifying this into on line is of course possible. i can't really tell you any more about it; since this issue was fixed in our local implementation about one year ago by some colleague. in preparation for our migration to the current version of shindig and opensocial 0.9 i'm revising all patches and feature additions we did over the last year and will be looking at which are worth comitting. so you can expect some more small issues in the next weeks ;),could this be simplified to txt=txt.substr(txt.indexOf(UNPARSEABLE_CRUFT) + UNPARSEABLE_CRUFT.length) I'm a little concerned that chunked is causing this though... very odd..,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
18885,x,,,,,,,Thanks Sven!,Thanks Sebastien!,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
46942,,,,,,,,Second shot at this one; in r760739.,$ git ls-files | grep 'gen-' lib/rb/benchmark/gen-rb/BenchmarkService.rb lib/rb/benchmark/gen-rb/Benchmark_constants.rb lib/rb/benchmark/gen-rb/Benchmark_types.rb,Solution committed in r760050.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
16677,,,,,,,,Property editors may throw a PropertyException with a bundle key and this will then be localized in ActionSupport.,Can we get more specifics here?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
18037,,,,,,,,r499213. The API changed as described in previous comments; so that WSDLReader.readWSDL methods now return Description instead of DescriptionElement. This change included fixing some bugs in OMWSDLReader.parseSchemaImport that had not surfaced previously because the OM implementation and test cases were only ever using DescriptionElement; but not Description.,I would like to implement this fix as soon as possible - I propose Thursday 18th January. Because it involves a change to the Woden API; I will try to coordinate this change with Axis2 and WSO2 (who are currently doing the WSDL 2.0 interop testing). The last Woden snapshot jar used by Axis2 is dated December; but I want to find out if they are doing daily Axis2 builds off Woden trunk and if so; get them to make the change at the same time. WSO2 will need to change their call to the readWSDL method. The required code change involves receiving a Description back from the readWSDL method; rather than receiving a DescriptionElement and having to call its toComponent() method to get the Description. The rationale is in the previous comments in this JIRA. So; for example: DescriptionElement descElem = wsdlReader.readWSDL('someURL'); Description descComp = descElem.toComponent(); becomes: Description descComp = wsdlReader.readWSDL('someURL'); If the WSDL infoset needs to be accessed via Woden's Element API; then just call the toElement() method on the Description component; or on any other component. E.g.: DescriptionElement descElem = descComp.toElement(); InterfaceElement interfacElem = InterfacComp.toElement();,Extract from Minutes of weekly Woden call Tuesday 9th January 2007: Discussed API changes to WSDLReader in WODEN-119 and WODEN-120 WODEN-119 is about passing wsdl uri to readWSDL methods as java.net.URI instead of java.lang.String. Arthur: could we just add new methods that take java.net.URI and leave the methods with String args? John: an original design goal was type safety in the API; so allowing only URI args instead of String args means the user must ensure that the wsdl uri argument is 'type safe' (i.e. in the correct format to create a java.net.URI). It also achieves consistency across the API as everywhere else java.net.URI is used to represent uris. The issue is not specifically about avoiding the need to handle MalformedURLException within the reader. Arthur: how do we handle API change without breaking existing users? John: Add new readWSDL methods with URI args; deprecate existing methods for M7 then remove them in the release that follows M7. Arthur: agreed. Graham: agreed. Jeremy has already +1 via the mailing list. WODEN-120 is about the readWSDL methods returning Description instead of DescriptionElement. We discussed the rationale as explained in the JIRA and agreed with this proposal (John; Arthur; Graham). Jeremy has already +1 via the mailing list. Noted that as deprecation of existing methods won't work (i.e. it's just the return type being changed); we will need to coordinate with Axis2 folks on their building of a Woden SNAPSHOT jar for inclusion in the Axis2 build. [action] John to coordinate this change with Axis2 / WSO2,+1 to this - like you say we need to ensure Axis2 change their usage of readWSDL as soon as we make this change. In fact the change to Axis2 needs to happen at the moment the Woden snapshot [1] and [2] is updated (which has been done by Dims in the past) ! Tricky to co-ordinate. [1] http://ws.zones.apache.org/repository/incubator-woden/jars/ [2] http://people.apache.org/repo/m1-snapshot-repository/incubator-woden/jars/,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
45050,,,,,,,,Actually I think I already applied similar changes when doing the POI 3.6 upgrade in TIKA-353. Resolving as fixed.,set fix version to unreleased version and affects version to released version,patch,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
15560,,,,,,,,Since no additional information has been provided and we can't duplicate; I'm marking this resolved. Please reopen if you can provide additional information that helps us replicate the problem.,Can anyone provide more information about the original report; or should we close this report for lack of additional information?,I have been looking through the code for the Dispatcher Filter; and the line causing the problem is after the line for accessing the static content. Additionally; I added 'webwork.action.extension=html' to the showcase app; and could not duplicate the error you were seeing. The only difference was that I needed to modify the href/action values from .action to .html (there also seems to be a setter issue at the moment). I suspect this might be a configuration problem. Can you provide more information about your environment? Page source from the page that has the problem? Thanks; Ian,I have been looking through the code for the Dispatcher Filter; and the line causing the problem is after the line for accessing the static content. Additionally; I added 'webwork.action.extension=html' to the showcase app; and could not duplicate the error you were seeing. The only difference was that I needed to modify the href/action values from .action to .html (there also seems to be a setter issue at the moment). I suspect this might be a configuration problem. Can you provide more information about your environment? Page source from the page that has the problem? Thanks; Ian,Yes; as I said in first topic; it works if extension is 'action'. Does webwork team treat it as a bug? or limitation for webwork?,I just realized what the issue is. ANY html in your application is going to be mapped to an action - even if it is a static page. The dojo widgets have a .html that is used as a basic template; and having the html extension is causing the problem. Try this - change the extenstion to anything other than .HTML - my guess is that it will work.,So let me get this straight - the error message goes away under two conditions. First is removing the <ww:head theme='ajax' /> tag; and the other is removing the theme='ajax' from the submit button. Is that correct? What theme do you have the form under? Can you provide the entire JSP page?,oh; it is not about <ww:submt...>. If I remove <ww:head theme='ajax'/>; the exception will disappear. But obviously; it becomes non-ajax call; which redirect to result page.,Once I change my code from: ... <ww:submit value='post' theme='ajax' resultDivId='change'/> .... To <ww:submit value='post'> It works well. So I think it is a bug in webwork ajax part. Further; this exception happens when it just gets into this page ( not throws when submit).,Yes; it is 'html' . I did not touch this option. I tested it in another pc in similar configuration. The exception persist : com.opensymphony.xwork.config.ConfigurationException: There is no Action mapped for namespace /webwork/dojo/webwork/widgets and action name BindButton. Check if there is such an action name with such namespace defined in the xwork.xml and also if such an action class exists. Check also the log to see if the action class is successfully loaded. at com.opensymphony.xwork.DefaultActionProxy.<init>(DefaultActionProxy.java:72) at com.opensymphony.xwork.DefaultActionProxyFactory.createActionProxy(DefaultActionProxyFactory.java:46) at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:193) at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:184) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173) at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118) at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173) at org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFilter.java:738) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173) at com.edgenius.paradise.webapp.filter.GZIPFilter.doFilterInternal(GZIPFilter.java:42) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173) at org.displaytag.filter.ResponseOverrideFilter.doFilter(ResponseOverrideFilter.java:125) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173) at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:75) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76) ................... [@APPNAME@] ERROR [http-8080-Processor23] DispatcherUtils.serviceAction(210) | Could not find action com.opensymphony.xwork.config.ConfigurationException: There is no Action mapped for namespace /webwork/dojo and action name iframe_history. Check if there is such an action name with such namespace defined in the xwork.xml and also if such an action class exists. Check also the log to see if the action class is successfully loaded. at com.opensymphony.xwork.DefaultActionProxy.<init>(DefaultActionProxy.java:72) at com.opensymphony.xwork.DefaultActionProxyFactory.createActionProxy(DefaultActionProxyFactory.java:46) at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:193) at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:184) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173) at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118) at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173) .......................,AFAIK Matt uses 'html' as extension for AppFuse; not 'HTML' Can you please recheck with this setting and tell us if exceptions are still thrown? Set this in webwork.properties: webwork.action.extension=html,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
60965,,,,,,,,Hoss; any interest in bring this patch forward to trunk?,Unassigned issues -> 4.1,It would be great to have this work in some form; even if it does not have the same API as before.,rmuir20120906-bulk-40-change,Hello - Could the deleteByQuery issue you mention be fixed with SOLR-3473? I've attached an updated patch for today's trunk. The previous patch was missing the signature field but i added it to one schema. Now other tests seem to fail because they don't see the sig field but do use the update chain. Anyway; it seems the BasicDistributedZkTest passes but i'm not very sure; there's too much log output but it doesn't fail.,bulk fixing the version info for 4.0-ALPHA and 4.0 all affected issues have 'hoss20120711-bulk-40-change' in comment,Updated patch to include my (meager) attempt at fixing the problem by making processAdd immediately execute a deleteByQuery if the add includes an updateTerm. I banged my head against a bunch of version mismatch errors to get into the current state of the patch; such that all the updates succeed; but the query assertions in the test still fail indicating that docs with duplicate signatures are making it into the index. On the up side: far fewer duplicates are making it into the index now then before the patch (when docs would only be deleted from the node that got the initial request if that node happened to be a shard leader)... wrong number of deduped docs (added 68 total) expected:<7> but was:<10> wrong number of deduped docs (added 71 total) expected:<7> but was:<8> wrong number of deduped docs (added 70 total) expected:<7> but was:<9> ...so apparently there is still some tiny corner case code path where dups are sneaking in (either that or the existing deleteByQuery code isn't reliable). I'm fairly certain i'm out of my depth at this point.,test demonstrating problem. where SignatureUpdateProcessorFactory lives in the chain doesn't affect the outcome.,i'm not entirely sure i'm understanding the problems. here's what i think i understand... 1) if you put dedup prior to distrib; then regardless of how it is configured it currently runs twice; which is bad - this seems like it is solved by SOLR-2822 2) if you want to use dedup to generate a sig for the uniqueKey field; then it really has to come before distrib; otherwise forwarding to the leader just wont work. (again: SOLR-2822 should make this do-able) 3) if you want to use dedup to generate a sig field that is not the uniqueKey field; AND you want to use 'overwriteDupes=true' then (currently) this needs to happen after distrib; because otherwise the info about the deletion _x0089_ÛÒ tracked in AddUpdateCommand.updateTerm - is lost when distrib does the forward. This seems like something that the distrib processor should deal with by ensuring it serializes/deserializes all of the key information in the AddUpdateCommand when sending/recieving a TOLEADER/FROMLEADER request (using SOLR-2822 vernacular) 3a) it's not enough to ensure that the 'updateTerm' is forwarded all the replicas in the shard; because other docs in other shards may have the same term value for the hash. (hence Markus's suggestions about doing a deleteByQuery _x0089_ÛÒ this should be in distribUP when AddUpdateCommand.updateTerm is non-null) 4) something about document cloning ... i still don't really understand this _x0089_ÛÒ not just in terms of dedup; but in generally i don't really understand why SOLR-3215 is an issue assuming we fix SOLR-2822.,To work around the problem of having the digest field as ID; could it not simply issue a deleteByQuery for the digest prior to adding it? Would that cause significant overhead for very large systems with many updates? Yeah; that might be an option - I don't know that it will be great perf wise; or race airtight wise; but it may a viable option. We would; from Nutch' point of view; certainly want to avoid changing the ID from URL to digest. Ah; interesting. If you are enforcing uniqueness by digest though; is this really a problem? It would only have to be in the Solr world that the id was the digest - and you could even call it something else and have an id:url field as well. Just thinking out loud. Or; perhaps we could make it so you could pick the hash field? Then hash on digest. If you are using overwrite=true; this should work right? Or perhaps someone else has some ideas...,That makes sense indeed. To work around the problem of having the digest field as ID; could it not simply issue a deleteByQuery for the digest prior to adding it? Would that cause significant overhead for very large systems with many updates? We would; from Nutch' point of view; certainly want to avoid changing the ID from URL to digest.,My next response on the ML: I take that back - I think that may be the only way to make this work well. We need that document clone; which will let you put the dedupe proc after the distrib proc. I think in general; the dedupe proc will only work if your signature field is the id field though - otherwise; hash sharding that happens on the id field is going to cause a problem.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
17727,,,,,,,,Verified. I added the info to the RELEASE_NOTES file.,I'm closing this as we aren't planning to implement the only remaining issue. I propose we just add an item to the release notes that we're 99% conformant apart from child iframe support.,WOOKIE-308 is the only remaining issue affecting conformance; we aren't going to fix that for 0.9.2 so I'll re-open this issue and punt to 0.10.0 to fix along with WOOKIE-308,OK; I've checked again and it looks like the WebStorage spec changed or I misinterpreted it: while clear() must remove the entries; getItem() must return Null rather than undefined when requesting a non-existing item: widget.preferences.clear(); // get rid of everything widget.preferences.setItem('foo'; null); // set 'foo' to equal null widget.preferences.getItem('foo'); // tuple exists and is set to null; return null widget.preferences.getItem('completely_undefined_bar'); tuple doesn't exist; return null I've updated Wookie and we can now pass test 'at'. We don't pass 'au' but I'll raise another issue for that.,(commits in the w3c test cases repo; not wookie!),OK; looks like my commits fixing the two tests were reverted; so no wonder at and au fail now. I'll follow that up and see if I can resolve it.,Hmm; I updated the 'at' and 'au' test cases at W3C to check for typeof==='undefined' rather than Null so they shouldn't be failing now...,I have just re-run all these tests on Windows 7; in the following environments... IE 9 Firefox 9.0.1 Opera 11.10 Google Chrome 16.0.912.75 m and the results were the same in each case... Test 'return-empty-strings' fails because widget.id returns wookies internal generated Id (expected behavior for wookie) Test 'setItem-fires-event' fails (storage event from iframe) Test 'removeItem-fires-event' fails (storage event from iframe) Test 'clearItem-fires-event' fails (storage event from iframe) Test 'Test at' fails because widget expects window.widget.preferences.getItem('deletable') to be null. it is actually 'undefined' Test 'au' fails because widget expects prefs.getItem('test1') to be null. it is actually 'undefined' It looks to me that this is in keeping with Scotts results; ok to verifiy now?,So here's the summary: #1 Fixed #2 Not a bug - I think its reasonable we pass on generated ids in the metadata #3 I don't think its really relevant as its an edge case. If anyone asks for sending storage events to child frames we can do it; but its not exactly urgent. #4 This is a test error - I've filed a bug with w3c ... so I'm closing the issue,I've fixed the engine.js error - this was caused by trying to delete prefs that throw a NO_MODIFICATION_ALLOWED_ERR . However the test case itself seems to be wrong as it expects cleared prefs to be === Null rather than typeof 'undefined'.,Current test results (0.9.2 rev 1199782) show mostly green; the following red: 1 Test preferences_attrreadonly failed because preferences in window.widget is not read-only 2 Test return-emtpy-strings failed because one of the attributes returned an incorrect value 3 Test did not run or storage event was never fired. 4 Test au failed because the values of the stored preferences were not what they should have been. #1 is because the preferences attribute itself is not read-only #2 is because we always generate an ID for a widget; even if it doesn't have one by default. #3 is a bit of a strange one to implement I'm not sure what causes the problem with #4; but it throws an engine.js error.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
13997,,,,,,,,Integrated in Struts2-JDK6 #573 (See https://builds.apache.org/job/Struts2-JDK6/573/) WW-3928 Rollbacks changes introduced with WW-2749 to allow work with mod_jk and so on (Revision 1415770) Result = SUCCESS lukaszlenart : Files : /struts/struts2/trunk/plugins/tiles/src/main/java/org/apache/struts2/tiles/StrutsTilesRequestContext.java,Integrated in Struts2-JDK5 #10 (See https://builds.apache.org/job/Struts2-JDK5/10/) WW-3928 Rollbacks changes introduced with WW-2749 to allow work with mod_jk and so on (Revision 1415770) Result = SUCCESS lukaszlenart : Files : /struts/struts2/trunk/plugins/tiles/src/main/java/org/apache/struts2/tiles/StrutsTilesRequestContext.java,I will have to rollback changes to StrutsTilesRequestContext as this causes problems in WW-3928,Integrated in Struts2 #528 (See https://builds.apache.org/job/Struts2/528/) WW-2749 adds missing <version/> tag (Revision 1381889) Result = SUCCESS lukaszlenart : Files : /struts/struts2/trunk/plugins/portlet-tiles/pom.xml,Done; patch applied; new page about the plugin added [1]! Thanks a lot! [1] https://cwiki.apache.org/confluence/display/WW/Portlet+Tiles+Plugin,Integrated in Struts2 #527 (See https://builds.apache.org/job/Struts2/527/) WW-2749 adds support for Tiles in Porlets as a dedicated plugin with new PortletTilesResult (Revision 1381887) Result = FAILURE lukaszlenart : Files : /struts/struts2/trunk/plugins/pom.xml /struts/struts2/trunk/plugins/portlet-tiles /struts/struts2/trunk/plugins/portlet-tiles/pom.xml /struts/struts2/trunk/plugins/portlet-tiles/src /struts/struts2/trunk/plugins/portlet-tiles/src/main /struts/struts2/trunk/plugins/portlet-tiles/src/main/java /struts/struts2/trunk/plugins/portlet-tiles/src/main/java/org /struts/struts2/trunk/plugins/portlet-tiles/src/main/java/org/apache /struts/struts2/trunk/plugins/portlet-tiles/src/main/java/org/apache/struts2 /struts/struts2/trunk/plugins/portlet-tiles/src/main/java/org/apache/struts2/views /struts/struts2/trunk/plugins/portlet-tiles/src/main/java/org/apache/struts2/views/tiles /struts/struts2/trunk/plugins/portlet-tiles/src/main/java/org/apache/struts2/views/tiles/PortletTilesResult.java /struts/struts2/trunk/plugins/portlet-tiles/src/main/resources /struts/struts2/trunk/plugins/portlet-tiles/src/main/resources/LICENSE.txt /struts/struts2/trunk/plugins/portlet-tiles/src/main/resources/NOTICE.txt /struts/struts2/trunk/plugins/portlet-tiles/src/main/resources/struts-plugin.xml /struts/struts2/trunk/plugins/tiles/src/main/java/org/apache/struts2/tiles/StrutsTilesRequestContext.java,Yeah; as this will no block with release if there be no room to introduce changes to the apps.,Ok; then I will provide a patch to update struts-portlet apps with an example. Should I create an issue for this patch (like WW-3853) ?,Nice work; give me some time to introduce these changes as my Mac went away :/,Following the conversation on the issue WW-2801; I attach a patch with a new portlet-tiles-plugin and a sample application.,Hi Do you have some correction date ? It is a painfull bug; I use the tiles plugin 2.1.8 and because it is a blocking issue for my company he may migrate to SiteMesh if no more information are provided.,I can confirm the pactch doesn't work; and the exception stated is thrown.,Are you sure that your patch work? I test this patch and doesn't work for me. I have this error : java.lang.ClassCastException: org.jboss.portal.portlet.impl.jsr168.api.RenderRequestImpl cannot be cast to javax.servlet.http.HttpServletRequest at org.apache.tiles.servlet.context.ServletTilesContextFactory.createRequestContext(ServletTilesContextFactory.java:59) at org.apache.tiles.context.ChainedTilesContextFactory.createRequestContext(ChainedTilesContextFactory.java:136) at org.apache.struts2.tiles.ausy.StrutsTilesContainerFactoryAusy$StrutsTilesContextFactoryAusy.createRequestContext(StrutsTilesContainerFactoryAusy.java:74) at org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:242),This patch (portletTiles.patch) is fixes the main problem; replacing request and response objects available to tiles classes with a proper ones - RenderRequest/Response but StrutsTilesListener from tiles-plugin is still uses StrutsTilesContainerFactory to initialize BasicTilesContainer with a ServletTilesRequestContext context class instead of org.apache.tiles.portlet.context.PortletTilesRequestContext. But as long as PortletContext is not available in Listener it seems to me the interface that tiles exposes for Struts - the TilesContainer - should be initialized somewhere else (perhaps in Jsr168Dispatcher ? ) any suggestions?,Attached patch for struts-2.1.2 to implement result-type 'portletiles',PortletTilesResult class for struts2-portlet-plugin Redefine result-type 'tiles' in your struts.xml to use 'org.apache.struts2.views.tiles.PortletTilesResult' class: <result-types> <result-type name='tiles' class='org.apache.struts2.views.tiles.PortletTilesResult' /> </result-types>,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
48151,,,,,,,,Duplicate of TAPESTRY-1988.,Someone else did better research than me ...,My investigation has shown that this is necessary; that the servlet container does not perform the decoding automatically. I just hope this isn't a Tomcat vs. Jetty issue!,At first I put this down to a misunderstanding on my part of the servlet API. However; when I remove the explicit URL decoding logic; existing tests break. Specifically; tests for cases where there are URL encoded characters inside the context. These are Selenium tests; which means that the full servlet API stack from Jetty; unchanged; is in charge ... and that brings into question the thought that it is servlet containers job to URL decode.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
17394,,,,,x,,,Andreas; I can see the benefit; but I'm not entirely sure how to do it. Perhaps you could provide a patch? David,Catching the InterruptedIOException and breaking to loop is indeed the simplest solution to the problem. However; I would prefer that SimpleHttpServer#destroy directly closes the ServerSocket without trying ExecutorServide#shutdownNow. The reason is that this would work on all platforms in the same way and on JVMs of the first type it would avoid spending unnecessary time in ExecutorServide#awaitTermination. Actually on this type of platform; the test cases for the HTTP transport probably spend more time waiting than to execute the actual tests...,applied fix from David. Many thanks Andreas -- dims,That's a really good bug report... this problem's been annoying me for a VERY long time. I really can't believe it's this simple... simply catching the InterruptedIOException and calling break in the catch block. I tried that and it seemed to work on people.apache.org. Patch at [1]. Can someone else sanity check it and try it on other platforms/jvms? David [1] http://people.apache.org/~davidillsley/wscommons/wscommons402.patch,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
37179,,,,,,,,Patch over 1.2.12.3 branch.,Code review comments addressed.,Patch over Trinidad trunk.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
45983,,,,,,,,No longer required; solved with THRIFT-1366. There will be no D7 support.,Sorry for the spam - I just discovered that JIRA allows to have sub-tasks,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
34335,,,,,,,,From today's IRC discussion: will drop out of M1 if not in place by May 8th.,This was something Jeremy was working on. I'm happy to help out but I'm moving it to his bucket since he was doing the work,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
27430,x,,,,,,,Looks solid. I'm okay with resolving this one.,OK I've committed this. One difference from the patch was I retained the 'Integer' options for different credit card types and the CreditCardValidator(int) constructor. Which should make migrating from the existing CreditCardValidator to the new 'routines' package version one easier.,Reassigning to Niall since he's graciously volunteered to finish it,I'm not sure whats happening with JSR 303 (I requested membership of the EG; but heard nothing after I signed up to the JCP) - except that the JSR was accepted nothing else seems to have happened. Anyway my impression was JSR 303 was more than just annotations and involved defining a framework. My aim with the 'routines' package was to clearly separate out 'validation routines' from the framework aspect of validator with the routines usable on their own outside of any framework stuff. If JSR 303 happens and defines; for example; a credit card annotation then there will need to be some 'glue' which recognises when a bean property has been annotated as a credit card and invokes our routines. I don't believe what were doing here would need to change - what would need to change is implementing the 'glue' (i.e. framework) which hooks the annotation to our routine. If/when JSR 303 happens this may turn out to be rubbish and as you say we may end up redoing this; but until JSR 303 becomes concrete its all just guesswork. Anyway; I've started on tests - need to add a bit more / finish off - but I think theres enough here to commit and I'll get back to it when I find some more cycles.,It's simple; which I'm a big fan of. The only concern I have is whether anything important is lost by treating credit cards only as validators _x0089_ÛÒ will we ever need to put them in collections; associate them with names; sort them; etc. _x0089_ÛÒ all the crap you want to use a full-fledged object for. I can't say something like that will definitely be required; but I can't rule it out either. I'm also wondering how easy it'll be to put JSR 303 annotations on top of this; but if it's going to be redone again for Validator 2; then no problem. My gut is saying that this is good enough and covers what people need today; and that going too overboard with it is overengineering. This works; is easy to understand; and simple to use; so I think going with it makes sense. Can you throw together tests for it?,P.S. Haven't tested the regular expressions here so it may have some glitches - I'll write tests if its agreed,As you mention I was thinking that the new routines version could use the new 'generic' code validator for individual cards and perhaps ditch the CreditCardType interface altogether. New cards types can simply be implemented by creating a new CodeValidator instance with an appropriate regular expression rather than having to define a new CreditCardType implementation. The main (IMO) advantage though is that if someone wanted to allow separators (spaces or dashes) they can define a regular expression with the separators as a 'non-capturing group' which means they get 'stripped' out before the check digit validation is done - and the valdiator can return a uniform card number without separators. Attaching an option for consideration.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
47855,x,x,,,,,,Great! I'm glad you found it helpful.,Thanks for the patch; I extended it a lot; with docs; more tests; the exception logic and the ability to use the annotation on component methods. Fun stuff!,Good start with the patch. I'm looking to expand it to support @CommitAfter on component event methods as well.,Patch fixing the issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
24246,x,,,,x,,,Thanks Tom; sorry for the mess.,Yes; looks like this was a mistake. I've just reverted the change.,Did I submit something wrong or duplicate? See https://github.com/apache/whirr/blob/trunk/cli/pom.xml#L52-61,I've just committed this. Thanks Lars!,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
29492,,,,,,,,I think this should be fixed/changed for uima-base too. Is there a reason it wasn't?,There are different scripts between core framework and UIMA-AS. Will fix the UIMA-AS scripts with this issue.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
10696,,,,,,,,Closing this issue. Please re-open if you have a testcase.,Resolving as incomplete. We have no testcase.,I'm not sure that you are still interested in this old issue; but we would need a testcase to proceed. Please provide one or we will be closing this issued down.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
71224,,,,,,,,Additional fixes in Rev. 737663 and fixing the jcrapp module in Rev. 737664 completes this issue.,Modified the launchpad modules bundles; app; webapp; and testing to be version 4-incubator-SNAPSHOT in Rev. 737661,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
24531,,,,,,,,Changed the site to include the incubator disclaimer and incubator logo.,1) only required on the main page 2) near the beginning; so it is prominent 3) That's the Apache Sponsor; which is usually Incubator. For example: http://incubator.apache.org/npanday/,I have a few questions: 1. Where exactly do you want this disclaimer? Only on the main page; or on every page? 2. Is there some preferred location for disclaimer? 3. The disclaimer test mentions: 'Apache 'Podling-Name' is an effort undergoing incubation at The Apache Software Foundation (ASF); sponsored by the name of sponsor. What should be substituted for sponsor? Basically; the code was donated by Google; does it mean that it makes Google the sponsor?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
4887,x,,,,,,,Patch Applied. Good Work Adrian!,Attachment diff.txt has been added with description: patch file,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
33026,,,,,,,,Closing because this has been in RESOLVED state for over one year; if it turns out to not be fixed please reopen.,Works using the latest distro; now that TUSCANY-1588 is fixed.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
10101,,,,,,,,The attached stylesheet is an invalid XML document and there is also an invalid xpath expression. Please post all files required to reproduce this bug; including any extension java files. If you can simplify the stylesheet and java files; that will be great.,I am also noticing that full location information is not avaialable when this error occurs. You get the correct line number info but the SystemID is not reported.,Created an attachment (id=11016) XML File for XSL;,Created an attachment (id=11015) Stylesheet to force bug; see DEBUG comment to see offending XPath statement,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
76385,x,x,,,,,,Cool. Thanks for considering my bug report!,The Maxlength field for Yahoo! I got from clicking on 'Create New Account' here: https://login.yahoo.com/ and it shows: <input type='password' name='password' id='password' value='' size='32' maxlength='32' class='' aria-required='true'>; so it has maxlength. Facebook; I stand corrected; entering it again I just see this: <input type='password' class='inputtext' name='pass' id='pass' tabindex='2' />. No maxlength. So you win; you got two out of three. :) I'll reopen this JIRA; I probably won't be the one fixing it (or applying patches to same) due to more pressing concerns; but it will be open unless somebody else closes or fixes it. At the very least even if we keep the maxlength we should be able to print a text stating that up to 20 characters is OK (like Yahoo! does).,This is what I found. Facebook: <input type='password' class='inputtext' name='password_new' id='password_new' autocomplete='off'> Yahoo: <input type='password' name='.pw1' id='newpw1' size='30'> Google: <input type='password' name='Passwd' id='Passwd'> StackExchange: <input name='password' id='password' type='password' style='opacity: 0.3; z-index: 1; position: relative;' class='edit-field-overlayed'>,OK; I checked the new user registration page for Google Mail; Yahoo Accounts; and Facebook. Google does it the way you like (no maxlength HTML restriction used; just client-side javascript complaining after-the-fact); but Yahoo and Facebook both place in a maxlength restriction.,I guess I don't consider maxlength='20' on an input element to be 'validation'. In my mind; I would be able to enter any length password in that box and the 'client-side validation' would tell me that the password was too long without needing a round-trip to the server. Then; supposing that JavaScript is disabled or whatever; the form is submitted anyway; the web application responds with a copy of the form; complete with an error about the length of the password. I guess when you lay it out like you have done in your previous comment; it is obvious that the maxlength=20 attribute needs to go. Because it is a password field; you cannot reliably tell what has happened. If it were a country field; you would spot this happening immediately. For example; Twitter only allows your 'location' to be 30 characters long. When my friend tried to fill it out; he saw that the field said 'United Kingdom of Great Britai'. Note that in this instance; he chose to leave it like that; as a sort of protest against the length restriction. But you get my point; I think. The combination of type='password' and maxlength='X' introduces a unique problem; in that there is no way for you to know whether your input has been truncated. This is why I believe there should be some notification. (Note that Roller does not even tell you that your password can only be 20 characters.),Noah; if we were to retain the client-side restriction of 20 (it being 'fine' as you write); you'd never need the server-side validation to check the length. That you would want us to do the latter implies that you would want us to get rid of the former; especially since you earlier reported at 17:09 that you want to be able to copy and paste an arbitrarily long string without it being 'munged' (truncated) by the client into 20 spaces. If; as you request; I don't mention that we already do client-side validation in the JIRA title; and just mention the server-side validation; that would incorrectly imply that we don't already do client-side validation (else why ask for server-side?); improperly inflating the need to do server-side validation as well as making Roller look kind of bad (as if we're not already doing client-side checks.) If you'd like; however; I'd be happy to delete this JIRA entirely so we don't have to worry about its title (I'm thinking of changing it to 'Play Ella Fitzgerald music on Roller startup'; myself... :),I notice the title change to: > Remove client-side restriction on password length; switch to server-side validation instead. Might I suggest: > Use server-side validation of password length The client-side stuff is fine. No reason to jettison it. Most web applications I have worked with or used do both. With HTML or JavaScript on the client side; and whatever else on the server-side as a failsafe.,I would note that the new title does not accurately reflect the nature of my bug report. If I were to retitle it; I would put: 'Enhance Roller to do server-side validation of password length' I will leave this to your discretion; however. Completely coincidentally; there is a post about this password lengths on Hacker News right now: What technical reasons are there to have low maximum password lengths? http://security.stackexchange.com/questions/33470/what-technical-reasons-are-there-to-have-low-maximum-password-lengths Again though; that's not really the core of my bug report. I just think Roller should do server-side validation instead of munging critical authentication information; where that munging can result in people being effectively locked out of Roller.,I'm not quite sure what to make of your response; to be honest. As a member of the foundation; why would I want to 'smear' Roller? I'd also remind you that assuming the best in people is a core principal of how we are supposed to operate here.[1] To address your specific points: * The purpose of the second validation field in many web forms is to compensate for the likelihood that when a human types something (especially when it is hidden) there is a good chance that a mistake will be made. If you are able to side-step this problem by copying the password from a clipboard; that does not defeat the purpose of the validation; it obviates it. * What do you mean when you say that passwords are supposed to be easy to remember? Who supposes this? Passwords; in security literature; are usually defined as 'something you know'. For example; two-factor authentication is a combination of 'something you know' (i.e. a password) and 'something you have' (i.e. an authentication fob; random number generator; or whatever). Being able to remember a password is convenient for sure; but seems fundamentally unrelated to its use as an authentication mechanism. (i.e. Makes it no more or less secure.) * You point out that during your time at the Department of Defence; you never heard of anybody using password generators. I would counter by saying that combination password generators/managers are very popular. Unfortunately; I was unable to dig up any statistics on this. I did find that Norton (a Fortune 500 company specialising in computer security) have one they make for consumers.[2] However; I use 1Password; which I believe is the most popular app of this kind for OS X. Stu Helm; of AgileBits; says[3] that they are 'probably into the 100s of thousands [of users] if not more by now. What I can tell you is that we have 61;786 registered members on our forums.' * Limiting a ZIP code field to 5 characters seems sensible; I agree. But I would hope that if you were able to submit a form with more than 5 characters for this field; that the web application would validate that on the server; and return the user back to the form with an error. From my experience developing web applications; this could be as little as an additional three lines of code in a validation class. My argument is not that using HTML to limit the length of form fields is bad practice. (Though I am not sure where you got the 98% figure from.) My argument is that silently truncating data and not doing proper server-side validation is bad practice. I can't back this up with anything concrete; as the industry as a whole is too immature to have a reference canon. All I can say is that silently munging data is; in my experience; generally frowned upon; because it can lead to unexpected situations exactly like the one I ran into here. * You actually did solve my problem! I was able to log in again after trying a 20 character substring! So thanks for that. * I use the maximum length allowed by 1Password when generating my passwords. As I never have to look at them; or remember them; it makes no difference to me. And so there is no reason why I shouldn't just go with the most secure option every time. I tried to download Norton's password generator/manager tool; but unfortunately I needed a US iTunes account. I wouldn't be surprised if other popular tools allow passwords of this length. So; I guess my point is: I see no reason why any tool would limit the length or makeup of a password. Any such restrictions arbitrarily limit the strength of what passwords can used. And I don't understand why that would ever be a goal. But let's say that; in this instance; Roller does want to limit the length of passwords. My argument is that your password change form should do server-side validation and warn users instead silently truncating their data. The fact that I managed to effectively lock myself out of Roller is a demonstration that this is a real problem. It's only one data point though; so I am not sure of the prevalence. But if password generators/managers are becoming more popular; this could become more frequent. * About the title of the bug; in the description; I put: 'Sorry for the vague ticket title. I don't want to make presumptions about the issue.' My meaning was that I didn't know what the problem was. From my perspective I had a) set a new password; b) logged out; and then c) lost access to my Roller account. So I guess a more descriptive title might've been 'Setting a password doesn't work' or something. Where 'work' here is defined as leaving Roller in a state where I can log back in using the new password I just set. * I attached a screenshot with my last comment. This is what it looks like when I copy and paste a long password into the field. The space to the right of the field might suggest it to me. But it is by no means obvious. If I was asked to stop and consider it; I might conclude that the text has just been scrolled off to the left; and that the field has some right-padding. But the fact of the matter is that I did not expect the password to be truncated; and so completely missed this. If I had realised that the text had been truncated; I would have used the substring to access my account; and I would not have asked the infrastructure team on IRC to help me; or subsequently created both an infrastructure JIRA ticket and a Roller ticket. [1] https://svn.apache.org/repos/private/committers/voluntary-code-of-conduct.txt [2] https://identitysafe.norton.com/ [3] http://www.quora.com/1Password/How-many-users-does-1Password-have,Attaching screenshot.,No; copying and pasting pasting passwords is never a good idea (for one; it defeats the purpose of the separate validation field; which is to make sure the user entered in the correct password); nor are 50+ character passwords acceptable; as it's a given you're going to need to write down that string and save it someplace as there's no way you can remember that from memory (as I had just told you earlier.) Furthermore; passwords are supposed to be easy for a person to remember (so he doesn't have to write it down); but hard for anyone else to guess--autogenerated passwords don't do that; and they also run the risk (if the generator is no good); of repeatedly giving out the same passwords; creating a huge security hole. Throughout all my years in DOD security work I've never remotely heard of people using 51-character (or any length; for that matter) password generators for their own password. Having HTML fields space-limited is a perfectly acceptable HTML design used all over the place. For ZIP code; for example; there's nothing wrong with limiting the entry field to 5 characters than to allow to allow you to type 50 and then have to hardcode a validation error of 'ZIP code too long' and have to translate it into 15 languages. (You really don't think there's more useful use of developer time?) Can you please provide some documentation that limiting field lengths in HTML is a bad practice; instead of just typing bugs based on your personal belief that HTML fields should not have limited length? We have to change Roller code just because you're in disagreement with 98% of the HTML community? I can't solve your problem; Noah. Even if I allowed 60 character passwords; there's nothing preventing you from turning around and complaining about an 80 character password not working. Nor are we going to shut off length limitations in our HTML fields and switch to validation text. Any auto-generator of passwords that uses more than 20 characters; as in the 51 your password generator supposedly uses; must have a mathematically innumerate developer because with 20 ASCII characters the number of possible permutations moves well; well into the stratosphere already. Indeed; given that your original bug report was titled 'Complex passwords don't work'; when the issue merely is that we don't accept passwords greater than 20 characters; makes it clear you're trolling and deliberately smearing the Roller project. There's no way you could have missed the fact that those 51 characters were getting truncated to 20 when you were pasting them into the field; and you just caused me to waste a bunch of time re-confirming that non-alphanumeric characters work for passwords.,BTW; this wasn't a hypothetical. In case that helps clarify. See INFRA-6091 for more. :),I use a password manager that generates passwords for me. So I copy and paste those passwords out of the password manager; and into the form. I believe my use of a password manager in this way constitutes very good security practice. I am reopening this bug because I believe that when I copy and paste a password; if it is 'too long' for Roller; I should receive a validation error. The paste should not silently truncate my password. Otherwise; every user who pastes a password that is 'too long' will be 'locked out' of their account. Scare quoted 'too long' because I think '20' is arbitary; and can't think of any technical reason a password should be limited in length. It concerns me that you mention database changes. I hope that the password never touches the database... Scare quoted 'locked out' because obviously; I am not actually locked out. My password is just a substring of the password I thought it was. (In fact; this is confirmed. I am back in.),Complex passwords up to Roller's password limitation of 20 characters work fine; sample 51-character password given in JIRA won't work because Roller doesn't allow more than 20.,OK; I tried a password of '{}~;'.$%;:#[].^()' *including* the quotes and Roller trunk worked fine with it -- note it includes every special character in sample password you supplied and then some. I don't know how you could have changed your password to something 51 characters long because Roller (even versions as old as 3.1) limits the password length in the entry field to 20 characters (which is long enough). So if you copy-and-pasted 51 only the first 20 characters would apply.,What is the precise shortcoming for you-- (a) Roller passwords aren't long enough for your liking or (b) there are specific special characters you would like to see supported that Roller doesn't presently allow; or (c) Roller isn't providing sufficient validation at the time of password entry allowing you to enter invalid passwords that it subsequently doesn't accept? For Roller to be able to handle passwords of infinite length is a Won't Fix (fails cost/benefit considering the database and other changes that would entail); because after 15 or so alphanumeric characters you're not effectively providing any more security; especially since past that length people start to copy and paste passwords (or choose exceedingly easy to remember ones); creating the much larger security hole in the process. But it looks like we can provide better password validation including length limitations for newly entered passwords ('c' above).,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
56783,,,,,,,,This test is not appearing in the nightly build results. When it does (and is passing); I'll close this issue.,http://svn.apache.org/viewvc?view=rev&revision=654588,Discussion related to this issue can be found in the archives.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
2091,,,,,,,,Edited these issues to set the fix version.,Currently breaking this story down into tasks.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
68305,,,,,,,,Updated the binding components' parent pom.xml http://svn.apache.org/viewvc?view=rev&revision=557983,Fixed for servicemix-ftp http://svn.apache.org/viewvc?view=rev&revision=557640 Fixed for servicemix-http http://svn.apache.org/viewvc?view=rev&revision=557757 Fixed for servicemix-jms http://svn.apache.org/viewvc?view=rev&revision=557769 Fixed for servicemix-truezip http://svn.apache.org/viewvc?view=rev&revision=557978 Fixed for servicemix-xmpp http://svn.apache.org/viewvc?view=rev&revision=557981,Fixed for servicemix-file: http://svn.apache.org/viewvc?view=rev&revision=557551,Fixed for servicemix-http! Thanks a lot to Gert Vanthienen! Author: tterm Date: Fri Apr 27 05:23:20 2007 New Revision: 533074 URL: http://svn.apache.org/viewvc?view=rev&rev=533074 Log: SM-932 Enable PMD/CheckStyle for binding components Added: incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/processors/AbstractProcessor.java Removed: incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/processors/Constants.java Modified: incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/BasicAuthCredentials.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/ContextManager.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/HttpBootstrap.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/HttpBridgeServlet.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/HttpComponent.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/HttpConfiguration.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/HttpConfigurationMBean.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/HttpEndpoint.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/HttpManagedServlet.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/HttpProcessor.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/HttpWsdl1Deployer.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/ManagedContextManager.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/ProxyParameters.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/SslParameters.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/endpoints/DefaultHttpConsumerMarshaler.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/endpoints/DefaultHttpProviderMarshaler.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/endpoints/HttpConsumerEndpoint.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/endpoints/HttpConsumerMarshaler.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/endpoints/HttpProviderEndpoint.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/endpoints/HttpProviderMarshaler.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/endpoints/HttpSoapConsumerEndpoint.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/endpoints/HttpSoapConsumerMarshaler.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/endpoints/SerializedMarshaler.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/jetty/JCLLogger.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/jetty/JaasJettyPrincipal.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/jetty/JaasUserRealm.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/jetty/JettyContextManager.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/jetty/ServiceMixSslSocketConnector.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/packaging/HttpServiceUnitAnalyzer.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/processors/CommonsHttpSSLSocketFactory.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/processors/ConsumerProcessor.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/processors/ProviderProcessor.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/main/java/org/apache/servicemix/http/tools/PortTypeDecorator.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/test/java/org/apache/servicemix/http/ConsumerEndpointTest.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/test/java/org/apache/servicemix/http/HttpAddressingTest.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/test/java/org/apache/servicemix/http/HttpConsumerTest.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/test/java/org/apache/servicemix/http/HttpManagedTest.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/test/java/org/apache/servicemix/http/HttpProviderTest.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/test/java/org/apache/servicemix/http/HttpSoapTest.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/test/java/org/apache/servicemix/http/HttpSpringTest.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/test/java/org/apache/servicemix/http/HttpTxTest.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/test/java/org/apache/servicemix/http/HttpURITest.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/test/java/org/apache/servicemix/http/HttpWsdlTest.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/test/java/org/apache/servicemix/http/HttpXBeanDeployerTest.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/test/java/org/apache/servicemix/http/ServerManagerTest.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/test/java/org/apache/servicemix/http/WsdlRoundtripTest.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/test/java/org/apache/servicemix/http/endpoints/Person.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/test/java/org/apache/servicemix/http/endpoints/PersonImpl.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/test/java/org/apache/servicemix/http/endpoints/SerializedMarshalerTest.java incubator/servicemix/trunk/deployables/bindingcomponents/servicemix-http/src/test/java/org/apache/servicemix/http/security/HttpSecurityTest.java,Additional http patch file to provide the missing AbstractProcessor file,Gert; the http patch doesn't work. There is a class missing: AbstractProcessor. I guess you forgot to add this class to svn before you do the svn diff.,The last patch file (*-http) contains all necessary modifications for servicemix-http. It also contains the updated pom.xml for the binding components. Just a few remarks: I have used some J2SE 5.0 constructs (varargs; generics; ...) during the cleanup (e.g. to reduce the amount of code per method). If you still want to be 1.4-compliant; these have to be modified SslParameters contains a call to hash(String... strings). If I don't enclose the parameters to this call in a new String[] { }; PMD (incorrectly) complains about an unused private method,Patches for servicemix-truezip and servicemix-xmpp,SM-932-jms.patch fixes PDM/CheckStyle errors for servicemix-jms,SM-932-ftp.patch fixes PDM/CheckStyle errors for servicemix-ftp,SM-932-file.patch fixes PDM/CheckStyle errors for servicemix-ftp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
58537,,,,,,,,Looks like STANBOL-258 describes the same Issue.,With the current full launcher in r1143385 the problem is still there on my Ubuntu Linux system when running integration tests or the full launcher; respectively. åÊjava.lang.NoClassDefFoundError: javax/xml/parsers/ParserConfigurationException,Thanks Rupert; this looks like it indeed. However; since Fabian is the one experiencing this; I would suggest he tries replacing the version number on the reengineer/xerces POM; and commit the change it this solves the problem. wdyt?,In my opinion deleting the local cache can not have any influence in runtime dependencies because the Apache Sling module adds all required dependencies to the launcher jar. Therefore my assumption is that any error related to bundles present/missing in the local cache can only appear at build time and not at runtime. Here is my interpretation of the Log provided by Fabian: Based on this line: 19.05.2011 19:54:17.555 *ERROR* [FelixStartLevel] org.apache.stanbol.enhancer.jersey [org.apache.stanbol.enhancer.jersey.cache.CachingDereferencerEngine] The activate method has thrown an exception (java.lang.NoSuchMethodError: org.apache.xerces.util.XMLChar.trim(Ljava/lang/String;)Ljava/lang/String;) java.lang.NoSuchMethodError: org.apache.xerces.util.XMLChar.trim(Ljava/lang/String;)Ljava/lang/String; I found out that the ext.com.hp.hpl.jena module of Clerezza export 'org.apache.xerces.util' and internally uses xercesImpl version '2.9.1'. The org.apache.stanbol.reengineer.xerces exports 'org.apache.xerces.*' and internally uses 'xercesImpl' version '2.7.1'. This might be the cause for this problem. Further digging into the differences between xercesImpl '2.7.1' and '2.9.1' also showed that the version '2.9.1' depends on two additional bundles åÊåÊxml-apis/xml-apis/1.3.04 åÊåÊxml-resolver/xml-resolver/1.2 and that the 'xml-apis' bundle exports the the 'org.xml.sax' package. Therefore the export of version '2.7.1' of the org.apache.stanbol.reengineer.xerces might also be the reason for the ClassNotFoundExceptions related to org/xml/sax/SAXException. Based on that I assume that updating the version of 'xercesImpl' in the 'org.apache.stanbol.reengineer.xerces' bundle should solve the problem for now. åÊ,Odd. I did the same; though my approach was more radical (rm -rf ~/.m2/repository) Anyway it's most likely about the dependency on Xerces. I am seeing if we can remove the reengineer/xerces bundle at all; so it might solve your problem.,I just checked on a second machine and did: rm -rf ~/.m2/repository/org/apache/stanbol mvn clean mvn clean -P kres mvn install -P kres Then started Stanbol with launchers/kres. The problem remains the same as described in this issue.,Worksforme; they're all active...,I'm trying that now from a completely clean local repo; but it isn't compiling right now as the maven central repo is timing out with me. I'll let you know when it wakes up.,Did you clean your whole local Maven repository? In my case; I had a completely empty repository and only compiled Stanbol with KReS. Perhaps this is a bug that does not occur if there are certain dependencies already in the Maven repository.,Checked again with r1125010 and had the same problem. The full launcher works fine. Attached the error.log file showing the bug. Seams to be a problem with missing runtime dependencies java.lang.NoClassDefFoundError: åÊorg/xml/sax/SAXException java.lang.NoClassDefFoundError: Could not initialize class com.hp.h pl.jena.datatypes.xsd.XSDDatatype,I don't have this. I have cleaned the local maven repository and recompiled to be sure. Then run 'mvn clean install -P kres' as usual. At http://localhost:8080/system/console/components the components you mention are all in active state. Can someone else try?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
14371,,,,,,,,This is by design; as it allows us to support Velocity results; but only if the Velocity jars are available. The message is logged at DEBUG since most users won't have it enabled for development and certainly not for production.,Setting to future pending a patch.,Tested it with Struts 2.0.11 too: The velocity dependency remains; and there are other two dependencies on the following classes: java.lang.NoClassDefFoundError: org/python/core/PyException java.lang.NoClassDefFoundError: org/apache/commons/fileupload/RequestContext,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
927,,,,,,,,The patch no longer applies. Abmar; can you take a look?,I think we should move this out to 3.5. Am ok with committing this (after review ofcourse) to trunk as soon as 3.4 branches out.,Your plan sounds reasonable to me; Mahadev. I have reviewed this patch some time back; and I'm happy to review it again if necessary.,camille/flavio; I am also a little hesitant to add this to 3.4. Can we do this: Ill cut out a branch this weekend and then we immediately check it in into trunk to make sure we get this into 3.5? 3.4 seems to have quite a bit of features and we'll need some effort to stabilize 3.4. Any more features will just increase our effort to stabilization of the release. What do you guys think?,Well; I finally got the rb updated with the latest diff. I am willing to be one of two reviewers for this; but I am definitely not comfortable signing off on such a large change by myself (and note that I am also rather blind to whitespace issues despite my best efforts). If one of you is willing to also do the final review; I will deal with checking it in; doc generation; etc. https://reviews.apache.org/r/483/,Should we keep this issue marked for 3.4? Camille; Abmar; could you give an update; please?,----------------------------------------------------------- This is an automatically generated e-mail. To reply; visit: https://reviews.apache.org/r/802/ ----------------------------------------------------------- Review request for zookeeper. Summary ------- testing upload of patch attached to ZOOKEEPER-702 This addresses bug ZOOKEEPER-702. https://issues.apache.org/jira/browse/ZOOKEEPER-702 Diffs /src/docs/src/documentation/content/xdocs/index.xml 1065709 /src/docs/src/documentation/content/xdocs/zookeeperFailureDetector.xml PRE-CREATION /src/java/main/org/apache/zookeeper/ClientCnxn.java 1127985 /src/java/main/org/apache/zookeeper/ClientCnxnSocket.java 1127985 /src/java/main/org/apache/zookeeper/ClientCnxnSocketNIO.java 1127985 /src/java/main/org/apache/zookeeper/ZooKeeper.java 1127985 /src/java/main/org/apache/zookeeper/ZooKeeperMain.java 1127985 /src/java/main/org/apache/zookeeper/common/fd/AbstractFailureDetector.java PRE-CREATION /src/java/main/org/apache/zookeeper/common/fd/BertierFailureDetector.java PRE-CREATION /src/java/main/org/apache/zookeeper/common/fd/ChenFailureDetector.java PRE-CREATION /src/java/main/org/apache/zookeeper/common/fd/FailureDetector.java PRE-CREATION /src/java/main/org/apache/zookeeper/common/fd/FailureDetectorFactory.java PRE-CREATION /src/java/main/org/apache/zookeeper/common/fd/FailureDetectorOptParser.java PRE-CREATION /src/java/main/org/apache/zookeeper/common/fd/FixedPingFailureDetector.java PRE-CREATION /src/java/main/org/apache/zookeeper/common/fd/InterArrivalSamplingWindow.java PRE-CREATION /src/java/main/org/apache/zookeeper/common/fd/MessageType.java PRE-CREATION /src/java/main/org/apache/zookeeper/common/fd/Monitored.java PRE-CREATION /src/java/main/org/apache/zookeeper/common/fd/PhiAccrualFailureDetector.java PRE-CREATION /src/java/main/org/apache/zookeeper/common/fd/SlicedPingFailureDetector.java PRE-CREATION /src/java/main/org/apache/zookeeper/server/ServerConfig.java 1065709 /src/java/main/org/apache/zookeeper/server/SessionTracker.java 1065709 /src/java/main/org/apache/zookeeper/server/SessionTrackerImpl.java 1095174 /src/java/main/org/apache/zookeeper/server/ZooKeeperServer.java 1127985 /src/java/main/org/apache/zookeeper/server/ZooKeeperServerMain.java 1095174 /src/java/main/org/apache/zookeeper/server/quorum/FollowerZooKeeperServer.java 1095174 /src/java/main/org/apache/zookeeper/server/quorum/Leader.java 1127985 /src/java/main/org/apache/zookeeper/server/quorum/LeaderZooKeeperServer.java 1065709 /src/java/main/org/apache/zookeeper/server/quorum/Learner.java 1095174 /src/java/main/org/apache/zookeeper/server/quorum/LearnerHandler.java 1095174 /src/java/main/org/apache/zookeeper/server/quorum/LearnerSessionTracker.java 1065709 /src/java/main/org/apache/zookeeper/server/quorum/LearnerZooKeeperServer.java 1065709 /src/java/main/org/apache/zookeeper/server/quorum/ObserverZooKeeperServer.java 1095174 /src/java/main/org/apache/zookeeper/server/quorum/QuorumPeer.java 1127985 /src/java/main/org/apache/zookeeper/server/quorum/QuorumPeerConfig.java 1095174 /src/java/main/org/apache/zookeeper/server/quorum/QuorumPeerMain.java 1095174 /src/java/main/org/apache/zookeeper/server/quorum/QuorumZooKeeperServer.java 1127985 /src/java/main/org/apache/zookeeper/server/quorum/ReadOnlyZooKeeperServer.java 1125581 /src/java/test/org/apache/zookeeper/TestableZooKeeper.java 1065709 /src/java/test/org/apache/zookeeper/test/ClientBase.java 1127985 /src/java/test/org/apache/zookeeper/test/DisconnectableZooKeeper.java 1091841 /src/java/test/org/apache/zookeeper/test/QuorumBase.java 1127985 /src/java/test/org/apache/zookeeper/test/QuorumFDHammerTest.java PRE-CREATION /src/java/test/org/apache/zookeeper/test/ReadOnlyModeTest.java 1125581 /src/java/test/org/apache/zookeeper/test/RecoveryTest.java 1091841 /src/java/test/org/apache/zookeeper/test/SessionTest.java 1091841 /src/java/test/org/apache/zookeeper/test/fd/BertierClientHammerTest.java PRE-CREATION /src/java/test/org/apache/zookeeper/test/fd/BertierFDTest.java PRE-CREATION /src/java/test/org/apache/zookeeper/test/fd/BertierQuorumHammerTest.java PRE-CREATION /src/java/test/org/apache/zookeeper/test/fd/BertierRecoveryTest.java PRE-CREATION /src/java/test/org/apache/zookeeper/test/fd/BertierSessionTest.java PRE-CREATION /src/java/test/org/apache/zookeeper/test/fd/ChenClientHammerTest.java PRE-CREATION /src/java/test/org/apache/zookeeper/test/fd/ChenFDTest.java PRE-CREATION /src/java/test/org/apache/zookeeper/test/fd/ChenQuorumHammerTest.java PRE-CREATION /src/java/test/org/apache/zookeeper/test/fd/ChenRecoveryTest.java PRE-CREATION /src/java/test/org/apache/zookeeper/test/fd/ChenSessionTest.java PRE-CREATION /src/java/test/org/apache/zookeeper/test/fd/FixedPingFDTest.java PRE-CREATION /src/java/test/org/apache/zookeeper/test/fd/InterArrivalSamplingWindowTest.java PRE-CREATION /src/java/test/org/apache/zookeeper/test/fd/PhiAccrualClientHammerTest.java PRE-CREATION /src/java/test/org/apache/zookeeper/test/fd/PhiAccrualFDTest.java PRE-CREATION /src/java/test/org/apache/zookeeper/test/fd/PhiAccrualQuorumHammerTest.java PRE-CREATION /src/java/test/org/apache/zookeeper/test/fd/PhiAccrualRecoveryTest.java PRE-CREATION /src/java/test/org/apache/zookeeper/test/fd/PhiAccrualSessionTest.java PRE-CREATION /src/java/test/org/apache/zookeeper/test/fd/SlicedPingFDTest.java PRE-CREATION Diff: https://reviews.apache.org/r/802/diff Testing ------- no testing; just testing INFRA-3660 Thanks; admin,Looking at this in my own rep; created https://issues.apache.org/jira/browse/INFRA-3660 to try to get some help for why this won't work in the ZK reviewboard.,+1 overall. Here are the results of testing the latest attachment http://issues.apache.org/jira/secure/attachment/12480577/ZOOKEEPER-702.patch against trunk revision 1125581. +1 @author. The patch does not contain any @author tags. +1 tests included. The patch appears to include 78 new or modified tests. +1 javadoc. The javadoc tool did not generate any warning messages. +1 javac. The applied patch does not increase the total number of javac compiler warnings. +1 findbugs. The patch does not introduce any new Findbugs (version 1.3.9) warnings. +1 release audit. The applied patch does not increase the total number of release audit warnings. +1 core tests. The patch passed core unit tests. +1 contrib tests. The patch passed contrib unit tests. Test results: https://builds.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/294//testReport/ Findbugs warnings: https://builds.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/294//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html Console output: https://builds.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/294//console This message is automatically generated.,Trying again.,Something still seems amiss in the patch (see the console output),-1 overall. Here are the results of testing the latest attachment http://issues.apache.org/jira/secure/attachment/12480552/ZOOKEEPER-702.patch against trunk revision 1125581. +1 @author. The patch does not contain any @author tags. +1 tests included. The patch appears to include 78 new or modified tests. -1 patch. The patch command could not apply the patch. Console output: https://builds.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/293//console This message is automatically generated.,Hi Camille; This patch is updated to trunk. Do you know whether the RB issues were solved?,Hi Abmar; Sorry for the delay in looking at this. Something is broken with xdocs and I can't get a clean CR out of the latest patch against trunk. Can you try again? I'll start looking at the rest of it in the meantime. Thanks.,Hi Camille Jira issue #848 addresses this feature. The C client must be updated in a similar way as the Java client was. We must define the points in the code where the failure detection module should be called. I have put some effort in rewriting the detectors in C. The code is hosted at https://github.com/abmargb/zk-fdmodule-c.,What changes will need to be made in the c client for this to work there?,-1 overall. Here are the results of testing the latest attachment http://issues.apache.org/jira/secure/attachment/12477371/ZOOKEEPER-702.patch against trunk revision 1091841. +1 @author. The patch does not contain any @author tags. +1 tests included. The patch appears to include 75 new or modified tests. -1 javadoc. The javadoc tool appears to have generated 1 warning messages. +1 javac. The applied patch does not increase the total number of javac compiler warnings. -1 findbugs. The patch appears to introduce 1 new Findbugs (version 1.3.9) warnings. +1 release audit. The applied patch does not increase the total number of release audit warnings. +1 core tests. The patch passed core unit tests. +1 contrib tests. The patch passed contrib unit tests. Test results: https://builds.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/233//testReport/ Findbugs warnings: https://builds.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/233//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html Console output: https://builds.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/233//console This message is automatically generated.,This patch addresses the last suggestions given by Camille and Henry at the review board.,-1 overall. Here are the results of testing the latest attachment http://issues.apache.org/jira/secure/attachment/12475676/ZOOKEEPER-702.patch against trunk revision 1089617. +1 @author. The patch does not contain any @author tags. +1 tests included. The patch appears to include 75 new or modified tests. +1 javadoc. The javadoc tool did not generate any warning messages. +1 javac. The applied patch does not increase the total number of javac compiler warnings. +1 findbugs. The patch does not introduce any new Findbugs (version 1.3.9) warnings. +1 release audit. The applied patch does not increase the total number of release audit warnings. -1 core tests. The patch failed core unit tests. +1 contrib tests. The patch passed contrib unit tests. Test results: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/221//testReport/ Findbugs warnings: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/221//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html Console output: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/221//console This message is automatically generated.,Addressed Camille's suggestions on the review board.,Created ReviewBoard for code review: https://reviews.apache.org/r/483/,-1 overall. Here are the results of testing the latest attachment http://issues.apache.org/jira/secure/attachment/12471939/ZOOKEEPER-702.patch against trunk revision 1074995. +1 @author. The patch does not contain any @author tags. +1 tests included. The patch appears to include 72 new or modified tests. +1 javadoc. The javadoc tool did not generate any warning messages. +1 javac. The applied patch does not increase the total number of javac compiler warnings. +1 findbugs. The patch does not introduce any new Findbugs (version 1.3.9) warnings. +1 release audit. The applied patch does not increase the total number of release audit warnings. -1 core tests. The patch failed core unit tests. +1 contrib tests. The patch passed contrib unit tests. Test results: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/177//testReport/ Findbugs warnings: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/177//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html Console output: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/177//console This message is automatically generated.,-1 overall. Here are the results of testing the latest attachment http://issues.apache.org/jira/secure/attachment/12471939/ZOOKEEPER-702.patch against trunk revision 1074995. +1 @author. The patch does not contain any @author tags. +1 tests included. The patch appears to include 72 new or modified tests. +1 javadoc. The javadoc tool did not generate any warning messages. +1 javac. The applied patch does not increase the total number of javac compiler warnings. +1 findbugs. The patch does not introduce any new Findbugs (version 1.3.9) warnings. +1 release audit. The applied patch does not increase the total number of release audit warnings. -1 core tests. The patch failed core unit tests. +1 contrib tests. The patch passed contrib unit tests. Test results: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/174//testReport/ Findbugs warnings: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/174//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html Console output: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/174//console This message is automatically generated.,Fixes findbug warning,-1 overall. Here are the results of testing the latest attachment http://issues.apache.org/jira/secure/attachment/12471908/ZOOKEEPER-702.patch against trunk revision 1072085. +1 @author. The patch does not contain any @author tags. +1 tests included. The patch appears to include 72 new or modified tests. +1 javadoc. The javadoc tool did not generate any warning messages. +1 javac. The applied patch does not increase the total number of javac compiler warnings. -1 findbugs. The patch appears to introduce 1 new Findbugs (version 1.3.9) warnings. +1 release audit. The applied patch does not increase the total number of release audit warnings. -1 core tests. The patch failed core unit tests. +1 contrib tests. The patch passed contrib unit tests. Test results: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/173//testReport/ Findbugs warnings: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/173//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html Console output: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/173//console This message is automatically generated.,Updated patch with trunk Added the stddev as a metric for the timeout estimation (which was removed in the last patch). Remove ping interval update when timeout was updated in the adaptive mechanisms.,-1 overall. Here are the results of testing the latest attachment http://issues.apache.org/jira/secure/attachment/12469882/ZOOKEEPER-702.patch against trunk revision 1072085. +1 @author. The patch does not contain any @author tags. +1 tests included. The patch appears to include 72 new or modified tests. +1 javadoc. The javadoc tool did not generate any warning messages. +1 javac. The applied patch does not increase the total number of javac compiler warnings. +1 findbugs. The patch does not introduce any new Findbugs (version 1.3.9) warnings. +1 release audit. The applied patch does not increase the total number of release audit warnings. -1 core tests. The patch failed core unit tests. +1 contrib tests. The patch passed contrib unit tests. Test results: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/172//testReport/ Findbugs warnings: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/172//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html Console output: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/172//console This message is automatically generated.,-1 overall. Here are the results of testing the latest attachment http://issues.apache.org/jira/secure/attachment/12469882/ZOOKEEPER-702.patch against trunk revision 1072085. +1 @author. The patch does not contain any @author tags. +1 tests included. The patch appears to include 72 new or modified tests. +1 javadoc. The javadoc tool did not generate any warning messages. +1 javac. The applied patch does not increase the total number of javac compiler warnings. +1 findbugs. The patch does not introduce any new Findbugs (version 1.3.9) warnings. +1 release audit. The applied patch does not increase the total number of release audit warnings. -1 core tests. The patch failed core unit tests. +1 contrib tests. The patch passed contrib unit tests. Test results: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/153//testReport/ Findbugs warnings: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/153//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html Console output: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/153//console This message is automatically generated.,Trying hudson again.,-1 overall. Here are the results of testing the latest attachment http://issues.apache.org/jira/secure/attachment/12469882/ZOOKEEPER-702.patch against trunk revision 1062244. +1 @author. The patch does not contain any @author tags. +1 tests included. The patch appears to include 72 new or modified tests. +1 javadoc. The javadoc tool did not generate any warning messages. +1 javac. The applied patch does not increase the total number of javac compiler warnings. -1 findbugs. The patch appears to introduce 9 new Findbugs (version 1.3.9) warnings. +1 release audit. The applied patch does not increase the total number of release audit warnings. +1 core tests. The patch passed core unit tests. +1 contrib tests. The patch passed contrib unit tests. Test results: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/107//testReport/ Findbugs warnings: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/107//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html Console output: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/107//console This message is automatically generated.,Updated patch with trunk. Gustavo; I am currently working on the FD module for the C client - Jira issue #848 addresses this feature.,-1 overall. Here are the results of testing the latest attachment http://issues.apache.org/jira/secure/attachment/12460294/ZOOKEEPER-702.patch against trunk revision 1055924. +1 @author. The patch does not contain any @author tags. +1 tests included. The patch appears to include 72 new or modified tests. -1 patch. The patch command could not apply the patch. Console output: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/98//console This message is automatically generated.,This is very interesting work; and I'm looking forward to playing with the Phi failure detector. Thanks Abmar. One thing I'm noticing is that the patch is working only on the Java side so far; which means the C client and all the bindings which go against it won't currently benefit from it. Are there any plans for introducing support in the C libraries as well?,You're right; I didn't check what the warning was about and assumed it was due to your patch. Resubmitting it. And yes; I'll create a jira for the findbugs warning.,Hi Flavio; thanks for the feedback. I am afraid these warnings are not related to the patch itself. Should we create an issue to remove the dead store to the variable 'size' in QuorumCnxManager$RecvWorker.run()?,It sounds like there is still one findbugs warning to fix.,-1 overall. Here are the results of testing the latest attachment http://issues.apache.org/jira/secure/attachment/12460294/ZOOKEEPER-702.patch against trunk revision 1036967. +1 @author. The patch does not contain any @author tags. +1 tests included. The patch appears to include 72 new or modified tests. +1 javadoc. The javadoc tool did not generate any warning messages. +1 javac. The applied patch does not increase the total number of javac compiler warnings. -1 findbugs. The patch appears to introduce 8 new Findbugs (version 1.3.9) warnings. +1 release audit. The applied patch does not increase the total number of release audit warnings. +1 core tests. The patch passed core unit tests. +1 contrib tests. The patch passed contrib unit tests. Test results: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/49//testReport/ Findbugs warnings: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/49//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html Console output: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/49//console This message is automatically generated.,This patch: Fixes the findbugs warnings Fixes the testSessionTimeout() failure on the SessionTest,-1 overall. Here are the results of testing the latest attachment http://issues.apache.org/jira/secure/attachment/12460193/ZOOKEEPER-702.patch against trunk revision 1036967. +1 @author. The patch does not contain any @author tags. +1 tests included. The patch appears to include 72 new or modified tests. +1 javadoc. The javadoc tool did not generate any warning messages. +1 javac. The applied patch does not increase the total number of javac compiler warnings. -1 findbugs. The patch appears to introduce 14 new Findbugs (version 1.3.9) warnings. +1 release audit. The applied patch does not increase the total number of release audit warnings. -1 core tests. The patch failed core unit tests. +1 contrib tests. The patch passed contrib unit tests. Test results: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/48//testReport/ Findbugs warnings: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/48//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html Console output: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/48//console This message is automatically generated.,-1 overall. Here are the results of testing the latest attachment http://issues.apache.org/jira/secure/attachment/12460193/ZOOKEEPER-702.patch against trunk revision 1036967. +1 @author. The patch does not contain any @author tags. +1 tests included. The patch appears to include 72 new or modified tests. +1 javadoc. The javadoc tool did not generate any warning messages. +1 javac. The applied patch does not increase the total number of javac compiler warnings. -1 findbugs. The patch appears to introduce 14 new Findbugs (version 1.3.9) warnings. +1 release audit. The applied patch does not increase the total number of release audit warnings. -1 core tests. The patch failed core unit tests. +1 contrib tests. The patch passed contrib unit tests. Test results: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/42//testReport/ Findbugs warnings: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/42//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html Console output: https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/42//console This message is automatically generated.,In this patch: Updated with trunk Fixed the timing issue - the timeout and the pinging interval were not properly set on the LearnerHandler class; so the tests took longer to be executed.,Thanks for the feedback Flavio. After some investigation; I have noticed that; with the patch applied; the server threads take longer to be released in the tests. I have measured the time that the QuorumPeer.join() invocations take on the QuorumBase.shutdown() method; and it seems that most of the time difference relies on these invocations. However; I am still trying to find out what is causing these threads to be delayed. I need to investigate it further.,Thanks; Abmar. It looks good to me. I have one quick comment; though. Is there any configuration value that could be causing tests to run slower? I have the impression that tests are running slightly slower with your patch. One in particular that called my attention was QuorumZxidSyncTest:  Trunk: [junit] Running org.apache.zookeeper.test.QuorumZxidSyncTest     [junit] Tests run: 2; Failures: 0; Errors: 0; Time elapsed: 94.55 sec  702: [junit] Running org.apache.zookeeper.test.QuorumZxidSyncTest     [junit] Tests run: 2; Failures: 0; Errors: 0; Time elapsed: 139.985 sec  and this seems to be pretty consistent.,Updated with trunk. Fixed the standard deviation calculus in the InterArrivalSamplingWindow.,Hi Flavio; Thanks for the comments. In this patch I have removed the normal distribution option for the PhiAccrual; and also the math-commons dependency in the ivy.xml file. With this modification; the PhiTimeoutEvaluator (and its implementations) are no longer needed. I also have refactored some of the common code regarding the ping sampling window. This made the code of the adaptive FDs clearer. Regarding my last experiments; I will post the results on the wiki asap.,Hi Abmar; Thanks for the addition to the patch. I was wondering if it is really a good idea to have both options; normal and exponential; implemented. Since your experiments have shown that exponential performs better; why don't use it only? Also; I was wondering if you have posted expertimental numbers showing that exponential performs better. In the case we go with exponential only; then we don't need the modification to ivy.xml; right? And last comment; it doesn't look like the classes implementing PhiTimeoutEvaluator need to be public. Is this right?,After making some more experiments with the Phi Accrual; I have noticed that the exponential distribution fits the ping inter-arrival sampling window better. Then; I have added a new option for the PhiAccrual called 'dist'; that is the distribution used to model the inter-arrivals. Two possible values for this parameter are 'norm' and 'exp'; and the default is 'exp'. When we set the PhiAccrual to use the exponential distribution; it will work similar to the Cassandra's failure detector.,Patch applied cleanly for me. I ran the tests and they all passed. I did notice that java test time for me moved from ~18 minutes to ~28 minutes. I don't think we should hold up this patch for this; however going fwd we should think about how to enable a quicker 'commit test' (run by devs before submitting/committing) as well as longer running hudson & integration tests. Where the commit test runs more quickly (hopefully < 10minutes). We will probably need to use something like junit test category support. Nice job; thanks.,Fixed the issue on the patch generation that Flavio mentioned.,I forgot to mention that the patch does not apply cleanly. I had to delete the first two lines (generated by eclipse); but once I did it applied cleanly. Abmar; could you upload a new patch? My +1 still holds...,+1; I'm pretty happy with the patch.,Thanks for the feedback Flavio; I have fixed the issue you mentioned. Only the new quorum hammer tests were not working propertly; they were creating the default failure detector in all the test cases. This patch addresses this issue.,In the previous comment; hopefully it was clear that I meant to say that the new tests are NOT working as expected. Apologies for the typo.,Thanks for the updated patch; Abmar. The new tests; however; are working as expected. More specifically; the methods in QuorumBase (createLearnersFD and createSessionsFD) are not being overridden as expected; which affects all new hammer tests. I haven't checked the other tests; but I suspect they suffer from the same problem. I'm canceling the patch for now.,1,I thought I had replied to your comment on the 13th; but it seems not. Looking at the code again; the way you did the factory is good. I misunderstood how zookeeper handled configuration.,In this patch: Replaced 'heartbeat' for 'ping' in the forrest documentation Revised javadocs Expanded the hammer (client and quorum) and recovery tests to exercise all failure detectors implementations. Flavio; I have run the tests you mentioned and they seem to fail in the trunk also.,Hi Abmar; I believe my comments from Aug 18 have not been addressed. In particular; I still see the same javadoc issues and no test exercising the failure detectors with a running ensemble. I believe the default failure detector is naturally exercised in various tests; but it would be good to have tests that also exercise the other failure detectors in a running ensemble. Isn't it right? There are still several references in javadocs and in the documentation to 'heartbeat'. Should we replace them with 'ping' for consistency? I'm also seeing some tests failing; like ObserverTest and NioNettySuiteHammerTest; but I'm not sure if this is related to this patch. I will explore a little further.,Hi Ivan; thanks for the feedback. I thought the idea was to declare an alias to a custom failure detector; so setting its options would be more user friendly. e.g.: sessionsFD = myfd sessionsFD.myfd = com.softwaresoft.zk.myFailureDetector sessionsFD.myfd.blahblah = foobar sessionsFD.myfd.myoption = barfoo In this case; I need both className and fdName parameters in the factory code (and this is how it is implemented in the patch). What do you think?,Code looks good Ambar; good job I think the factory code could be improved slightly though. Currently if you want a custom FD you pass in a FDname and an FDClass. I would merge these two; so that you only pass in FDname to the factory; and the factory can decide whether this is a builtin or a custom. So as an example; FDname can be fixed; chen; phiaccrual or com.blah.foobar.MyFailureDetector. When the factory sees this it goes... if (fdName.equals('fixed')) { fdClass = FixedPingFailureDetector.class; } else if (fdName.equals('chen')) { fdClass = ChenFailureDetector.class; } else if (fdName.equals('bertier')) { fdClass = BertierFailureDetector.class; } else if (fdName.equals('phiaccrual')) { fdClass = PhiAccrualFailureDetector.class; } else if (fdName.equals('sliced')) { fdClass = SlicedPingFailureDetector.class; } else { fdClass = Class.forName(fdName); },In this patch: Added support for declaring new failure detectors; as Ivan suggested. Updated documentation to reflect this. Replaced all 'heartbeat' mentions in the API and tests for 'ping'.,ZooKeeper-702 and ZOOKEEPER-823 both patch ClientCnxn,Cancelling patch until comments are addressed.,+1 to changing the API to use either ping or heartbeat only. I prefer ping because it is shorter.,One more comment on the API. Ping and heartbeat seem to be used interchangeably though it's my understanding that these are fundamentally the same thing.,I think putting it under the fd.classname would be most accessible for users. For example; fd.myfailuredetector = com.softwaresoft.zk.myFailureDetector fd.myfailuredetector.blahblah = foobar fd.myfailuredetector.myoption = barfoo etc... Then when the factory tries to instantiate a myfailuredetector and it sees that myfailuredetector isn't a known type it should look up 'fd.' + 'myfailuredetector' in properties; and instantiate the class with fdOptions as a parameter. Let the implementation take care of which options it wants to read from fdOptions.,I this patch I have addressed all the issues Ivan and Flavio raised; but the reflection code on the FaiilureDetectorFactory; in which I am working. What do you think is the most user-friendly way of configuring the failure detector? (using reflection on the FailureDetectorFactory). Should we require the fully classified class name in the fd.classname option and the parameters should be like fd.param1; fd.param2...? In this sense; should we force the failure detectors classes to have methods like setParam1(String param1); setParam2(String param2)...?,Hi Flavio; As we are using inter arrival times and a flexible sampling window; it can work the same way of Chen's estimation in both cases (j >= n or j < n).,Thanks for the comments; Ivan. I particularly agree with your point on building a list every time. I was actually wondering if there is any other important performance penalty we might be introducing. I can't think of any at the moment; but it be good to keep it in mind. The use of hbReceived and appMsgReceived does not bother me because they make more explicit what they do; but I agree it is more flexible the way you propose. Abmar; I went back to the papers and contrasted your implementation against the proposed algorithms. The only issue I could find is that the Bertier approach computes EA differently when j < n. I suggest we follow their description. The others seem fine to me.,Hi Flavio and Ivan. Thanks for reviewing the patch and posting feedback. Ivan; totally agreed with your suggestions; I have already been thinking about some of the issues you have raised also. I will address the issues you have mentioned and will update the patch asap. By the way; I would like to thank the ZooKeeper community for such opportunity; it was a very enriching experience for me; not only as a developer but also as a researcher. And I plan to keep on contributing to ZK community _x0089_ÛÒ as I have talked to Flavio previously; next steps include some more experimentation on the failure detection methods to better characterize them; and writing some guidelines regarding their usage and their appropriateness for certain scenarios/deployments.,Hi Abmar; The code looks good. Excellent job! I have a few comments about the API. API: Ping and Heartbeat are used interchangably. There are heartbeatReceived & appMessageReceived and pingSent & appMessageSent. In the actual implementations these do the same or very similar things. It would make sense to compress them into one api; and have the type of message received/sent specified by a parameters. Whats more; if a new type of message comes along; the failure detectors will already handle it without each needing to have their code updated. void messageReceived(String id; long now; MessageType type); void messageSent(String id; long now; MessageType type); The getFailedObjects and getObjectsToPing are used to return lists; which in all but one case have contains called on them once and are then discarded. I think these would be better as: bool isFailed(String id; long now) bool shouldPing(String id; long now) So that: a) You don't construct a list which is going to be discarded very soon. b) The internals of the FailureDetector are better hidden from the user of the API. In fact; shouldPing could be discarded and getTimeToNextPing(String id; long now) == 0 used. release should be releaseMonitored to make it symmetrical with registerMonitored. General: The failure detection factory could use newInstance to create arbitary failure detectors. So after if (fdName.equals('slicedhb')) fails; you could check if fdName is a fully qualified class name; and if so find the class and create a newInstance. This way its possible to add a failure detector without having to modify the zookeeper code. There's a lot of duplication in the javadoc for the Zookeeper class. A lot of this could be eliminated by using the @see directive. FailureDetector.java L131; typo; pint instead of ping.,Great job so far; Abmar. I'm thoroughly reviewing the patch; and I'm not done yet; but I have I few comments that you could consider addressing: Please revise javadocs. Many of them have typos and incorrect information; e.g.; the phi accrual javadocs refer to the Bertier fd; In ZooKeeperMain.java (-259;9 +279;21); you should perhaps have a more informative message when throwing an IllegalArgumentException. You could; for example; list the current fd options available; The tests included do not exercise the failure detectors with a running instance of the system. Instead they only check a few invariants of the failure detectors. We need to test that we can run an ensemble of servers with each of the failure detector implementations. You could use (or extend if necessary) QuorumBase or QuorumUtil to run an ensemble with each of the failure detectors. You could then kill the leader while executing operations and verify that eventually a new leader emerges and regular operation is resumed.,Ignore that; something strange happened when I downloaded.,I've just attempted to apply ZOOKEEPER-702.patch against trunk and it doesn't works. The patch seems to be a delta against a previous patch. Could you generate a patch of everything against current trunk?,I have updated the wiki page with the results of the experiments: http://wiki.apache.org/hadoop/ZooKeeper/GSoCFailureDetector,In this patch: Fixed a delay in client heartbeat sending; that was causing unit tests to run slowly. Added a new parameter to phi accrual FD - the minimum window size to begin timeout adaptation. Added a moderation step to Bertier FD; to comply with second level task described in his paper. Made Chen's alpha parameter configurable; and not a quarter of the timeout. Removed ^M characters from the patch lines. I also have splitted the patch in two parts: one containing the failure detector module source code (ZOOKEEPER-702-code.patch) and another containing the documentation (ZOOKEEPER-702-doc.patch).,Abmar; A few comments: Unit tests are not running properly for me. It is running very slowly and I'm not sure what's causing it. It looks like you've been running on Windows. It would be good to also test on a Unix platform. I'm on MacOS 10.5.6; Java(TM) SE Runtime Environment (build 1.6.0_20-b02-279-9M3165); We don't have changes for the C client; right? We need make sure that the documentation says that the C client must currently use the default detector and open a jira to fix it; Please consider splitting the patch into multiple files to make it easier on other folks to review your work.,In this patch: Added forrest docs Modified some initialization parameters of the algorithms,I was thinking of adding a new parameter to the adaptive methods; that is the minimum window size to begin performing timeout adaptation. As we noticed; adaptive methods can get benefit of a large window size; and there can be premature false suspicion if we do not know the behaviour of the network. In this case; the methods will start using a static timeout until the window reaches a certain size. What do you think?,Synchronized patch with updates from trunk Put all changes from subtasks together in the this patch,In this patch I removed some tests modifications that were not intended to be committed.,Sure Flavio; you are right. When I said that failure detectors rely on the assumption that TCP guarantees massage delivery and in order; I meant that the fds are not concerned about these issues. I have not implemented any ordering (or loss) treatment from the original algorithms; which do not rely on any protocol. Again; thanks for the feedback Benjamin. Doubts and suggestions are always welcome.,My understanding is that the failure detector is supposed to behave as an oracle that simply says dead or alive for each monitored process. The application on top; in this case ZooKeeper; decides what to do with that information. Followers and leaders will most likely use it differently. Your point about TCP is excellent; Ben.The way I see it the lost packets won't be observed for the failure detector; and they will end up translated into jitter due to the retransmissions; assuming they are retransmitted. Is this right; Abmar?,In this patch: Refactored SessionTracker and Heartbeat tracking on learners. Fixed an issue concerning server recovery. Patches of the subtasks use this patch as a baseline.,Hi Benjamin Thanks for your feedback! Regarding your first question; a failure detector is intended to determine when monitored objects are to be pinged and when they are supposed to have failed. So; you can have two different failure detectors running in two sides of the application; or you can have the failure detector in just one side; and the other side just replies the pings messages. Summarizing; a failure detector implementation is absolutely responsible for one side of the monitoring. Concerning your note; the failure detectors I have implemented rely on the assumption that zk (TCP) guarantees massage delivery and in order. To see the effects of the new failure detection methods; we are planning to do some experiments in the next week. We can also check if there is any effect of TCP in the adaptive fds behavior.,hey abmar this looks pretty cool. i think it will make the code much more clearer when we get this in. i'm wondering about the asymmetrical nature of the current zk fd that you've already mentioned: one side is generating traffic and the other is responding. shouldn't that be reflected in the interface? it is a bit confusing when parts of the interface are used on one side and parts on the other. on a separate note; i'm wondering if our use of TCP affects the failure detector. since TCP automatically handles lost packets; we aren't going to lose packets like we do with UDP based protocols.,In this patch: Learners report clients heartbeat sample information (mean and standard deviation) to Leaders.,Hi Diogo! Thank you for indicating this paper; I haven't found such failure detection type so far; it is very interesting. It proposes a simple way of estimating heartbeats arrival times based on application messages. However it does require the attachment of sending times to all application messages (or at least the ones it will use to do the estimation); which is an overhead to message size. Anyway; with the separate failure detector module; it would be easy to implement a new Failure Detector that uses such data. So far; I have adapted the proposed failure detectors in order to compute the estimated next arrival time only when a heartbeat is received.,Hi! There is paper by Satzger et al. where it is described an easy method to use non-periodic application messages as periodic heartbeats. The paper is called 'A Lazy Monitoring Approach for Heartbeat-Style Failure Detectors'. I hope that is still relevant. Cheers; Diogo,As I was refactoring server-to-server monitoring; I noticed that Leaders cannot process the client session heartbeats received by Learners; once they only track the last heartbeat (or app message) received from the clients; in order to report to the Leader (LearnerSessionTracker). I am thinking of tracking the heartbeats (not app messages) received from the clients in the LearnerSessionTracker; so the Learners can send them to the Leader; and the Leader itself can do an adaptive monitoring on these clients too. What do you think?,In this patch: Adapted failure detectors to work on both client and server sides of the client-server monitoring. Refactored server-side code to use the FailureDetector interface. Created a new FailureDetector; which groups monitoreds by their tick time; similar to what the SessionTracking does. Made the failure detector (and its parameters) options of the ZooKeeper configuration file. Corrected indentation (spaces instead of tabs). Next steps are: As suggested by Flavio; create sub tasks in this Jira for: Experimentation. Refactor server-server monitoring to use FailureDetector interface and make it configurable. Forrest documentation.,Hi Flavio; actually I was talking about the client monitoring on the server-side (SessionTracking).,Also; doesn't the leader ping followers at regular intervals? (Leader.java:360),Here are a couple of comments: It sounds like we will have to sample the heartbeats instead of considering all of them. If we use all messages as heartbeats; then we may end up in a situation in which we have bursts of traffic interleaved with periods of silence. In such cases; the failure detector might get confused for some time when it transitions from burst to silence.Using the terminology of Chen et al.; I was thinking that we could take \eta and only consider one heartbeat for every period determined by \eta. In ZooKeeper today; we have such \eta for both client-side detection and server-side detection. Alternatively; we could simply work with the phi accrual detector on the server side for now; make sure it works; and then revisit the other two. The choice of an exponential distribution in the math commons implementation is curious. The original paper does assume a normal distribution; so I wonder why it uses exponential instead.,Ashwin; I have already taken a look at this library; as suggested by Adam; and my implementation for the Phi Accrual is pretty similar; it also uses the Commons Math. However it uses the Normal distribution; as stated in the original paper; instead of the Exponential one. What do you think about making the samples distribution a parameter of the Failure Detector?,The Phi accrual detector code is also available as a simple library - http://github.com/arosien/failure. Fairly simple if you use Commons Math.,Hi Flavio. What I was trying to say is that the algorithms (Chen; Bertier) assumes that heartbeats are sent in regular intervals. Once this is not the ZooKeeper case; I tried to adapt these algorithms to estimate the time between a ping is sent and a corresponding heartbeat is received. This worked well for the client side; but it is not appropriate for the server side. After thinking about this; I decided to adopt an estimation of the inter arrival times between heartbeats. I guess it fits both server and client sides of the solution. What do you think?,Abmar; I'm not sure I understand what you're saying. What exactly prevents you from performing an adaptive monitoring of the clients? If you can use regular intervals; then I would assume that you can also use variable intervals. Is this a problem with our current design or the one we are proposing for this jira?,While refactoring the server side of the server-client monitoring; more specifically the SessionTracking related classes; I realized that; once the servers do not ping the clients; and they also use app messages received from the clients as heartbeats; it is not possible to do an adaptive monitoring of the clients. Servers do not know the time a client sends a ping and pings are not sent frequently _x0089_ÛÒ only at idle intervals. I am finishing refactoring the server side code and I will force the use of a fixed heartbeat strategy for now. Comments and suggestions are welcome,Patch changes are: Created appMessageReceived() and appMessageSent() methods. These methods allow the Failure Detector to use application messages as heartbeats; which reflects the ZooKeeper case. Added command line options to configure failure detector method and its parameters. Unit tests expanded to comply with new methods. Enhanced javadocs for each Failure Detector implementation Added commons-math dependency to ivy.xml Next things to work on are: Adapt server side code to use the proposed FD interface Start experimenting,Added more comments to pseudo codes.,As discussed with Flavio; I am thinking of adding a new parameter called -fd to the client; which will determine the name of the failure detector to be used. In this sense; the parameters of the failure detector will have its name as prefix; for instance: -fd chen -fd.chen.alpha 10000 In the server side; these parameters are intended to be defined in the ZooKeeper configuration file. What do you think?,Sure Flavio; so it will take another step: Make failure detector method and parameters configurable by the user.,Three very quick comments; Abmar: 1- Please don't forget to add license headers to each one of the new files; 2- Please add javadocs; 3- I was wondering what the current plan is to configure which failure detector to use and the parameters of the failure detector. In the current patch; it looks like you're setting it directly in the code.,Agreed with what Flavio said about the second point. The application scheduling interval is; indeed; much lower than the FD pinging interval. Attached the implementations of all initially suggested FDs and their unit tests. Also have included the suggestions Flavio gave concerning package naming and method scope. Once the Phi Accrual implementation needs to compute the Normal Distribution cdf; I have used the math-commons API; however; it still has to be added as an Ivy dependency. So; before experimenting; there are a few steps that need to be accomplished: Create a receiveAppHeartbeat() method on the interface so that we can keep using zookeeper messages as heartbeats and analyze its impact and adapt it to each FD implementation Adapt server side code to use the proposed FD interface Add comments to pseudo codes Expand unit tests Enhance code documentation Add math-commons dependency to Ivy,Abmar; It would be nice if you could add some comments to the pseudo-code of each FD; especially for the variables and parameters; and also provide the corresponding references. On your first point above; it would be nice if we could keep using zookeeper messages as heartbeats. On your second point; I believe that the problem you're alluding to will exist in any implementation; since scheduling a message to be sent doesn't guarantee that it will be sent right away. Is there any different issue you're seeing here that I'm overlooking?,Once ZooKeeper guarantees delivery order; I can ignore the seq field in heartbeat and pings messages. Now I am implementing the methods on the interface I proposed and two issues came to mind: ZooKeeper uses application messages as hearbeats; so actual pings and heartbeats are used only at idle states. The proposed methods must be adapted to consider this scenario. Regarding that a single thread is being used for the app and the FD; there is a delay between the time a monitored must be pinged and the time it is actually pinged. The impact of this delay in the FD QoS must be analyzed.,Attached the pseudo-codes for the failure detectors I have proposed. It seems I need to include the heartbeat sequence number in the receiveHeartbeat method of the FailureDetector interface in order to implement some of these FDs.,Hi Abmar; I was wondering about FailureDetectorStatus. It might be cleaner to separate getStatus into two separate calls; each call for each of the data structures you're currently returning on FailureDetectorStatus. I was also thinking that a shorter package name might be better; and it might be also better to have it under zookeeper. I was thinking about something along the lines of: 'org.apache.zookeeper.fd' or 'org.apache.zookeeper.fdetector'.,This patch proposes a first version of the FailureDetector interface. Its implementations are intended to run in the same thread of the application. Also; I have implemented a simple failure detector based on the ClientCnxn class and adapted this class to use this FD implementation. This is a preliminary patch; just for analysis and feedback; it is not intended to be committed.,I have updated the wiki page for this (http://wiki.apache.org/hadoop/ZooKeeper/GSoCFailureDetector); including a discussion on whether there should be another thread for failure detection. I have previously discussed it with Flavio in order to raise benefits and drawbacks of including another thread in the application and we are expecting feedback to make this decision.,Henry; I'm not seeing the applications on the gsoc site. Can you add me as appropriate? So that I can see the applications I mean.,Also submitted GSoC project proposal for this.,Submitted GSoC application for this. Looking forward to feedback. Btw; link to HDY04 is broken; found this work only with google.
72474,,,,,,,,Closing all resolved issues due to a successful 1.0.0-incubating release,http://cwiki.apache.org/confluence/display/SHIRO/How+to+Contribute,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
15698,,,,,,,,I believe this is an issue. I have an action saveAction which I want to chain to editAction whenever there is a validation error. This is often necessary because a JSP will be displayed which has dynamic content such as a selectable list of items. However; if editAction has validation support; it will never be executed (even if it would validate successfully).,As pointed out in my last comment; we should not consider this as an issue. Anyway; thanks for bringing up this discussion and offering your help.,As Alexandru already pointed out in a comment for WW-1093: The desired behaviour can be achieved without those changes if the chain-to action doesn't have the validation interceptor in place. It is not the best idea to set up ties between interceptors; they should really work independently. Also; there might be situations when you want to validation in place for the chain-to action; although there was a validation already (even at low chance; this is thinkable). The suggested patch would keep you from doing this.,Sorry; I forgot doing some cleanup work; e.g.: .... final ActionContext context = invocation.getInvocationContext(); HttpServletRequest request = (HttpServletRequest) context.get(HTTP_REQUEST); Boolean isEscape = (Boolean)request.getAttribute('webwork.validation.escape'); if (isEscape != null && isEscape.booleanValue()) { log.debug('Skipping workflow. Validation escape flag found in request.'); request.setAttribute('webwork.validation.escape'; new Boolean(false));//do cleanup return invocation.invoke(); } .... and also; since ww 2.2 suggests using chain for calling action from an action; so I suggest we can modify ChainingInterceptor and ActionChainResult too in order to implent above escaping feature.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
74032,x,,,,,,,Awesome. I actually did find two more non-code files - the readme docs in java/social-api/ and have added them as deletes to my client. Good to know it checks out with you though. Unless anybody objects I'll submit this relatively soon.,Looks good to me; all the references to abdera I could find appear to be included in the patch. My check was based a visual scan of the patch and a scan of the filesystem for references comparing with all the file that are touched by the patch. For reference; the patch modifies these files java/server/src/main/webapp/WEB-INF/web.full.xml java/server/src/main/webapp/WEB-INF/web.social.xml java/server/src/main/webapp/WEB-INF/web.xml java/social-api/src/main/java/org/apache/shindig/social/SocialApiGuiceModule.java java/social-api/src/test/java/org/apache/shindig/social/SocialApiTestsGuiceModule.java And deletes these files java/social-api/src/main/java/org/apache/shindig/social/RestServerServlet.java java/social-api/src/main/java/org/apache/shindig/social/abdera/RawResponseContext.java java/social-api/src/main/java/org/apache/shindig/social/abdera/RequestUrlTemplate.java java/social-api/src/main/java/org/apache/shindig/social/abdera/SocialApiProvider.java java/social-api/src/main/java/org/apache/shindig/social/abdera/SocialRequestContext.java java/social-api/src/main/java/org/apache/shindig/social/abdera/SocialRouteManager.java java/social-api/src/main/java/org/apache/shindig/social/abdera/atom/AbstractSocialEntityCollectionAdapter.java java/social-api/src/main/java/org/apache/shindig/social/abdera/atom/ActivityAdapter.java java/social-api/src/main/java/org/apache/shindig/social/abdera/atom/DataAdapter.java java/social-api/src/main/java/org/apache/shindig/social/abdera/atom/PersonAdapter.java java/social-api/src/main/java/org/apache/shindig/social/abdera/json/JSONFilter.java java/social-api/src/main/java/org/apache/shindig/social/abdera/json/PersonJsonAdapter.java java/social-api/src/main/java/org/apache/shindig/social/abdera/json/SimpleJsonAdapter.java java/social-api/src/main/java/org/apache/shindig/social/abdera/util/ValidRequestFilter.java java/social-api/src/main/java/org/apache/shindig/social/samplecontainer/SampleContainerRouteManager.java java/social-api/src/test/java/org/apache/shindig/social/JettyServer.java java/social-api/src/test/java/org/apache/shindig/social/abdera/AbstractLargeRestfulTests.java java/social-api/src/test/java/org/apache/shindig/social/abdera/RouteManagerTest.java java/social-api/src/test/java/org/apache/shindig/social/abdera/SocialApiProviderTestFixture.java java/social-api/src/test/java/org/apache/shindig/social/abdera/SocialRequestContextTest.java java/social-api/src/test/java/org/apache/shindig/social/abdera/ValidRequestTest.java java/social-api/src/test/java/org/apache/shindig/social/abdera/atom/RestfulAtomActivityTest.java java/social-api/src/test/java/org/apache/shindig/social/abdera/atom/RestfulAtomDataTest.java java/social-api/src/test/java/org/apache/shindig/social/abdera/atom/RestfulAtomPeopleTest.java java/social-api/src/test/java/org/apache/shindig/social/abdera/json/PersonJsonAdapterTest.java java/social-api/src/test/java/org/apache/shindig/social/abdera/json/RestfulJsonActivityTest.java java/social-api/src/test/java/org/apache/shindig/social/abdera/json/RestfulJsonDataTest.java java/social-api/src/test/java/org/apache/shindig/social/abdera/json/RestfulJsonPeopleTest.java java/social-api/src/test/java/org/apache/shindig/social/samplecontainer/SampleContainerRoutesTest.java,I can commit this from my client so we don't have to worry about the diff not quite picking up deletes correctly. Just want to sanity check the cleanup with everyone.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
8098,,,,,,,,*** Bug 9236 has been marked as a duplicate of this bug. ***,David; I believe this bug is due to broken implementations of upperCase and lowerCase in the Macintosh transcoder routines. I've checked in revised copies of these; and am listing the diffs below. Could you apply the diffs to your version and confirm that this fixes your problem? Then update this bug report? Thanks! åÊåÊdiff -u -r1.2 -r1.3 åÊåÊ--- MacOSUnicodeConverter.cpp 9 Apr 2002 15:44:00 -0000 1.2 åÊåÊ+++ MacOSUnicodeConverter.cpp 19 May 2002 22:57:56 -0000 1.3 åÊåÊ@@ -55;7 +55;7 @@ åÊåÊåÊåÊ*/ åÊåÊåÊ åÊåÊåÊ/* åÊåÊ- * $Id: MacOSUnicodeConverter.cpp;v 1.2 2002/04/09 15:44:00 knoaman Exp $ åÊåÊ+ * $Id: MacOSUnicodeConverter.cpp;v 1.3 2002/05/19 22:57:56 jberry Exp $ åÊåÊåÊåÊ*/ åÊåÊåÊ åÊåÊåÊ åÊåÊ@@ -468;20 +468;16 @@ åÊåÊåÊ#if defined(XML_METROWERKS) åÊåÊåÊ // Use this if there's a reasonable c library available. åÊåÊåÊ // Metrowerks does this reasonably åÊåÊ- wchar_t * p = (wchar_t*) toUpperCase; åÊåÊåÊ wchar_t c; åÊåÊ- åÊåÊ- while ((c = *p) != 0) åÊåÊ+ for (XMLCh* p = (XMLCh*)toUpperCase; ((c = *p) != 0); ) åÊåÊåÊ *p++ = std::towupper(c); åÊåÊåÊ#elif defined(XML_MACOSX) || true åÊåÊåÊ // This might work; assuming we're on an ascii compiler. åÊåÊåÊ // We'll use this under ProjectBuilder for now. åÊåÊåÊ // Note that this only handles the ascii portion of the åÊåÊåÊ // string; leaving all other characters in original case. åÊåÊ- wchar_t * p = (wchar_t*)toUpperCase; åÊåÊ- wchar_t c; åÊåÊ- åÊåÊ- while ((c = *p) != 0) åÊåÊ+ XMLCh c; åÊåÊ+ for (XMLCh* p = (XMLCh*)toUpperCase; ((c = *p) != 0); ) åÊåÊåÊ { åÊåÊåÊ if (c >= 'a' && c <= 'z') åÊåÊåÊ c += 'A' - 'a'; åÊåÊ@@ -492;26 +488;23 @@ åÊåÊåÊ#endif åÊåÊåÊ} åÊåÊåÊ åÊåÊ+ åÊåÊåÊvoid MacOSUnicodeConverter::lowerCase(XMLCh* const toLowerCase) const åÊåÊåÊ{ åÊåÊåÊ // å´å´å´ TODO: Support CFString for this conversion åÊåÊåÊ#if defined(XML_METROWERKS) åÊåÊåÊ // Use this if there's a reasonable c library available. åÊåÊåÊ // Metrowerks does this reasonably åÊåÊ- wchar_t * p = (wchar_t*) toLowerCase; åÊåÊåÊ wchar_t c; åÊåÊ- åÊåÊ- while ((c = *p) != 0) åÊåÊ+ for (XMLCh* p = (XMLCh*)toLowerCase; ((c = *p) != 0); ) åÊåÊåÊ *p++ = std::towlower(c); åÊåÊåÊ#elif defined(XML_MACOSX) || true åÊåÊåÊ // This might work; assuming we're on an ascii compiler. åÊåÊåÊ // We'll use this under ProjectBuilder for now. åÊåÊåÊ // Note that this only handles the ascii portion of the åÊåÊåÊ // string; leaving all other characters in original case. åÊåÊ- wchar_t * p = (wchar_t*)toLowerCase; åÊåÊ- wchar_t c; åÊåÊ- åÊåÊ- while ((c = *p) != 0) åÊåÊ+ XMLCh c; åÊåÊ+ for (XMLCh* p = (XMLCh*)toLowerCase; ((c = *p) != 0); ) åÊåÊåÊ { åÊåÊåÊ if (c >= 'A' && c <= 'Z') åÊåÊåÊ c += 'a' - 'A';,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
18059,,,,,,,,This was probably fixed by WODEN-86 which introduced support for the curly brace syntax in the http location template. This JIRA can now be closed.,This test case is now passing. Not sure what the fix was (i.e. to Woden or to the testcase) but I'm marking it resolved.,I regenerated the W3C reports. There are now 12 errors reported for Woden on this test case. [1] [1] http://dev.w3.org/cvsweb/~checkout~/2002/ws/desc/test-suite/results/Woden/LocationTemplate-1G/SOAPservice.results.xml?content-type=application/xml,I regenerated the results in r480113. I'll have the W3C reports refreshed.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
58251,,,,,,,,All third party repos are removed for released artifacts. The only exception is the metaxa engine which will be excluded from the release.,Can we please collect information about artifacts that are currently not in maven central in this issue. This would help to get an overview.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
59275,,,,,,,,Failure on profile 200 is expected and will be handled by SQOOP-731.,Integrated in Sqoop-ant-jdk-1.6-hadoop100 #334 (See https://builds.apache.org/job/Sqoop-ant-jdk-1.6-hadoop100/334/) SQOOP-721 Duplicating rows on export when exporting from compressed files. (Revision a840f41fc76688de6ab0d61e2cba3af32b2a9a96) Result = SUCCESS cheolsoo : https://git-wip-us.apache.org/repos/asf?p=sqoop.git&a=commit&h=a840f41fc76688de6ab0d61e2cba3af32b2a9a96 Files : src/java/org/apache/sqoop/mapreduce/CombineFileSplit.java src/java/org/apache/sqoop/mapreduce/CombineFileInputFormat.java src/java/org/apache/sqoop/mapreduce/CombineFileRecordReader.java,Integrated in Sqoop-ant-jdk-1.6-hadoop200 #342 (See https://builds.apache.org/job/Sqoop-ant-jdk-1.6-hadoop200/342/) SQOOP-721 Duplicating rows on export when exporting from compressed files. (Revision a840f41fc76688de6ab0d61e2cba3af32b2a9a96) Result = FAILURE cheolsoo : https://git-wip-us.apache.org/repos/asf?p=sqoop.git&a=commit&h=a840f41fc76688de6ab0d61e2cba3af32b2a9a96 Files : src/java/org/apache/sqoop/mapreduce/CombineFileRecordReader.java src/java/org/apache/sqoop/mapreduce/CombineFileInputFormat.java src/java/org/apache/sqoop/mapreduce/CombineFileSplit.java,Integrated in Sqoop-ant-jdk-1.6-hadoop23 #509 (See https://builds.apache.org/job/Sqoop-ant-jdk-1.6-hadoop23/509/) SQOOP-721 Duplicating rows on export when exporting from compressed files. (Revision a840f41fc76688de6ab0d61e2cba3af32b2a9a96) Result = SUCCESS cheolsoo : https://git-wip-us.apache.org/repos/asf?p=sqoop.git&a=commit&h=a840f41fc76688de6ab0d61e2cba3af32b2a9a96 Files : src/java/org/apache/sqoop/mapreduce/CombineFileRecordReader.java src/java/org/apache/sqoop/mapreduce/CombineFileSplit.java src/java/org/apache/sqoop/mapreduce/CombineFileInputFormat.java,Integrated in Sqoop-ant-jdk-1.6-hadoop20 #339 (See https://builds.apache.org/job/Sqoop-ant-jdk-1.6-hadoop20/339/) SQOOP-721 Duplicating rows on export when exporting from compressed files. (Revision a840f41fc76688de6ab0d61e2cba3af32b2a9a96) Result = SUCCESS cheolsoo : https://git-wip-us.apache.org/repos/asf?p=sqoop.git&a=commit&h=a840f41fc76688de6ab0d61e2cba3af32b2a9a96 Files : src/java/org/apache/sqoop/mapreduce/CombineFileSplit.java src/java/org/apache/sqoop/mapreduce/CombineFileRecordReader.java src/java/org/apache/sqoop/mapreduce/CombineFileInputFormat.java,Committed to trunk. Thanks Jarcec!,+1. I diff'ed CombineFileInputFormat.java from Sqoop and Hadoop-2.0.x and confirmed that there is one change as follows: 154c160;163 <     return codec instanceof SplittableCompressionCodec; --- >  >     // Once we remove support for Hadoop < 2.0 >     //return codec instanceof SplittableCompressionCodec; >     return false;  As far as I understand; the only impact of this difference is that the compressed files won't be split even though they're splitable; which doesn't have any impact on correctness while it does on performance. I didn't run any tests with this patch; but given that the patch is identical to what's committed in MAPREDUCE-1597; I think that it is fine. Please let me know if anyone has any concerns. Thanks!,We're using CombineFileInputFormat implementation that was copied over from Hadoop namespace to Sqoop namespace to retain exactly the same behavior across all supported Hadoop platforms. It seems that this issue was already fixed upstream in MAPREDUCE-1597. I'll try to port new version to our code base.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
19241,x,,,,,,,I applied the patch. I'll experiment soon with another approach whether a page is stateless based on the generation of a callback url to that page. If there is at least one callback url to a page then it is stateful. It will be tracked in a different ticket. The last patch will stay even if the new approach works because it is a good optimization.,will probably need a unit test as well to make sure we dont break this in the future,Here is a simple patch that doesn't check whether a page is stateless before touching it because the page itself comes from the store; so there is a session already.,fix for this breaks wicket-cdi. imagine a component that is visible only if the user is logged in. to do this it overrides onconfigure() { setvisible(logins.getcurrentuser()!=null); } where logins is a cdi bean. Page#isPageStateless() is called as soon as the page is pulled from the page store; which means now onconfigure() is called when wicket cdi retrieves the page instance and before it is able to figure out what conversation to wrap the page in. {code} org.jboss.weld.context.ContextNotActiveException: WELD-001303 No active contexts for scope type javax.enterprise.context.ConversationScoped åÊåÊåÊåÊåÊåÊåÊåÊat org.jboss.weld.manager.BeanManagerImpl.getContext(BeanManagerImpl.java:664) åÊåÊåÊåÊåÊåÊåÊåÊat org.jboss.weld.bean.proxy.ContextBeanInstance.getInstance(ContextBeanInstance.java:77) åÊåÊåÊåÊåÊåÊåÊåÊat org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:124) åÊåÊåÊåÊåÊåÊåÊåÊat xxx.dao.UserLogManager.findLoggedInUser(UserLogManager.java:122) åÊåÊåÊåÊåÊåÊåÊåÊat xxx.security.WeldUserFactories.getLoggedInUser(WeldUserFactories.java:67) åÊåÊåÊåÊåÊåÊåÊåÊat xxx.security.WeldUserFactories.getLoggedInAdmin(WeldUserFactories.java:226) åÊåÊåÊåÊåÊåÊåÊåÊat xxx.security.WeldUserFactories.getCurrentUser(WeldUserFactories.java:239) åÊåÊåÊåÊåÊåÊåÊåÊat xxx.lms.frontend.template.FrontEndTemplate$LogoutLink.isVisible(FrontEndTemplate.java:725) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.Component.determineVisibility(Component.java:4381) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.Component.isVisibleInHierarchy(Component.java:2160) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.Component.isStateless(Component.java:2081) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.Page$2.component(Page.java:503) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.Page$2.component(Page.java:500) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.util.visit.Visits.visitChildren(Visits.java:143) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.util.visit.Visits.visitChildren(Visits.java:161) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.util.visit.Visits.visitChildren(Visits.java:122) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.MarkupContainer.visitChildren(MarkupContainer.java:866) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.Page.isPageStateless(Page.java:498) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.page.AbstractPageManager.touchPage(AbstractPageManager.java:123) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.page.AbstractPageManager.getPage(AbstractPageManager.java:105) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.page.PageManagerDecorator.getPage(PageManagerDecorator.java:50) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.page.PageAccessSynchronizer$2.getPage(PageAccessSynchronizer.java:257) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.DefaultMapperContext.getPageInstance(DefaultMapperContext.java:117) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.request.handler.PageProvider.getStoredPage(PageProvider.java:292) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.request.handler.PageProvider.hasPageInstance(PageProvider.java:380) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.request.handler.RenderPageRequestHandler.isPageInstanceCreated(RenderPageRequestHandler.java:181) åÊåÊåÊåÊåÊåÊåÊåÊat net.ftlines.wicket.cdi.ConversationPropagator.getPage(ConversationPropagator.java:261) åÊåÊåÊåÊåÊåÊåÊåÊat net.ftlines.wicket.cdi.ConversationPropagator.onRequestHandlerResolved(ConversationPropagator.java:111) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.request.cycle.RequestCycleListenerCollection$5.notify(RequestCycleListenerCollection.java:145) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.request.cycle.RequestCycleListenerCollection$5.notify(RequestCycleListenerCollection.java:142) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.util.listener.ListenerCollection.notify(ListenerCollection.java:80) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.request.cycle.RequestCycleListenerCollection.onRequestHandlerResolved(RequestCycleListenerCollection.java:141) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.request.cycle.RequestCycleListenerCollection$5.notify(RequestCycleListenerCollection.java:145) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.request.cycle.RequestCycleListenerCollection$5.notify(RequestCycleListenerCollection.java:142) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.util.listener.ListenerCollection.notify(ListenerCollection.java:80) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.request.cycle.RequestCycleListenerCollection.onRequestHandlerResolved(RequestCycleListenerCollection.java:141) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.request.cycle.RequestCycleListenerCollection$5.notify(RequestCycleListenerCollection.java:145) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.request.cycle.RequestCycleListenerCollection$5.notify(RequestCycleListenerCollection.java:142) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.util.listener.ListenerCollection.notify(ListenerCollection.java:80) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.request.cycle.RequestCycleListenerCollection.onRequestHandlerResolved(RequestCycleListenerCollection.java:141) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.request.cycle.RequestCycle.execute(RequestCycle.java:254) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.request.cycle.RequestCycle.processRequest(RequestCycle.java:212) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.request.cycle.RequestCycle.processRequestAndDetach(RequestCycle.java:283) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.protocol.http.WicketFilter.processRequest(WicketFilter.java:185) åÊåÊåÊåÊåÊåÊåÊåÊat org.apache.wicket.protocol.http.WicketFilter.doFilter(WicketFilter.java:241) {code},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
51694,,,,,x,,,Yes; it's my mistake; I'm overlooked this property.,Isn't it enough to disable auto focus on the form ?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
61974,,,,,,,,bulk close for 3.4,Committed for trunk and 3.x,Attaching final patch which will be committed shortly. Added better error handling.,Jan: +1,Has anyone got around to inspecting this patch? I'd like to get this into 3.3.,Bulk move 3.2 -> 3.3,Marking fo 3.2 since patch is ready,Hey Jan - putting this on my to-do list in the case that someone does not beat me to it. You have a variety of issues out there that I'd like to get to I think - sorry for the delay. You have been a fantastic addition to the project.,Anyone fancy testing this and consider for commit?,This new patch bumps version number to 1.4 and adds examples to the help of how to post csv; json and pdf,The solution was simple. Change the commit() method to do ?commit=true instead of posting as '<commit/>' Also cleaned up dead meat; added a -Doptimize=yes option and accepts -h and --help in addition to -help,It might not be a bug according to the original design intentions. But the first thing we tell users is to try out post.jar to post stuff; and now we've even included csv and json examples for it. Then it's unnecessary to get the error 'Solr returned an error #400 undefined field <commit/>' thrown in your face - the error does not even explain the problem. I'll try to assemble a first patch for this next week some time; adding a separate POST with ?commit=true after the last file is POSTed.,part of the reason it works the way it does now is that when commit=true it POSTs a single commit at the end of multiple file POSTs; if we use the param based commit it would either need to specify commit on all of them; or keep track of the last one only add the param there. Although only adding a 'commit' on the last update should be easy; we could also just do it via the URL. I believe posting '?commit=true' to update handlers w/o a body works?,post.jar has hardcoded assumptions about what URL you want to hit and how it should behave _x0089_ÛÒ if you want to change those assumptions there are documented params for changing it. -Durl=... and -Dcommit=false. if you want to post to something that isn't the XmlRequestHandler; you should specify -Dcommit=false; and then you can follow that with an explicit execution to commit... java -Durl=... -jar post.jar *.cssv java -jar post.jar part of the reason it works the way it does now is that when commit=true it POSTs a single commit at the end of multiple file POSTs; if we use the param based commit it would either need to specify commit on all of them; or keep track of the last one only add the param there. i don't object to changing post.jar to use a commit request param instead of sending the XML form; but this isn't a bug _x0089_ÛÒ it's working as it was intended.,Assume that all UpdateRequestHandlers support a GET parameter commit=true I think we should assume this; and fix anything where it doesn't work.,How would post.jar know the URL of the XmlUpdateRequestHandler? A) We could assume .*/solr/update as 99% would not modify the defaults? Or B) Assume that all UpdateRequestHandlers support a GET parameter commit=true In that case; we could append '?commit=true' to the given URL. I know for a fact that '/solr/update/csv?commit=true' will work,The commit could be snet at the end as a single xml document in a separate request if the content type of data is different.,Example:  lap:exampledocs janhoy$ java -Durl=http://localhost:8983/solr/update/csv -jar post.jar books.csv SimplePostTool: version 1.3 SimplePostTool: POSTing files to http://localhost:8983/solr/update/csv.. SimplePostTool: POSTing file books.csv SimplePostTool: COMMITting Solr index changes.. SimplePostTool: FATAL: Solr returned an error #400 undefined field <commit/>  The commit should be sent in a different way; problem is how to know where and how to send the commit in case of non-standard URLs; such as http://localhost:8983/solr/my/custom/updatehandler,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
56124,,,,x,,,,The problem is *not* really a bug in Struts but The problem is *not* really a bug in Struts but Bug #3534 of Catalina's Warp Connector; which causes the request's wrapped input stream to be closed to early. However; Strut's shouldn't work on as nothing has happened but should throw an exception to clearly indicate the error. Otherwise it is really hard to track down any problem related with invalid data of an submitted multipart form. åÊof Catalina's Warp Connector; which causes the request's wrapped input stream to be closed to early. However; Strut's shouldn't work on as nothing has happened but should throw an exception to clearly indicate the error. Otherwise it is really hard to track down any problem related with invalid data of an submitted multipart form.,Some additional note: The missing parameters always appear *after* the file to upload within the client request; i.e. POST /action/attachment-create HTTP/1.1 Host: localhost:7000 User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:0.9.5+) Gecko/20011009 Accept: text/xml; application/xml; application/xhtml+xml; text/html;q=0.9; image/png; image/jpeg; image/gif;q=0.2; text/plain;q=0.8; text/css; */*;q=0.1 Accept-Language: de; en;q=0.50 Accept-Encoding: gzip; deflate; compress;q=0.9 Accept-Charset: ISO-8859-1; utf-8;q=0.66; *;q=0.66 Keep-Alive: 300 Connection: keep-alive Cookie: JSESSIONID=F81185664918B2B3A970034023759421 Referer: http://localhost:7000/action/attachment-edit-list?call-id=23054 Content-type: multipart/form-data; boundary=---------------------------1627350459202016671524971257 Content-Length: 5254 -----------------------------1627350459202016671524971257 Content-Disposition: form-data; name='description' Test..... -----------------------------1627350459202016671524971257 Content-Disposition: form-data; name='attachment'; filename='boot-compat.b' Content-Type: application/msaccess ???ZR?B??BB$?ZR???Z?? ??[???t?S???[K???r??t< t??8?t?C?u???X?N??^1????t!??t?< t? <0r<9w;0?????????s????????? -----------------------------1627350459202016671524971257 Content-Disposition: form-data; name='com.consol.cmjsp.control.action.BaseAction.FORM_ACTION' /attachment-create -----------------------------1627350459202016671524971257 Content-Disposition: form-data; name='call-id' 23054 -----------------------------1627350459202016671524971257--,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
58874,,,,,,,,Committing to https://svn.apache.org/repos/asf/mina/sshd/trunk ... M sshd-core/src/main/java/org/apache/sshd/client/UserAuth.java M sshd-core/src/main/java/org/apache/sshd/client/auth/UserAuthAgent.java M sshd-core/src/main/java/org/apache/sshd/client/auth/UserAuthPassword.java M sshd-core/src/main/java/org/apache/sshd/client/auth/UserAuthPublicKey.java M sshd-core/src/main/java/org/apache/sshd/client/session/ClientSessionImpl.java M sshd-core/src/main/java/org/apache/sshd/common/Session.java M sshd-core/src/main/java/org/apache/sshd/common/session/AbstractSession.java M sshd-core/src/main/java/org/apache/sshd/server/FileSystemFactory.java M sshd-core/src/main/java/org/apache/sshd/server/FileSystemView.java M sshd-core/src/main/java/org/apache/sshd/server/channel/ChannelSession.java M sshd-core/src/main/java/org/apache/sshd/server/command/ScpCommand.java M sshd-core/src/main/java/org/apache/sshd/server/filesystem/NativeFileSystemFactory.java M sshd-core/src/main/java/org/apache/sshd/server/filesystem/NativeFileSystemView.java M sshd-core/src/main/java/org/apache/sshd/server/session/ServerSession.java Committed r1039541,This patch adds support for the Virtual Filesystem for SCP and allowd information exchange between the authenticator and the filesystem,Sorry; I forgot the tests...I will submit a new patch,This patch adds the requested changes.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
45877,,,,,,,,Integrated in Thrift #426 (See https://builds.apache.org/job/Thrift/426/) THRIFT-1532/ THRIFT-1475 - fix record generation for erlang (Revision 1303663) Result = SUCCESS molinaro : http://svn.apache.org/viewvc/?view=rev&rev=1303663 Files : /thrift/trunk/compiler/cpp/src/generate/t_erl_generator.cc /thrift/trunk/lib/erl/Makefile.am /thrift/trunk/lib/erl/test/Thrift1475.thrift,I believe the fix for THRIFT-1532 also fixes this. I went a slightly different direction; so see THRIFT-1532 for details. Also please try out the patch and let me know if doesn't work in some cases.,I'm not clear how things are broken; do you have an example .thrift file and an example of how running it with the dialyzer fails? I tried  struct StructA {   1: string a;   2: binary b;   3: optional string c;   4: optional binary d;   5: required string e;   6: required binary f;   7: string g = 'foo'; }  Which generates  -record(structA; {a = undefined :: string();                   b = undefined :: string();                   c = undefined :: string();                   d = undefined :: string();                   e = undefined :: string();                   f = undefined :: string();                   g = 'foo' :: string()}).  Which arguably is not quite correct; but doesn't cause the dialyzer to fail with an error; so I'm not sure what the issue your patch fixes is. Can you include some information on how to reproduce and test this? Also; I'm wondering if the type signatures might cause issues in a server. Right not when a server gets a record which fields which are 'strings' the fields actually come in as binaries (assumably as an optimization as you might not need them as 'strings'; so dialyzer might complain about that; not sure).,Hey; anybody here?,Patch attached,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
50449,,,,,,,,Does not occurs on Firefox or Curl. Probably a Chrome problem.,Affects also 5.1.0.5.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
41962,,,,,,,,I have fixed that issue by checking for a null before the line 95 of HtmlInputTextRenderer: writer.writeAttribute(HTML.VALUE_ATTR; value; JSFAttr.VALUE_ATTR); 'value' is null here when using jetty+JSF-RI.,The behaviour with this issue (and I guess the cause) is the same than in TOMAHAWK-781,By the way; the translation of the exception is: java.lang.NullPointerException: Argument Error: One or more parameters are null. at com.sun.faces.renderkit.html_basic.HtmlResponseWriter.writeAttribute(HtmlResponseWriter.java:260) ...,Mmh; I continue having it after putting commons-lang in the classpath (although I dont get a ClassDefNotFound which I got before)...,Reproduced it; commons-lang missing in the classpath when using the JSF-RI.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
12357,,,,x,x,,,You are mixing runtimes. You must link _all_ executables with the same run- time library. For release; it's Multithreaded DLL; for debug; it's Debug Multithreaded DLL. Otherwise; bad things will happen when memory allocated from one heap is freed in another. I rebuilt your code with the appropriate setting; and everything worked fine. See the project settings dialog box; C/C++ tab; and the 'Code generation' category.,Created an attachment (id=8494) I have removed some additional headers (extfnapi.h) and other files no longer required.,Created an attachment (id=8425) There is a readme.txt within the file; this does reproduce exactly what I was seeing in my original problem. My previous attachment was a poor attempt at stripping out code to create a repro that would run on most peoples machines. I ripped out the large fails (which I believe where compiler generated to contain the size of the zip file).,You must call XMLPlatformUtils::Initialize() and XalanTransformer::initialize() before you make any calls into the libraries. Take a look at some of the samples; or the Xalan command line executable source code for more information. There is at least one other bug in your code as well: The variable 'result' is a null pointer; but your code tries to copy data to it.,Created an attachment (id=8299) VC6 project plus files (hopefully everything necessary is included),You can attach your zip file by clicking on the Attachments link just below the Keywords link.,I'm going to transfer this bug to Xalan-C for investigation. If it turns out to be a Xerces-C problem; I'll transfer it back.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
11718,,,,,,,,*** This bug has been marked as a duplicate of 6155 ***,We had coverage of imported decimal-format declarations in numberformat tests 22; 23; 24; 43; 44; but all used named formats. New case 45 shows that the problem does exist with the default format. Simple workaround: name your format.,Since Gary says there's definitely something we should address here; I'm moving this to New so we can triage it. A handy-dandy test case from someone would be a big help too...,Just to clarify the issue: XSLT Section 12.3 states 'It is an error to declared either the default decimal-format or a decimal-format with a given name more than once (even with different import precedence); unless it is declared every time with the same value for all attributes (taking into account any default values).' This is handled in StylesheetRoot.recomposeDecimalFormats(). XalanJ is not conformant here. XalanJ will only accept the first default decimal-format or decimal-format with a given name and will issue a warning message for any other decimal-formats encountered without checking to see if the attributes match. I'm not sure if this addresses jschwendner's problem or not but it is something that should eventually be fixed. I'll put this on my list for today. Gary,Can you do two things to help us diagnose this? - Try it with the latest posted build 2.2D06? - Attach both of your .xsl stylesheets and an .xml document that show this bug so we can reproduce the specific case. Thanks.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
28741,,,,,,,,documentation needs updating,Implemented,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
50483,,,,,,,,Integrated in tapestry-trunk-freestyle #511 (See [https://builds.apache.org/job/tapestry-trunk-freestyle/511/]) åÊåÊåÊåÊTAP5-1628 minor rewording (javadoc only) bobharner : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1167084 Files : * /tapestry/tapestry5/trunk/tapestry-core/src/main/java/org/apache/tapestry5/corelib/base/AbstractField.java * /tapestry/tapestry5/trunk/tapestry-core/src/main/java/org/apache/tapestry5/corelib/components/Submit.java,Okay; changed to: If true; then the field will render out with a disabled attribute (to turn off client-side behavior). When the form is submitted; the bound value is evaluated again and; if true; the field's value is ignored (not even validated) and the component's events are not fired.,Yep; sounds good! Thanks! Though I prefer the term similar to 're-evaluated' over 'checked' so you know the whole expression is; err; evaluated (!); and it's not just some cached value being checked. But anything is better nothing; so; um; cheers!,Okay; I get it. How about the following: åÊåÊåÊåÊåÊIf true; then the field will render out with a disabled attribute åÊåÊåÊåÊåÊ(to turn off client-side behavior). When the form is submitted åÊåÊåÊåÊåÊthe bound value is checked again and; if true; the field's åÊåÊåÊåÊåÊvalue is ignored (not even validated) and the component's åÊåÊåÊåÊåÊevents are not fired.,Um; I mean; '...for does this not effectively...',It is less to do with the @Persist annotation and more to do with not knowing the disabled parameter is used / re-evaluated during the server-side form submit event. Once the <input> element has rendered; it is not obvious the disabled parameter will ever be used / re-evaluated again; for I would expect it's sole purpose is to only render the HTML 'disabled' attribute. I guess I should (have) really ask(ed) why the disabled parameter is evaluated again on form submission; for this not effectively prevent you from re-enabling the component (via javascript) on the web page?,Integrated in tapestry-trunk-freestyle #506 (See [https://builds.apache.org/job/tapestry-trunk-freestyle/506/]) åÊåÊåÊåÊFixed TAP5-1628 (Have Submit documentation explicitly state when the disabled attribute is evaluated); javadoc changes only. bobharner : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1165938 Files : * /tapestry/tapestry5/trunk/tapestry-core/src/main/java/org/apache/tapestry5/corelib/base/AbstractField.java * /tapestry/tapestry5/trunk/tapestry-core/src/main/java/org/apache/tapestry5/corelib/components/Submit.java,Fixed in rev 1165938; although with different text: åÊåÊåÊåÊåÊIf true; then the field will render out with a disabled attribute åÊåÊåÊåÊåÊ(to turn off client-side behavior). When the form is submitted; disabled åÊåÊåÊåÊåÊfields' values are ignored (not even validated); and the component's åÊåÊåÊåÊåÊevents; if any; are not fired. But I'm not sure a better description of the disabled parameter helps people know when to apply the @Persist annotation.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
8980,,,,,,,,Added 'onRowInserted' callback to TreeTable; call it from TableBridge when a row is inserted; so far just using it to resize sizer bars.' C:/workspace/xap/codebase/src/xap/bridges/dojo/TableBridge.js C:/workspace/xap/codebase/src/xap/widgets/dojo/TreeTable.js åÊåÊåÊåÊSending workspace/xap/codebase/src/xap/bridges/dojo/TableBridge.js åÊåÊåÊåÊSending workspace/xap/codebase/src/xap/widgets/dojo/TreeTable.js åÊåÊåÊåÊTransmitting file data ... åÊåÊåÊåÊCommitted revision 534737.,I'm going to reopen this issue because there's an extremely similar problem when new rows are added. Try clicking 'Add a Row' in the table component test.,Revision 532047. Expanding a row now triggers extending the resizer line down to the new bottom:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
32084,,,,,,,,Closing because this has been in RESOLVED state for over one year; if it turns out to not be fixed please reopen.,Fixed under r684136,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
35420,,,,,,,,put backdoor cleanup v3.3 target,Can we move this out to 3.3.0 ? If so; mark it accordingly.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
60566,,,,,,,,[branch_4x commit] Michael McCandless http://svn.apache.org/viewvc?view=revision&revision=1390137 SOLR-3879: don't ship servlet-api*.jar,just open another issue to not put this jar file in the binary release. lets fix that for 4.0,Mike: should we open another issue in LUCENE? Lucene Demo has the same packaging problem like this solr one. It's unrelated to the discussion; if the demo webapp should be removed.,Thanks Roman!,It is not only useless; its as stupid as shipping with rt.jar... It is as wrong as shipping inside war.,I thought about this too; it seems useless to me to ship this.,Oh; we should not add the servlet API lib to the binary release. It is a compile time dependent and is provided by the webapp container where you depoly the demo. We should not ship binary with compile time dependencies.,Looks good! My intention was to only check all Lucene product artifacts (not dependencies and compile time depends); but its a good idea to also find invalid artifacts from other projects. In Solr; of course the example folder must be excluded; too as it contains jetty; too.,+1 to commit mike's latest patch (the test) and Roman's patch (the fix). this should be done in 4.0 branch as well.,Patch; also checking all *.jar in Lucene's binary releases. I had to exclude lucene/demo/lib since it ships servlet-api-2.4.jar. (Should we remove that demo webapp?).,Uwe; good idea: I'll do that.,We should maybe also do the same check on all Lucene-generated jar files?,Very nice.,Patch (against 4.0.x branch) for smokeTestRelease.py. It fails on the 4.0.0 RC with this: Traceback (most recent call last):   File 'dev-tools/scripts/smokeTestRelease.py'; line 1161; in <module>   File 'dev-tools/scripts/smokeTestRelease.py'; line 1109; in main   File 'dev-tools/scripts/smokeTestRelease.py'; line 1151; in smokeTest   File 'dev-tools/scripts/smokeTestRelease.py'; line 446; in unpack   File 'dev-tools/scripts/smokeTestRelease.py'; line 558; in verifyUnpacked   File 'dev-tools/scripts/smokeTestRelease.py'; line 177; in checkSolrWAR RuntimeError: WAR file /l/40x/tmp/unpack/apache-solr-4.0.0/example/webapps/solr.war contains JAR file WEB-INF/lib/javax.servlet-api-3.0.1.jar with illegal class 'javax/servlet/ServletSecurityElement.class',I'll fix smokeTestRelease to check for this ...,+1 to fix this issue!,peek inside the war in smokeTestRelease.py and ensure no servlet-api jars or java./javax. classes inside jars in the war Yeah; I think this would be a general useful addition - a list of regex or specific names for forbidden jars and class names.,Thanks! I'll update the patch shortly to include a test for this.,Roman your patch looks good. smokeTestRelease.py (in the dev-tools/scripts directory) is a way to verify release artifacts. Its like a test for the release packaging itself; so it takes as input a URL containing a release candidate (such as http://s.apache.org/lusolr40rc0); and runs a bunch of tests on the files there and fails if something is wrong. It can also be run against the current code checkout by running 'ant nightly-smoke' from the top-level. The key here is; if we don't test that the war doesn't contain stuff it shouldn't; then the bug could come back for a future release.,Attached is the patch against trunk. When applied to the RC tarball it takes care of the issue. Robert; can you please elaborate on how smokeTestRelease.py relates to build/release? I'm pretty new to SOLR _x0089_ÛÒ still learning.,I don't see a servlet-api.jar in the 3.6.0 war; but i do see it in 4.0.0 war. Sounds like a mistake that it's in 4.0 AFAIK; it's only for compiling against... the actual servlet container should supply the API/implementation (but I'm not a servlet expert either).,It is definitely a bug to include that jar file. I said it so many times; servlet-api.jar is only a compile time dependecy and may not be in the war. We should fix the packaging tasks; the binary release may also only contain servlet.jar in the example folder next to jetty.,I don't see a servlet-api.jar in the 3.6.0 war; but i do see it in 4.0.0 war. I don't know anything about servlets; and would prefer if someone who knew looked at this; I just want to add my comment to please not commit any fix without a test (peek inside the war in smokeTestRelease.py and ensure no servlet-api jars or java./javax. classes inside jars in the war),,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
